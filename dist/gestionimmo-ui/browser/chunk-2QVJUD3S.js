import{a as j,c as wt,d as Gn}from"./chunk-OFVNMPPK.js";import{a as Be,b as me,c as jn,d as ce,e as B,g as Pe,h as Me,j as Fe}from"./chunk-DE55SL3I.js";import{$ as A,Ac as It,Ba as P,Bb as Ln,Bc as K,Ca as Tn,Cb as V,E as Mn,Ea as Ge,Eb as U,Fa as ze,Fc as $n,Ga as Ue,Ia as s,Ja as v,Jc as qn,Ka as g,La as O,Lc as Ot,M as h,N as b,Oa as Ce,Pa as q,Qa as G,Ra as z,S as be,Ta as ye,Ua as Kt,X as o,Xa as m,Ya as c,Z as E,Za as ue,aa as Fn,c as I,ca as xe,d as ba,da as x,dc as Rn,ec as H,f as Pn,g as ee,ga as S,gc as $,ha as k,hb as He,hc as X,ia as w,ic as Ee,jb as ae,kb as Dn,la as y,lb as N,lc as oe,mc as Ie,na as kn,nb as Se,nc as Nn,oa as L,ob as An,oc as le,pa as R,pc as we,qa as l,qc as Oe,ra as a,rc as yt,s as ne,sa as p,sc as St,tc as Et,ub as Xe,v as re,va as F,vb as xt,vc as Vn,wb as Ct,wc as W,xa as C,xb as Qt,ya as _,zc as se}from"./chunk-2VB7ZOXT.js";var Q=I(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});function tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var il=function t(e,i){tl(this,t),this.data=e,this.text=i.text||e,this.options=i};ti.default=il});var Xn=I(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.CODE39=void 0;var nl=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),rl=Q(),al=ol(rl);function ol(t){return t&&t.__esModule?t:{default:t}}function ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ml(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cl=function(t){ml(e,t);function e(i,n){return ll(this,e),i=i.toUpperCase(),n.mod43&&(i+=ul(fl(i))),sl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return nl(e,[{key:"encode",value:function(){for(var n=ii("*"),r=0;r<this.data.length;r++)n+=ii(this.data[r])+"0";return n+=ii("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(al.default),Un=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],dl=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function ii(t){return pl(Hn(t))}function pl(t){return dl[t].toString(2)}function ul(t){return Un[t]}function Hn(t){return Un.indexOf(t)}function fl(t){for(var e=0,i=0;i<t.length;i++)e+=Hn(t[i]);return e=e%43,e}At.CODE39=cl});var We=I(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var st;function ni(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Wn=T.SET_A=0,Kn=T.SET_B=1,Qn=T.SET_C=2,r1=T.SHIFT=98,gl=T.START_A=103,vl=T.START_B=104,_l=T.START_C=105,a1=T.MODULO=103,o1=T.STOP=106,l1=T.FNC1=207,s1=T.SET_BY_CODE=(st={},ni(st,gl,Wn),ni(st,vl,Kn),ni(st,_l,Qn),st),m1=T.SWAP={101:Wn,100:Kn,99:Qn},c1=T.A_START_CHAR="\xD0",d1=T.B_START_CHAR="\xD1",p1=T.C_START_CHAR="\xD2",u1=T.A_CHARS="[\0-_\xC8-\xCF]",f1=T.B_CHARS="[ -\x7F\xC8-\xCF]",g1=T.C_CHARS="(\xCF*[0-9]{2}\xCF*)",v1=T.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]});var mt=I(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});var hl=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),bl=Q(),xl=Cl(bl),Z=We();function Cl(t){return t&&t.__esModule?t:{default:t}}function yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function El(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Il=function(t){El(e,t);function e(i,n){yl(this,e);var r=Sl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i.substring(1),n));return r.bytes=i.split("").map(function(d){return d.charCodeAt(0)}),r}return hl(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,r=n.shift()-105,d=Z.SET_BY_CODE[r];if(d===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(Z.FNC1);var u=e.next(n,1,d);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(r)+u.result+e.getBar((u.checksum+r)%Z.MODULO)+e.getBar(Z.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return Z.BARS[n]?Z.BARS[n].toString():""}},{key:"correctIndex",value:function(n,r){if(r===Z.SET_A){var d=n.shift();return d<32?d+64:d-32}else return r===Z.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,r,d){if(!n.length)return{result:"",checksum:0};var u=void 0,f=void 0;if(n[0]>=200){f=n.shift()-105;var M=Z.SWAP[f];M!==void 0?u=e.next(n,r+1,M):((d===Z.SET_A||d===Z.SET_B)&&f===Z.SHIFT&&(n[0]=d===Z.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),u=e.next(n,r+1,d))}else f=e.correctIndex(n,d),u=e.next(n,r+1,d);var D=e.getBar(f),J=f*r;return{result:D+u.result,checksum:J+u.checksum}}}]),e}(xl.default);ri.default=Il});var tr=I(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});var Ae=We(),Yn=function(e){return e.match(new RegExp("^"+Ae.A_CHARS+"*"))[0].length},Jn=function(e){return e.match(new RegExp("^"+Ae.B_CHARS+"*"))[0].length},Zn=function(e){return e.match(new RegExp("^"+Ae.C_CHARS+"*"))[0]};function ai(t,e){var i=e?Ae.A_CHARS:Ae.B_CHARS,n=t.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+"\xCC"+er(t.substring(n[1].length));var r=t.match(new RegExp("^"+i+"+"))[0];return r.length===t.length?t:r+String.fromCharCode(e?205:206)+ai(t.substring(r.length),!e)}function er(t){var e=Zn(t),i=e.length;if(i===t.length)return t;t=t.substring(i);var n=Yn(t)>=Jn(t);return e+String.fromCharCode(n?206:205)+ai(t,n)}oi.default=function(t){var e=void 0,i=Zn(t).length;if(i>=2)e=Ae.C_START_CHAR+er(t);else{var n=Yn(t)>Jn(t);e=(n?Ae.A_START_CHAR:Ae.B_START_CHAR)+ai(t,n)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(r,d){return"\xCB"+d})}});var nr=I(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var wl=mt(),Ol=ir(wl),Bl=tr(),Pl=ir(Bl);function ir(t){return t&&t.__esModule?t:{default:t}}function Ml(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function li(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Fl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kl=function(t){Fl(e,t);function e(i,n){if(Ml(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(i))var r=li(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Pl.default)(i),n));else var r=li(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return li(r)}return e}(Ol.default);si.default=kl});var ar=I(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});var Tl=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Dl=mt(),Al=Ll(Dl),rr=We();function Ll(t){return t&&t.__esModule?t:{default:t}}function Rl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $l=function(t){Vl(e,t);function e(i,n){return Rl(this,e),Nl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,rr.A_START_CHAR+i,n))}return Tl(e,[{key:"valid",value:function(){return new RegExp("^"+rr.A_CHARS+"+$").test(this.data)}}]),e}(Al.default);mi.default=$l});var lr=I(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var jl=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ql=mt(),Gl=zl(ql),or=We();function zl(t){return t&&t.__esModule?t:{default:t}}function Ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wl=function(t){Xl(e,t);function e(i,n){return Ul(this,e),Hl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,or.B_START_CHAR+i,n))}return jl(e,[{key:"valid",value:function(){return new RegExp("^"+or.B_CHARS+"+$").test(this.data)}}]),e}(Gl.default);ci.default=Wl});var mr=I(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});var Kl=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ql=mt(),Yl=Jl(Ql),sr=We();function Jl(t){return t&&t.__esModule?t:{default:t}}function Zl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function es(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ts(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var is=function(t){ts(e,t);function e(i,n){return Zl(this,e),es(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,sr.C_START_CHAR+i,n))}return Kl(e,[{key:"valid",value:function(){return new RegExp("^"+sr.C_CHARS+"+$").test(this.data)}}]),e}(Yl.default);di.default=is});var cr=I(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.CODE128C=pe.CODE128B=pe.CODE128A=pe.CODE128=void 0;var ns=nr(),rs=Lt(ns),as=ar(),os=Lt(as),ls=lr(),ss=Lt(ls),ms=mr(),cs=Lt(ms);function Lt(t){return t&&t.__esModule?t:{default:t}}pe.CODE128=rs.default;pe.CODE128A=os.default;pe.CODE128B=ss.default;pe.CODE128C=cs.default});var Ke=I(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var I1=Le.SIDE_BIN="101",w1=Le.MIDDLE_BIN="01010",O1=Le.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},B1=Le.EAN2_STRUCTURE=["LL","LG","GL","GG"],P1=Le.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],M1=Le.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]});var Qe=I(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});var ds=Ke(),ps=function(e,i,n){var r=e.split("").map(function(u,f){return ds.BINARIES[i[f]]}).map(function(u,f){return u?u[e[f]]:""});if(n){var d=e.length-1;r=r.map(function(u,f){return f<d?u+n:u})}return r.join("")};pi.default=ps});var fi=I(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var us=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ye=Ke(),fs=Qe(),dr=pr(fs),gs=Q(),vs=pr(gs);function pr(t){return t&&t.__esModule?t:{default:t}}function _s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hs(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xs=function(t){bs(e,t);function e(i,n){_s(this,e);var r=hs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return us(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,r){return this.text.substr(n,r)}},{key:"leftEncode",value:function(n,r){return(0,dr.default)(n,r)}},{key:"rightText",value:function(n,r){return this.text.substr(n,r)}},{key:"rightEncode",value:function(n,r){return(0,dr.default)(n,r)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},r={height:this.guardHeight};return[{data:Ye.SIDE_BIN,options:r},{data:this.leftEncode(),text:this.leftText(),options:n},{data:Ye.MIDDLE_BIN,options:r},{data:this.rightEncode(),text:this.rightText(),options:n},{data:Ye.SIDE_BIN,options:r}]}},{key:"encodeFlat",value:function(){var n=[Ye.SIDE_BIN,this.leftEncode(),Ye.MIDDLE_BIN,this.rightEncode(),Ye.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),e}(vs.default);ui.default=xs});var fr=I(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});var Cs=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ct=function t(e,i,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(r===void 0){var d=Object.getPrototypeOf(e);return d===null?void 0:t(d,i,n)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(n)}},ys=Ke(),Ss=fi(),Es=Is(Ss);function Is(t){return t&&t.__esModule?t:{default:t}}function ws(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Os(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ur=function(e){var i=e.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,r,d){return d%2?n+r*3:n+r},0);return(10-i%10)%10},Ps=function(t){Bs(e,t);function e(i,n){ws(this,e),i.search(/^[0-9]{12}$/)!==-1&&(i+=ur(i));var r=Os(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.lastChar=n.lastChar,r}return Cs(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===ur(this.data)}},{key:"leftText",value:function(){return ct(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),r=ys.EAN13_STRUCTURE[this.data[0]];return ct(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,r)}},{key:"rightText",value:function(){return ct(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return ct(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=ct(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(Es.default);gi.default=Ps});var vr=I(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});var Ms=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Rt=function t(e,i,n){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(r===void 0){var d=Object.getPrototypeOf(e);return d===null?void 0:t(d,i,n)}else{if("value"in r)return r.value;var u=r.get;return u===void 0?void 0:u.call(n)}},Fs=fi(),ks=Ts(Fs);function Ts(t){return t&&t.__esModule?t:{default:t}}function Ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function As(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ls(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gr=function(e){var i=e.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,r,d){return d%2?n+r:n+r*3},0);return(10-i%10)%10},Rs=function(t){Ls(e,t);function e(i,n){return Ds(this,e),i.search(/^[0-9]{7}$/)!==-1&&(i+=gr(i)),As(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Ms(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===gr(this.data)}},{key:"leftText",value:function(){return Rt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return Rt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return Rt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return Rt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),e}(ks.default);vi.default=Rs});var hr=I(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var Ns=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Vs=Ke(),$s=Qe(),js=_r($s),qs=Q(),Gs=_r(qs);function _r(t){return t&&t.__esModule?t:{default:t}}function zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Us(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xs=function(e){var i=e.split("").map(function(n){return+n}).reduce(function(n,r,d){return d%2?n+r*9:n+r*3},0);return i%10},Ws=function(t){Hs(e,t);function e(i,n){return zs(this,e),Us(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Ns(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=Vs.EAN5_STRUCTURE[Xs(this.data)];return{data:"1011"+(0,js.default)(this.data,n,"01"),text:this.text}}}]),e}(Gs.default);_i.default=Ws});var xr=I(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});var Ks=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Qs=Ke(),Ys=Qe(),Js=br(Ys),Zs=Q(),e0=br(Zs);function br(t){return t&&t.__esModule?t:{default:t}}function t0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function n0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r0=function(t){n0(e,t);function e(i,n){return t0(this,e),i0(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Ks(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=Qs.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,Js.default)(this.data,n,"01"),text:this.text}}}]),e}(e0.default);hi.default=r0});var xi=I(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});var a0=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();Nt.checksum=bi;var o0=Qe(),Je=Cr(o0),l0=Q(),s0=Cr(l0);function Cr(t){return t&&t.__esModule?t:{default:t}}function m0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function d0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p0=function(t){d0(e,t);function e(i,n){m0(this,e),i.search(/^[0-9]{11}$/)!==-1&&(i+=bi(i));var r=c0(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.displayValue=n.displayValue,n.fontSize>n.width*10?r.fontSize=n.width*10:r.fontSize=n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return a0(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==bi(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,Je.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,Je.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,Je.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,Je.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,Je.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,Je.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),e}(s0.default);function bi(t){var e=0,i;for(i=1;i<11;i+=2)e+=parseInt(t[i]);for(i=0;i<11;i+=2)e+=parseInt(t[i])*3;return(10-e%10)%10}Nt.default=p0});var Er=I(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});var u0=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),f0=Qe(),g0=Sr(f0),v0=Q(),_0=Sr(v0),h0=xi();function Sr(t){return t&&t.__esModule?t:{default:t}}function b0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ci(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function x0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var C0=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],y0=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],S0=function(t){x0(e,t);function e(i,n){b0(this,e);var r=Ci(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));if(r.isValid=!1,i.search(/^[0-9]{6}$/)!==-1)r.middleDigits=i,r.upcA=yr(i,"0"),r.text=n.text||""+r.upcA[0]+i+r.upcA[r.upcA.length-1],r.isValid=!0;else if(i.search(/^[01][0-9]{7}$/)!==-1)if(r.middleDigits=i.substring(1,i.length-1),r.upcA=yr(r.middleDigits,i[0]),r.upcA[r.upcA.length-1]===i[i.length-1])r.isValid=!0;else return Ci(r);else return Ci(r);return r.displayValue=n.displayValue,n.fontSize>n.width*10?r.fontSize=n.width*10:r.fontSize=n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return u0(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],r=this.upcA[this.upcA.length-1],d=y0[parseInt(r)][parseInt(n)];return(0,g0.default)(this.middleDigits,d)}}]),e}(_0.default);function yr(t,e){for(var i=parseInt(t[t.length-1]),n=C0[i],r="",d=0,u=0;u<n.length;u++){var f=n[u];f==="X"?r+=t[d++]:r+=f}return r=""+e+r,""+r+(0,h0.checksum)(r)}yi.default=S0});var Ir=I(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.UPCE=Y.UPC=Y.EAN2=Y.EAN5=Y.EAN8=Y.EAN13=void 0;var E0=fr(),I0=Ze(E0),w0=vr(),O0=Ze(w0),B0=hr(),P0=Ze(B0),M0=xr(),F0=Ze(M0),k0=xi(),T0=Ze(k0),D0=Er(),A0=Ze(D0);function Ze(t){return t&&t.__esModule?t:{default:t}}Y.EAN13=I0.default;Y.EAN8=O0.default;Y.EAN5=P0.default;Y.EAN2=F0.default;Y.UPC=T0.default;Y.UPCE=A0.default});var wr=I(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});var j1=dt.START_BIN="1010",q1=dt.END_BIN="11101",G1=dt.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]});var Ei=I(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});var L0=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Vt=wr(),R0=Q(),N0=V0(R0);function V0(t){return t&&t.__esModule?t:{default:t}}function $0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function q0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var G0=function(t){q0(e,t);function e(){return $0(this,e),j0(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return L0(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,r=this.data.match(/.{2}/g).map(function(d){return n.encodePair(d)}).join("");return{data:Vt.START_BIN+r+Vt.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var r=Vt.BINARIES[n[1]];return Vt.BINARIES[n[0]].split("").map(function(d,u){return(d==="1"?"111":"1")+(r[u]==="1"?"000":"0")}).join("")}}]),e}(N0.default);Si.default=G0});var Br=I(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});var z0=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),U0=Ei(),H0=X0(U0);function X0(t){return t&&t.__esModule?t:{default:t}}function W0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Q0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Or=function(e){var i=e.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,r,d){return n+r*(3-d%2*2)},0);return Math.ceil(i/10)*10-i},Y0=function(t){Q0(e,t);function e(i,n){return W0(this,e),i.search(/^[0-9]{13}$/)!==-1&&(i+=Or(i)),K0(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return z0(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===Or(this.data)}}]),e}(H0.default);Ii.default=Y0});var Mr=I(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.ITF14=et.ITF=void 0;var J0=Ei(),Z0=Pr(J0),em=Br(),tm=Pr(em);function Pr(t){return t&&t.__esModule?t:{default:t}}et.ITF=Z0.default;et.ITF14=tm.default});var tt=I(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});var im=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),nm=Q(),rm=am(nm);function am(t){return t&&t.__esModule?t:{default:t}}function om(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lm(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mm=function(t){sm(e,t);function e(i,n){return om(this,e),lm(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return im(e,[{key:"encode",value:function(){for(var n="110",r=0;r<this.data.length;r++){var d=parseInt(this.data[r]),u=d.toString(2);u=cm(u,4-u.length);for(var f=0;f<u.length;f++)n+=u[f]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(rm.default);function cm(t,e){for(var i=0;i<e;i++)t="0"+t;return t}wi.default=mm});var pt=I($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.mod10=dm;$t.mod11=pm;function dm(t){for(var e=0,i=0;i<t.length;i++){var n=parseInt(t[i]);(i+t.length)%2===0?e+=n:e+=n*2%10+Math.floor(n*2/10)}return(10-e%10)%10}function pm(t){for(var e=0,i=[2,3,4,5,6,7],n=0;n<t.length;n++){var r=parseInt(t[t.length-1-n]);e+=i[n%i.length]*r}return(11-e%11)%11}});var Fr=I(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});var um=tt(),fm=vm(um),gm=pt();function vm(t){return t&&t.__esModule?t:{default:t}}function _m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hm(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xm=function(t){bm(e,t);function e(i,n){return _m(this,e),hm(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i+(0,gm.mod10)(i),n))}return e}(fm.default);Oi.default=xm});var kr=I(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});var Cm=tt(),ym=Em(Cm),Sm=pt();function Em(t){return t&&t.__esModule?t:{default:t}}function Im(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wm(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Om(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bm=function(t){Om(e,t);function e(i,n){return Im(this,e),wm(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i+(0,Sm.mod11)(i),n))}return e}(ym.default);Bi.default=Bm});var Dr=I(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});var Pm=tt(),Mm=Fm(Pm),Tr=pt();function Fm(t){return t&&t.__esModule?t:{default:t}}function km(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tm(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Am=function(t){Dm(e,t);function e(i,n){return km(this,e),i+=(0,Tr.mod10)(i),i+=(0,Tr.mod10)(i),Tm(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return e}(Mm.default);Pi.default=Am});var Lr=I(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});var Lm=tt(),Rm=Nm(Lm),Ar=pt();function Nm(t){return t&&t.__esModule?t:{default:t}}function Vm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qm=function(t){jm(e,t);function e(i,n){return Vm(this,e),i+=(0,Ar.mod11)(i),i+=(0,Ar.mod10)(i),$m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return e}(Rm.default);Mi.default=qm});var Rr=I(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.MSI1110=te.MSI1010=te.MSI11=te.MSI10=te.MSI=void 0;var Gm=tt(),zm=ut(Gm),Um=Fr(),Hm=ut(Um),Xm=kr(),Wm=ut(Xm),Km=Dr(),Qm=ut(Km),Ym=Lr(),Jm=ut(Ym);function ut(t){return t&&t.__esModule?t:{default:t}}te.MSI=zm.default;te.MSI10=Hm.default;te.MSI11=Wm.default;te.MSI1010=Qm.default;te.MSI1110=Jm.default});var Nr=I(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.pharmacode=void 0;var Zm=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ec=Q(),tc=ic(ec);function ic(t){return t&&t.__esModule?t:{default:t}}function nc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ac(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var oc=function(t){ac(e,t);function e(i,n){nc(this,e);var r=rc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return r.number=parseInt(i,10),r}return Zm(e,[{key:"encode",value:function(){for(var n=this.number,r="";!isNaN(n)&&n!=0;)n%2===0?(r="11100"+r,n=(n-2)/2):(r="100"+r,n=(n-1)/2);return r=r.slice(0,-2),{data:r,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(tc.default);jt.pharmacode=oc});var Vr=I(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.codabar=void 0;var lc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),sc=Q(),mc=cc(sc);function cc(t){return t&&t.__esModule?t:{default:t}}function dc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fc=function(t){uc(e,t);function e(i,n){dc(this,e),i.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(i="A"+i+"A");var r=pc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i.toUpperCase(),n));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return lc(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],r=this.getEncodings(),d=0;d<this.data.length;d++)n.push(r[this.data.charAt(d)]),d!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(mc.default);qt.codabar=fc});var $r=I(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});var rf=ft.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","\xFF"],af=ft.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],of=ft.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"\x7F":["(%)","T"]}});var ki=I(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});var gc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Gt=$r(),vc=Q(),_c=hc(vc);function hc(t){return t&&t.__esModule?t:{default:t}}function bc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yc=function(t){Cc(e,t);function e(i,n){return bc(this,e),xc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return gc(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(f){return Gt.MULTI_SYMBOLS[f]||f}),r=n.map(function(f){return e.getEncoding(f)}).join(""),d=e.checksum(n,20),u=e.checksum(n.concat(d),15);return{text:this.text,data:e.getEncoding("\xFF")+r+e.getEncoding(d)+e.getEncoding(u)+e.getEncoding("\xFF")+"1"}}}],[{key:"getEncoding",value:function(n){return Gt.BINARIES[e.symbolValue(n)]}},{key:"getSymbol",value:function(n){return Gt.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return Gt.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,r){var d=n.slice().reverse().reduce(function(u,f,M){var D=M%r+1;return u+e.symbolValue(f)*D},0);return e.getSymbol(d%47)}}]),e}(_c.default);Fi.default=yc});var jr=I(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});var Sc=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ec=ki(),Ic=wc(Ec);function wc(t){return t&&t.__esModule?t:{default:t}}function Oc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bc(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Mc=function(t){Pc(e,t);function e(i,n){return Oc(this,e),Bc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Sc(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(Ic.default);Ti.default=Mc});var Gr=I(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.CODE93FullASCII=it.CODE93=void 0;var Fc=ki(),kc=qr(Fc),Tc=jr(),Dc=qr(Tc);function qr(t){return t&&t.__esModule?t:{default:t}}it.CODE93=kc.default;it.CODE93FullASCII=Dc.default});var zr=I(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.GenericBarcode=void 0;var Ac=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Lc=Q(),Rc=Nc(Lc);function Nc(t){return t&&t.__esModule?t:{default:t}}function Vc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qc=function(t){jc(e,t);function e(i,n){return Vc(this,e),$c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n))}return Ac(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(Rc.default);zt.GenericBarcode=qc});var Xr=I(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});var Gc=Xn(),Ut=cr(),nt=Ir(),Ur=Mr(),gt=Rr(),zc=Nr(),Uc=Vr(),Hr=Gr(),Hc=zr();Di.default={CODE39:Gc.CODE39,CODE128:Ut.CODE128,CODE128A:Ut.CODE128A,CODE128B:Ut.CODE128B,CODE128C:Ut.CODE128C,EAN13:nt.EAN13,EAN8:nt.EAN8,EAN5:nt.EAN5,EAN2:nt.EAN2,UPC:nt.UPC,UPCE:nt.UPCE,ITF14:Ur.ITF14,ITF:Ur.ITF,MSI:gt.MSI,MSI10:gt.MSI10,MSI11:gt.MSI11,MSI1010:gt.MSI1010,MSI1110:gt.MSI1110,pharmacode:zc.pharmacode,codabar:Uc.codabar,CODE93:Hr.CODE93,CODE93FullASCII:Hr.CODE93FullASCII,GenericBarcode:Hc.GenericBarcode}});var vt=I(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});var Xc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};Ai.default=function(t,e){return Xc({},t,e)}});var Wr=I(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.default=Wc;function Wc(t){var e=[];function i(n){if(Array.isArray(n))for(var r=0;r<n.length;r++)i(n[r]);else n.text=n.text||"",n.data=n.data||"",e.push(n)}return i(t),e}});var Kr=I(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.default=Kc;function Kc(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}});var Vi=I(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.default=Qc;function Qc(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var i in e)e.hasOwnProperty(i)&&(i=e[i],typeof t[i]=="string"&&(t[i]=parseInt(t[i],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}});var ji=I($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var Yc={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};$i.default=Yc});var Jr=I(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});var Jc=Vi(),Zc=Yr(Jc),ed=ji(),Qr=Yr(ed);function Yr(t){return t&&t.__esModule?t:{default:t}}function td(t){var e={};for(var i in Qr.default)Qr.default.hasOwnProperty(i)&&(t.hasAttribute("jsbarcode-"+i.toLowerCase())&&(e[i]=t.getAttribute("jsbarcode-"+i.toLowerCase())),t.hasAttribute("data-"+i.toLowerCase())&&(e[i]=t.getAttribute("data-"+i.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,Zc.default)(e),e}qi.default=td});var Gi=I(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.getTotalWidthOfEncodings=ie.calculateEncodingAttributes=ie.getBarcodePadding=ie.getEncodingHeight=ie.getMaximumHeightOfEncodings=void 0;var id=vt(),nd=rd(id);function rd(t){return t&&t.__esModule?t:{default:t}}function Zr(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function ea(t,e,i){if(i.displayValue&&e<t){if(i.textAlign=="center")return Math.floor((t-e)/2);if(i.textAlign=="left")return 0;if(i.textAlign=="right")return Math.floor(t-e)}return 0}function ad(t,e,i){for(var n=0;n<t.length;n++){var r=t[n],d=(0,nd.default)(e,r.options),u;d.displayValue?u=sd(r.text,d,i):u=0;var f=r.data.length*d.width;r.width=Math.ceil(Math.max(u,f)),r.height=Zr(r,d),r.barcodePadding=ea(u,f,d)}}function od(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].width;return e}function ld(t){for(var e=0,i=0;i<t.length;i++)t[i].height>e&&(e=t[i].height);return e}function sd(t,e,i){var n;if(i)n=i;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var r=n.measureText(t);if(!r)return 0;var d=r.width;return d}ie.getMaximumHeightOfEncodings=ld;ie.getEncodingHeight=Zr;ie.getBarcodePadding=ea;ie.calculateEncodingAttributes=ad;ie.getTotalWidthOfEncodings=od});var ta=I(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});var md=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),cd=vt(),dd=pd(cd),zi=Gi();function pd(t){return t&&t.__esModule?t:{default:t}}function ud(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var fd=function(){function t(e,i,n){ud(this,t),this.canvas=e,this.encodings=i,this.options=n}return md(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var n=(0,dd.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(n,this.encodings[i]),this.drawCanvasText(n,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,zi.calculateEncodingAttributes)(this.encodings,this.options,i);var n=(0,zi.getTotalWidthOfEncodings)(this.encodings),r=(0,zi.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,n){var r=this.canvas.getContext("2d"),d=n.data,u;i.textPosition=="top"?u=i.marginTop+i.fontSize+i.textMargin:u=i.marginTop,r.fillStyle=i.lineColor;for(var f=0;f<d.length;f++){var M=f*i.width+n.barcodePadding;d[f]==="1"?r.fillRect(M,u,i.width,i.height):d[f]&&r.fillRect(M,u,i.width,i.height*d[f])}}},{key:"drawCanvasText",value:function(i,n){var r=this.canvas.getContext("2d"),d=i.fontOptions+" "+i.fontSize+"px "+i.font;if(i.displayValue){var u,f;i.textPosition=="top"?f=i.marginTop+i.fontSize-i.textMargin:f=i.height+i.textMargin+i.marginTop+i.fontSize,r.font=d,i.textAlign=="left"||n.barcodePadding>0?(u=0,r.textAlign="left"):i.textAlign=="right"?(u=n.width-1,r.textAlign="right"):(u=n.width/2,r.textAlign="center"),r.fillText(n.text,u,f)}}},{key:"moveCanvasDrawing",value:function(i){var n=this.canvas.getContext("2d");n.translate(i.width,0)}},{key:"restoreCanvas",value:function(){var i=this.canvas.getContext("2d");i.restore()}}]),t}();Ui.default=fd});var ia=I(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});var gd=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),vd=vt(),_d=hd(vd),Hi=Gi();function hd(t){return t&&t.__esModule?t:{default:t}}function bd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ht="http://www.w3.org/2000/svg",xd=function(){function t(e,i,n){bd(this,t),this.svg=e,this.encodings=i,this.options=n,this.document=n.xmlDocument||document}return gd(t,[{key:"render",value:function(){var i=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var r=this.encodings[n],d=(0,_d.default)(this.options,r.options),u=this.createGroup(i,d.marginTop,this.svg);this.setGroupOptions(u,d),this.drawSvgBarcode(u,d,r),this.drawSVGText(u,d,r),i+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Hi.calculateEncodingAttributes)(this.encodings,this.options);var i=(0,Hi.getTotalWidthOfEncodings)(this.encodings),n=(0,Hi.getMaximumHeightOfEncodings)(this.encodings),r=i+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,n),this.options.background&&this.drawRect(0,0,r,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(i,n,r){var d=r.data,u;n.textPosition=="top"?u=n.fontSize+n.textMargin:u=0;for(var f=0,M=0,D=0;D<d.length;D++)M=D*n.width+r.barcodePadding,d[D]==="1"?f++:f>0&&(this.drawRect(M-n.width*f,u,n.width*f,n.height,i),f=0);f>0&&this.drawRect(M-n.width*(f-1),u,n.width*f,n.height,i)}},{key:"drawSVGText",value:function(i,n,r){var d=this.document.createElementNS(Ht,"text");if(n.displayValue){var u,f;d.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?f=n.fontSize-n.textMargin:f=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||r.barcodePadding>0?(u=0,d.setAttribute("text-anchor","start")):n.textAlign=="right"?(u=r.width-1,d.setAttribute("text-anchor","end")):(u=r.width/2,d.setAttribute("text-anchor","middle")),d.setAttribute("x",u),d.setAttribute("y",f),d.appendChild(this.document.createTextNode(r.text)),i.appendChild(d)}}},{key:"setSvgAttributes",value:function(i,n){var r=this.svg;r.setAttribute("width",i+"px"),r.setAttribute("height",n+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+i+" "+n),r.setAttribute("xmlns",Ht),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(i,n,r){var d=this.document.createElementNS(Ht,"g");return d.setAttribute("transform","translate("+i+", "+n+")"),r.appendChild(d),d}},{key:"setGroupOptions",value:function(i,n){i.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(i,n,r,d,u){var f=this.document.createElementNS(Ht,"rect");return f.setAttribute("x",i),f.setAttribute("y",n),f.setAttribute("width",r),f.setAttribute("height",d),u.appendChild(f),f}}]),t}();Xi.default=xd});var na=I(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});var Cd=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function yd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Sd=function(){function t(e,i,n){yd(this,t),this.object=e,this.encodings=i,this.options=n}return Cd(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();Wi.default=Sd});var ra=I(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});var Ed=ta(),Id=Ki(Ed),wd=ia(),Od=Ki(wd),Bd=na(),Pd=Ki(Bd);function Ki(t){return t&&t.__esModule?t:{default:t}}Qi.default={CanvasRenderer:Id.default,SVGRenderer:Od.default,ObjectRenderer:Pd.default}});var en=I(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});function Yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ji(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Md=function(t){Zi(e,t);function e(i,n){Yi(this,e);var r=Ji(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="InvalidInputException",r.symbology=i,r.input=n,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return e}(Error),Fd=function(t){Zi(e,t);function e(){Yi(this,e);var i=Ji(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return e}(Error),kd=function(t){Zi(e,t);function e(){Yi(this,e);var i=Ji(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return e}(Error);_t.InvalidInputException=Md;_t.InvalidElementException=Fd;_t.NoElementException=kd});var oa=I(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});var Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd=Jr(),tn=aa(Dd),Ad=ra(),ht=aa(Ad),Ld=en();function aa(t){return t&&t.__esModule?t:{default:t}}function nn(t){if(typeof t=="string")return Rd(t);if(Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)e.push(nn(t[i]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return Nd(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,tn.default)(t),renderer:ht.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,tn.default)(t),renderer:ht.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:ht.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":Td(t))==="object"&&!t.nodeName)return{element:t,renderer:ht.default.ObjectRenderer};throw new Ld.InvalidElementException}}function Rd(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var i=[],n=0;n<e.length;n++)i.push(nn(e[n]));return i}}function Nd(t){var e=document.createElement("canvas");return{element:e,options:(0,tn.default)(t),renderer:ht.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}rn.default=nn});var la=I(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var Vd=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function $d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var jd=function(){function t(e){$d(this,t),this.api=e}return Vd(t,[{key:"handleCatch",value:function(i){if(i.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw i.message;else throw i;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(i){try{var n=i.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(r){return this.handleCatch(r),this.api}}}]),t}();an.default=jd});var ga=I((Of,fa)=>{"use strict";var qd=Xr(),qe=Re(qd),Gd=vt(),bt=Re(Gd),zd=Wr(),ma=Re(zd),Ud=Kr(),sa=Re(Ud),Hd=oa(),Xd=Re(Hd),Wd=Vi(),Kd=Re(Wd),Qd=la(),Yd=Re(Qd),ca=en(),Jd=ji(),da=Re(Jd);function Re(t){return t&&t.__esModule?t:{default:t}}var he=function(){},Xt=function(e,i,n){var r=new he;if(typeof e>"u")throw Error("No element to render on was provided.");return r._renderProperties=(0,Xd.default)(e),r._encodings=[],r._options=da.default,r._errorHandler=new Yd.default(r),typeof i<"u"&&(n=n||{},n.format||(n.format=ua()),r.options(n)[n.format](i,n).render()),r};Xt.getModule=function(t){return qe.default[t]};for(on in qe.default)qe.default.hasOwnProperty(on)&&Zd(qe.default,on);var on;function Zd(t,e){he.prototype[e]=he.prototype[e.toUpperCase()]=he.prototype[e.toLowerCase()]=function(i,n){var r=this;return r._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var d=(0,bt.default)(r._options,n);d=(0,Kd.default)(d);var u=t[e],f=pa(i,u,d);return r._encodings.push(f),r})}}function pa(t,e,i){t=""+t;var n=new e(t,i);if(!n.valid())throw new ca.InvalidInputException(n.constructor.name,t);var r=n.encode();r=(0,ma.default)(r);for(var d=0;d<r.length;d++)r[d].options=(0,bt.default)(i,r[d].options);return r}function ua(){return qe.default.CODE128?"CODE128":Object.keys(qe.default)[0]}he.prototype.options=function(t){return this._options=(0,bt.default)(this._options,t),this};he.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};he.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var i=(0,bt.default)(this._options,t.options);i.format=="auto"&&(i.format=ua()),this._errorHandler.wrapBarcodeCall(function(){var n=i.value,r=qe.default[i.format.toUpperCase()],d=pa(n,r,i);ln(t,d,i)})}}};he.prototype.render=function(){if(!this._renderProperties)throw new ca.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)ln(this._renderProperties[t],this._encodings,this._options);else ln(this._renderProperties,this._encodings,this._options);return this};he.prototype._defaults=da.default;function ln(t,e,i){e=(0,ma.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,bt.default)(i,e[n].options),(0,sa.default)(e[n].options);(0,sa.default)(i);var r=t.renderer,d=new r(t.element,e,i);d.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Xt);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var i=[];return jQuery(this).each(function(){i.push(this)}),Xt(i,t,e)});fa.exports=Xt});function xa(t,e){if(t&1&&(l(0,"div",33)(1,"div",2),p(2,"i",34),l(3,"span"),s(4),a()(),p(5,"button",35),a()),t&2){let i=_();o(4),v(i.message)}}function Ca(t,e){t&1&&x(0,xa,6,1,"div",33),t&2&&y(e.status?0:-1)}function ya(t,e){if(t&1&&(l(0,"div",20),p(1,"i",36),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.categorieForm.get("name"))," ")}}function Sa(t,e){if(t&1&&(l(0,"div",20),p(1,"i",36),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.categorieForm.get("short_name"))," ")}}function Ea(t,e){t&1&&(l(0,"div",31)(1,"span",37),s(2),m(3,"translate"),a()()),t&2&&(o(2),v(c(3,1,"Loading")))}function Ia(t,e){if(t&1&&p(0,"i",38),t&2){let i=_();w(i.categorieId?"fa-edit":"fa-plus")}}var Ne=class t{constructor(e,i,n,r){this.languageSservice=e;this.activeModal=i;this.formBuilder=n;this.immoService=r}realod=new be;categorieId;loading$;categorieForm;btnSubmit=!1;error$;confirmSubmit$;ngOnInit(){this.loading$=this.immoService.loading$,this.immoService.setLoadStatus(!1),this.initForm()}confirm(){this.activeModal&&this.activeModal.close()}dismiss(){this.activeModal&&this.activeModal.dismiss()}initForm(){this.error$=this.immoService.error$,this.confirmSubmit$=this.immoService.confirmSubmit$,this.confirmSubmit$.subscribe(e=>{this.btnSubmit&&e&&(this.realod.emit(!0),this.dismiss())}),this.categorieForm=this.formBuilder.group({name:["",$.required],short_name:["",$.required]}),this.categorieId&&this.immoService.getCategorieDetailFromServer(this.categorieId).subscribe(i=>{this.categorieForm.patchValue(i)})}submitForm(){this.categorieForm.valid?(this.btnSubmit=!0,console.log(this.categorieForm.value),this.categorieId?this.immoService.updateCategorie(this.categorieForm,this.categorieId):this.immoService.createCategorie(this.categorieForm)):(console.log(this.categorieForm.value),console.log("un bon autre"),this.btnSubmit=!0)}getFormControlErrorText(e){return e?.hasError("required")?"ce champ est r\xE9quis":e?.hasError("email")?"merci d'entre une adresse mail valide":e?.hasError("minlength")?"Ce num\xE9ro de t\xE9l\xE9phone ne contient pas assez de chiffre":e?.hasError("maxlength")?"Ce num\xE9ro de t\xE9l\xE9phone contient trop de chiffre":""}static \u0275fac=function(i){return new(i||t)(E(U),E(Be,8),E(W),E(j))};static \u0275cmp=A({type:t,selectors:[["app-create-categorie"]],inputs:{categorieId:"categorieId"},outputs:{realod:"realod"},standalone:!1,decls:61,vars:49,consts:[[1,"modal-content"],[1,"modal-header","bg-gradient-primary","text-white","border-0"],[1,"d-flex","align-items-center"],[1,"icon","icon-shape","icon-sm","bg-white","text-primary","rounded-circle","me-3"],[1,"fas","fa-tags"],[1,"modal-title","mb-0","text-white"],[1,"text-white-50","mb-0","text-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"row"],[1,"col-12","mb-4"],[1,"form-group"],[1,"form-label","text-dark","font-weight-bold"],[1,"fas","fa-tag","text-primary","me-2"],[1,"text-danger"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"fas","fa-folder","text-muted"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"invalid-feedback","d-block"],[1,"fas","fa-font","text-primary","me-2"],[1,"fas","fa-compress-alt","text-muted"],["type","text","id","short_name","formControlName","short_name",1,"form-control",3,"placeholder"],[1,"form-text","text-muted"],[1,"fas","fa-info-circle","me-1"],[1,"modal-footer","bg-light","border-0"],[1,"d-flex","w-100","gap-2"],["type","button",1,"btn","btn-outline-secondary","flex-fill",3,"click"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","flex-fill",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"me-2",3,"class"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"fas","fa-exclamation-circle","me-1"],[1,"visually-hidden"],[1,"me-2"]],template:function(i,n){if(i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"i",4),a(),l(5,"div")(6,"h5",5),s(7),m(8,"translate"),m(9,"translate"),a(),l(10,"p",6),s(11),m(12,"translate"),a()()(),l(13,"button",7),C("click",function(){return n.dismiss()}),a()(),l(14,"div",8),x(15,Ca,1,1),m(16,"async"),l(17,"form",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label",13),p(22,"i",14),s(23),m(24,"translate"),l(25,"span",15),s(26,"*"),a()(),l(27,"div",16)(28,"span",17),p(29,"i",18),a(),p(30,"input",19),m(31,"translate"),a(),x(32,ya,3,1,"div",20),a()(),l(33,"div",11)(34,"div",12)(35,"label",13),p(36,"i",21),s(37),m(38,"translate"),a(),l(39,"div",16)(40,"span",17),p(41,"i",22),a(),p(42,"input",23),m(43,"translate"),a(),x(44,Sa,3,1,"div",20),l(45,"div",24),p(46,"i",25),s(47),m(48,"translate"),a()()()()()(),l(49,"div",26)(50,"div",27)(51,"button",28),C("click",function(){return n.dismiss()}),p(52,"i",29),s(53),m(54,"translate"),a(),l(55,"button",30),C("click",function(){return n.submitForm()}),x(56,Ea,4,3,"div",31),m(57,"async"),x(58,Ia,1,2,"i",32),s(59),m(60,"translate"),a()()()()),i&2){let r,d,u,f,M,D,J;o(7),O(" ",n.categorieId?"Update":c(8,25,"Create")," ",c(9,27,"Category")," "),o(4),g(" ",n.categorieId?"ModifyCategoryDetails":c(12,29,"AddNewCategoryToSystem")," "),o(4),y((r=c(16,31,n.error$))?15:-1,r),o(2),S("formGroup",n.categorieForm),o(6),g(" ",c(24,33,"CategoryName")," "),o(7),k("is-invalid",n.btnSubmit&&((d=n.categorieForm.get("name"))==null?null:d.invalid))("is-valid",(u=n.categorieForm.get("name"))==null?null:u.valid),P("placeholder",c(31,35,"EnterCategoryName")),o(2),y(n.btnSubmit&&n.categorieForm.invalid&&((f=n.categorieForm.get("name"))!=null&&f.invalid)?32:-1),o(5),g(" ",c(38,37,"ShortName")," "),o(5),k("is-invalid",n.btnSubmit&&((M=n.categorieForm.get("short_name"))==null?null:M.invalid))("is-valid",(D=n.categorieForm.get("short_name"))==null?null:D.valid),P("placeholder",c(43,39,"EnterShortName")),o(2),y(n.btnSubmit&&n.categorieForm.invalid&&((J=n.categorieForm.get("short_name"))!=null&&J.invalid)?44:-1),o(3),g(" ",c(48,41,"ShortNameOptional")," "),o(6),g(" ",c(54,43,"Cancel")," "),o(2),w(n.categorieId?"btn-warning":"btn-primary"),o(),y(c(57,45,n.loading$)?56:58),o(3),g(" ",n.categorieId?"Update":c(60,47,"Create")," ")}},dependencies:[Ie,H,X,Ee,we,Oe,N,V],encapsulation:2})};function wa(t,e){if(t&1&&(l(0,"div",33)(1,"div",2),p(2,"i",34),l(3,"span"),s(4),a()(),p(5,"button",35),a()),t&2){let i=_();o(4),v(i.message)}}function Oa(t,e){t&1&&x(0,wa,6,1,"div",33),t&2&&y(e.status?0:-1)}function Ba(t,e){if(t&1&&(l(0,"div",20),p(1,"i",36),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.structureForm.get("name"))," ")}}function Pa(t,e){if(t&1&&(l(0,"div",20),p(1,"i",36),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.structureForm.get("short_name"))," ")}}function Ma(t,e){t&1&&(l(0,"div",31)(1,"span",37),s(2),m(3,"translate"),a()()),t&2&&(o(2),v(c(3,1,"Loading")))}function Fa(t,e){if(t&1&&p(0,"i",38),t&2){let i=_();w(i.structureId?"fa-edit":"fa-plus")}}var $e=class t{constructor(e,i,n,r){this.languageSservice=e;this.activeModal=i;this.formBuilder=n;this.immoService=r}realod=new be;structureId;loading$;structureForm;btnSubmit=!1;error$;confirmSubmit$;ngOnInit(){this.loading$=this.immoService.loading$,this.immoService.setLoadStatus(!1),this.initForm()}confirm(){this.activeModal&&this.activeModal.close()}dismiss(){this.activeModal&&this.activeModal.dismiss()}initForm(){this.error$=this.immoService.error$,this.confirmSubmit$=this.immoService.confirmSubmit$,this.confirmSubmit$.subscribe(e=>{this.btnSubmit&&e&&(this.realod.emit(!0),this.dismiss())}),this.structureForm=this.formBuilder.group({name:["",$.required],short_name:["",$.required]}),this.structureId&&this.immoService.getStructureDetailFromServer(this.structureId).subscribe(i=>{this.structureForm.patchValue(i)})}submitForm(){this.structureForm.valid?(this.btnSubmit=!0,console.log(this.structureForm.value),this.structureId?this.immoService.updateStructure(this.structureForm,this.structureId):this.immoService.createStructure(this.structureForm)):(console.log(this.structureForm.value),console.log("un bon autre"),this.btnSubmit=!0)}getFormControlErrorText(e){return e?.hasError("required")?"ce champ est r\xE9quis":e?.hasError("email")?"merci d'entre une adresse mail valide":e?.hasError("minlength")?"Ce num\xE9ro de t\xE9l\xE9phone ne contient pas assez de chiffre":e?.hasError("maxlength")?"Ce num\xE9ro de t\xE9l\xE9phone contient trop de chiffre":""}static \u0275fac=function(i){return new(i||t)(E(U),E(Be,8),E(W),E(j))};static \u0275cmp=A({type:t,selectors:[["app-create-structure"]],inputs:{structureId:"structureId"},outputs:{realod:"realod"},standalone:!1,decls:61,vars:49,consts:[[1,"modal-content"],[1,"modal-header","bg-gradient-primary","text-white","border-0"],[1,"d-flex","align-items-center"],[1,"icon","icon-shape","icon-sm","bg-white","text-primary","rounded-circle","me-3"],[1,"fas","fa-sitemap"],[1,"modal-title","mb-0","text-white"],[1,"text-white-50","mb-0","text-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"row"],[1,"col-12","mb-4"],[1,"form-group"],[1,"form-label","text-dark","font-weight-bold"],[1,"fas","fa-network-wired","text-primary","me-2"],[1,"text-danger"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"fas","fa-layer-group","text-muted"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"invalid-feedback","d-block"],[1,"fas","fa-font","text-primary","me-2"],[1,"fas","fa-compress-alt","text-muted"],["type","text","id","short_name","formControlName","short_name",1,"form-control",3,"placeholder"],[1,"form-text","text-muted"],[1,"fas","fa-info-circle","me-1"],[1,"modal-footer","bg-light","border-0"],[1,"d-flex","w-100","gap-2"],["type","button",1,"btn","btn-outline-secondary","flex-fill",3,"click"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","flex-fill",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"me-2",3,"class"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"fas","fa-exclamation-circle","me-1"],[1,"visually-hidden"],[1,"me-2"]],template:function(i,n){if(i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"i",4),a(),l(5,"div")(6,"h5",5),s(7),m(8,"translate"),m(9,"translate"),a(),l(10,"p",6),s(11),m(12,"translate"),a()()(),l(13,"button",7),C("click",function(){return n.dismiss()}),a()(),l(14,"div",8),x(15,Oa,1,1),m(16,"async"),l(17,"form",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label",13),p(22,"i",14),s(23),m(24,"translate"),l(25,"span",15),s(26,"*"),a()(),l(27,"div",16)(28,"span",17),p(29,"i",18),a(),p(30,"input",19),m(31,"translate"),a(),x(32,Ba,3,1,"div",20),a()(),l(33,"div",11)(34,"div",12)(35,"label",13),p(36,"i",21),s(37),m(38,"translate"),a(),l(39,"div",16)(40,"span",17),p(41,"i",22),a(),p(42,"input",23),m(43,"translate"),a(),x(44,Pa,3,1,"div",20),l(45,"div",24),p(46,"i",25),s(47),m(48,"translate"),a()()()()()(),l(49,"div",26)(50,"div",27)(51,"button",28),C("click",function(){return n.dismiss()}),p(52,"i",29),s(53),m(54,"translate"),a(),l(55,"button",30),C("click",function(){return n.submitForm()}),x(56,Ma,4,3,"div",31),m(57,"async"),x(58,Fa,1,2,"i",32),s(59),m(60,"translate"),a()()()()),i&2){let r,d,u,f,M,D,J;o(7),O(" ",n.structureId?"Update":c(8,25,"Create")," ",c(9,27,"Structure")," "),o(4),g(" ",n.structureId?"ModifyStructureDetails":c(12,29,"AddNewStructureToSystem")," "),o(4),y((r=c(16,31,n.error$))?15:-1,r),o(2),S("formGroup",n.structureForm),o(6),g(" ",c(24,33,"StructureName")," "),o(7),k("is-invalid",n.btnSubmit&&((d=n.structureForm.get("name"))==null?null:d.invalid))("is-valid",(u=n.structureForm.get("name"))==null?null:u.valid),P("placeholder",c(31,35,"EnterStructureName")),o(2),y(n.btnSubmit&&n.structureForm.invalid&&((f=n.structureForm.get("name"))!=null&&f.invalid)?32:-1),o(5),g(" ",c(38,37,"ShortName")," "),o(5),k("is-invalid",n.btnSubmit&&((M=n.structureForm.get("short_name"))==null?null:M.invalid))("is-valid",(D=n.structureForm.get("short_name"))==null?null:D.valid),P("placeholder",c(43,39,"EnterShortName")),o(2),y(n.btnSubmit&&n.structureForm.invalid&&((J=n.structureForm.get("short_name"))!=null&&J.invalid)?44:-1),o(3),g(" ",c(48,41,"ShortNameOptional")," "),o(6),g(" ",c(54,43,"Cancel")," "),o(2),w(n.structureId?"btn-warning":"btn-primary"),o(),y(c(57,45,n.loading$)?56:58),o(3),g(" ",n.structureId?"Update":c(60,47,"Create")," ")}},dependencies:[Ie,H,X,Ee,we,Oe,N,V],encapsulation:2})};function ka(t,e){if(t&1&&(l(0,"div",35)(1,"div",2),p(2,"i",36),l(3,"span"),s(4),a()(),p(5,"button",37),a()),t&2){let i=_();o(4),v(i.message)}}function Ta(t,e){t&1&&x(0,ka,6,1,"div",35),t&2&&y(e.status?0:-1)}function Da(t,e){if(t&1&&(l(0,"div",19),p(1,"i",38),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.fournisseurForm.get("raison_social"))," ")}}function Aa(t,e){if(t&1&&(l(0,"div",19),p(1,"i",38),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.fournisseurForm.get("adresse"))," ")}}function La(t,e){if(t&1&&(l(0,"div",19),p(1,"i",38),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.fournisseurForm.get("nui"))," ")}}function Ra(t,e){t&1&&(l(0,"div",33)(1,"span",39),s(2),m(3,"translate"),a()()),t&2&&(o(2),v(c(3,1,"Loading")))}function Na(t,e){if(t&1&&p(0,"i",40),t&2){let i=_();w(i.fournisseurId?"fa-edit":"fa-plus")}}var je=class t{constructor(e,i,n,r){this.languageSservice=e;this.activeModal=i;this.formBuilder=n;this.immoService=r}realod=new be;fournisseurId;loading$;fournisseurForm;btnSubmit=!1;error$;confirmSubmit$;ngOnInit(){this.loading$=this.immoService.loading$,this.immoService.setLoadStatus(!1),this.initForm()}confirm(){this.activeModal&&this.activeModal.close()}dismiss(){this.activeModal&&this.activeModal.dismiss()}initForm(){this.error$=this.immoService.error$,this.confirmSubmit$=this.immoService.confirmSubmit$,this.confirmSubmit$.subscribe(e=>{this.btnSubmit&&e&&(this.realod.emit(!0),this.dismiss())}),this.fournisseurForm=this.formBuilder.group({raison_social:["",$.required],adresse:["",$.required],nui:["",$.required]}),this.fournisseurId&&this.immoService.getFournisseursDetailFromServer(this.fournisseurId).subscribe(i=>{this.fournisseurForm.patchValue(i)})}submitForm(){this.fournisseurForm.valid?(this.btnSubmit=!0,console.log(this.fournisseurForm.value),this.fournisseurId?this.immoService.updateFournisseur(this.fournisseurForm,this.fournisseurId):this.immoService.createFournisseur(this.fournisseurForm)):(console.log(this.fournisseurForm.value),console.log("un bon autre"),this.btnSubmit=!0)}getFormControlErrorText(e){return e?.hasError("required")?"ce champ est r\xE9quis":e?.hasError("email")?"merci d'entre une adresse mail valide":e?.hasError("minlength")?"Ce num\xE9ro de t\xE9l\xE9phone ne contient pas assez de chiffre":e?.hasError("maxlength")?"Ce num\xE9ro de t\xE9l\xE9phone contient trop de chiffre":""}static \u0275fac=function(i){return new(i||t)(E(U),E(Be,8),E(W),E(j))};static \u0275cmp=A({type:t,selectors:[["app-create-fournisseur"]],inputs:{fournisseurId:"fournisseurId"},outputs:{realod:"realod"},standalone:!1,decls:71,vars:60,consts:[[1,"modal-content"],[1,"modal-header","bg-gradient-primary","text-white","border-0"],[1,"d-flex","align-items-center"],[1,"icon","icon-shape","icon-sm","bg-white","text-primary","rounded-circle","me-3"],[1,"fas","fa-truck"],[1,"modal-title","mb-0","text-white"],[1,"text-white-50","mb-0","text-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"row"],[1,"col-12","mb-4"],[1,"form-group"],[1,"form-label","text-dark","font-weight-bold"],[1,"fas","fa-briefcase","text-primary","me-2"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"fas","fa-handshake","text-muted"],["type","text","id","raison_social","formControlName","raison_social",1,"form-control",3,"placeholder"],[1,"invalid-feedback","d-block"],[1,"fas","fa-map-marker-alt","text-primary","me-2"],[1,"fas","fa-home","text-muted"],["type","text","id","adresse","formControlName","adresse",1,"form-control",3,"placeholder"],[1,"fas","fa-file-invoice","text-primary","me-2"],[1,"fas","fa-hashtag","text-muted"],["type","text","id","nui","formControlName","nui",1,"form-control",3,"placeholder"],[1,"form-text","text-muted"],[1,"fas","fa-info-circle","me-1"],[1,"modal-footer","bg-light","border-0"],[1,"d-flex","w-100","gap-2"],["type","button",1,"btn","btn-outline-secondary","flex-fill",3,"click"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","flex-fill",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"me-2",3,"class"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"fas","fa-exclamation-circle","me-1"],[1,"visually-hidden"],[1,"me-2"]],template:function(i,n){if(i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"i",4),a(),l(5,"div")(6,"h5",5),s(7),m(8,"translate"),m(9,"translate"),a(),l(10,"p",6),s(11),m(12,"translate"),a()()(),l(13,"button",7),C("click",function(){return n.dismiss()}),a()(),l(14,"div",8),x(15,Ta,1,1),m(16,"async"),l(17,"form",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label",13),p(22,"i",14),s(23),m(24,"translate"),a(),l(25,"div",15)(26,"span",16),p(27,"i",17),a(),p(28,"input",18),m(29,"translate"),a(),x(30,Da,3,1,"div",19),a()(),l(31,"div",11)(32,"div",12)(33,"label",13),p(34,"i",20),s(35),m(36,"translate"),a(),l(37,"div",15)(38,"span",16),p(39,"i",21),a(),p(40,"input",22),m(41,"translate"),a(),x(42,Aa,3,1,"div",19),a()(),l(43,"div",11)(44,"div",12)(45,"label",13),p(46,"i",23),s(47),m(48,"translate"),a(),l(49,"div",15)(50,"span",16),p(51,"i",24),a(),p(52,"input",25),m(53,"translate"),a(),x(54,La,3,1,"div",19),l(55,"div",26),p(56,"i",27),s(57),m(58,"translate"),a()()()()()(),l(59,"div",28)(60,"div",29)(61,"button",30),C("click",function(){return n.dismiss()}),p(62,"i",31),s(63),m(64,"translate"),a(),l(65,"button",32),C("click",function(){return n.submitForm()}),x(66,Ra,4,3,"div",33),m(67,"async"),x(68,Na,1,2,"i",34),s(69),m(70,"translate"),a()()()()),i&2){let r,d,u,f,M,D,J,at,ot,lt;o(7),O(" ",n.fournisseurId?"Update":c(8,32,"Create")," ",c(9,34,"Supplier")," "),o(4),g(" ",n.fournisseurId?"ModifySupplierDetails":c(12,36,"AddNewSupplierToSystem")," "),o(4),y((r=c(16,38,n.error$))?15:-1,r),o(2),S("formGroup",n.fournisseurForm),o(6),g(" ",c(24,40,"BusinessName")," "),o(5),k("is-invalid",n.btnSubmit&&((d=n.fournisseurForm.get("raison_social"))==null?null:d.invalid))("is-valid",(u=n.fournisseurForm.get("raison_social"))==null?null:u.valid),P("placeholder",c(29,42,"EnterBusinessName")),o(2),y(n.btnSubmit&&n.fournisseurForm.invalid&&((f=n.fournisseurForm.get("raison_social"))!=null&&f.invalid)?30:-1),o(5),g(" ",c(36,44,"Address")," "),o(5),k("is-invalid",n.btnSubmit&&((M=n.fournisseurForm.get("adresse"))==null?null:M.invalid))("is-valid",(D=n.fournisseurForm.get("adresse"))==null?null:D.valid),P("placeholder",c(41,46,"EnterAddress")),o(2),y(n.btnSubmit&&n.fournisseurForm.invalid&&((J=n.fournisseurForm.get("adresse"))!=null&&J.invalid)?42:-1),o(5),g(" ",c(48,48,"TaxNumber")," "),o(5),k("is-invalid",n.btnSubmit&&((at=n.fournisseurForm.get("nui"))==null?null:at.invalid))("is-valid",(ot=n.fournisseurForm.get("nui"))==null?null:ot.valid),P("placeholder",c(53,50,"EnterTaxNumber")),o(2),y(n.btnSubmit&&n.fournisseurForm.invalid&&((lt=n.fournisseurForm.get("nui"))!=null&&lt.invalid)?54:-1),o(3),g(" ",c(58,52,"TaxNumberOptional")," "),o(6),g(" ",c(64,54,"Cancel")," "),o(2),w(n.fournisseurId?"btn-warning":"btn-primary"),o(),y(c(67,56,n.loading$)?66:68),o(3),g(" ",n.fournisseurId?"Update":c(70,58,"Create")," ")}},dependencies:[Ie,H,X,Ee,we,Oe,N,V],encapsulation:2})};var Va=["singleSelect"];function $a(t,e){if(t&1&&(l(0,"div",70),p(1,"i",71),s(2),p(3,"button",72),a()),t&2){let i=_();o(2),g(" ",i.message," ")}}function ja(t,e){t&1&&x(0,$a,4,1,"div",70),t&2&&y(e.status?0:-1)}function qa(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function Ga(t,e){if(t&1&&(l(0,"div",35),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("name"))," ")}}function za(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function Ua(t,e){if(t&1&&(l(0,"div",35),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("mark"))," ")}}function Ha(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function Xa(t,e){if(t&1&&(l(0,"div",35),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("model"))," ")}}function Wa(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function Ka(t,e){if(t&1&&(l(0,"div",44),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("categorie_id"))," ")}}function Qa(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function Ya(t,e){if(t&1&&(l(0,"div",44),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("structure_id"))," ")}}function Ja(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function Za(t,e){if(t&1&&(l(0,"div",44),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("fournisseur_id"))," ")}}function eo(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function to(t,e){if(t&1&&(l(0,"div",35),p(1,"i",73),s(2),a()),t&2){let i=_(2);o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("quantity"))," ")}}function io(t,e){if(t&1&&(l(0,"div",41)(1,"div",30)(2,"label",31),p(3,"i",74),s(4),m(5,"translate"),x(6,eo,2,0,"span",33),a(),p(7,"input",75),m(8,"translate"),x(9,to,3,1,"div",35),a()()),t&2){let i,n,r,d=_();o(4),g(" ",c(5,8,"quantity")," "),o(2),y(d.isFieldRequired("quantity")?6:-1),o(),k("is-invalid",d.btnSubmit&&((i=d.immoForm.get("quantity"))==null?null:i.invalid))("is-valid",(n=d.immoForm.get("quantity"))==null?null:n.valid),P("placeholder",c(8,10,"EnterQuantity")),o(2),y(d.btnSubmit&&d.immoForm.invalid&&((r=d.immoForm.get("quantity"))!=null&&r.invalid)?9:-1)}}function no(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function ro(t,e){if(t&1&&(l(0,"div",35),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("unit_price"))," ")}}function ao(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function oo(t,e){if(t&1&&(l(0,"div",35),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("num_bon_commande"))," ")}}function lo(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function so(t,e){if(t&1&&(l(0,"div",35),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("num_proces_verbal"))," ")}}function mo(t,e){t&1&&(l(0,"span",33),s(1,"*"),a())}function co(t,e){if(t&1&&(l(0,"div",35),p(1,"i",73),s(2),a()),t&2){let i=_();o(2),g(" ",i.getFormControlErrorText(i.immoForm.get("date_of_receipt"))," ")}}function po(t,e){t&1&&(l(0,"div",63),p(1,"app-custom-spinner"),l(2,"p",76),s(3),m(4,"translate"),a()()),t&2&&(o(3),g("",c(4,1,"Processing"),"..."))}function uo(t,e){t&1&&p(0,"span",69)}var De=class t{constructor(e,i,n,r,d,u){this.languageSservice=e;this.activeModal=i;this.formBuilder=n;this.immoService=r;this.modalService=d;this.route=u;this.addTagNowRef=this.addCustomItem.bind(this),this.addTagNowStrRef=this.addCustomStrItem.bind(this),this.addTagNowFourRef=this.addCustomFourItem.bind(this)}realod=new be;singleSelect=new $n;immoId;loading$;immoForm;structures$;categories$;fournisseurs$;btnSubmit=!1;error$;confirmSubmit$;addTagNowRef;addTagNowStrRef;addTagNowFourRef;ngOnInit(){this.immoId=this.route.snapshot.paramMap.get("id")||void 0,this.loading$=this.immoService.loading$,this.structures$=this.immoService.structures$,this.categories$=this.immoService.categories$,this.fournisseurs$=this.immoService.fournisseurs$,this.immoService.getCategoriesFullFromServer(),this.immoService.getStructuresFullFromServer(),this.immoService.getFournisseursFullFromServer(),this.initForm()}confirm(){this.activeModal&&this.activeModal.close()}dismiss(){this.activeModal&&this.activeModal.dismiss()}addCustomItem(){let e=this.modalService.open(Ne,{centered:!0,backdrop:"static"});var i;i=e.componentInstance.realod,i.subscribe(n=>{n&&this.immoService.getCategoriesFullFromServer()})}addCustomStrItem(){let e=this.modalService.open($e,{centered:!0,backdrop:"static"});var i;i=e.componentInstance.realod,i.subscribe(n=>{n&&this.immoService.getStructuresFullFromServer()})}addCustomFourItem(){let e=this.modalService.open(je,{centered:!0,backdrop:"static"});var i;i=e.componentInstance.realod,i.subscribe(n=>{n&&this.immoService.getFournisseursFullFromServer()})}initForm(){this.error$=this.immoService.error$,this.confirmSubmit$=this.immoService.confirmSubmit$,this.confirmSubmit$.subscribe(e=>{this.btnSubmit&&e&&(this.realod.emit(!0),this.dismiss())}),this.immoId?this.immoForm=this.formBuilder.group({name:[""],mark:[""],model:[""],unit_price:[""],num_bon_commande:[""],num_proces_verbal:[""],date_of_receipt:[""],categorie_id:[""],fournisseur_id:[""],structure_id:[""]}):this.immoForm=this.formBuilder.group({name:["",$.required],mark:[""],model:[""],quantity:["",$.required],unit_price:["",$.required],num_bon_commande:["",$.required],num_proces_verbal:["",$.required],date_of_receipt:["",$.required],categorie_id:["",$.required],fournisseur_id:["",$.required],structure_id:["",$.required]}),this.immoId&&this.immoService.getImmoDetailFromServer(this.immoId).subscribe(i=>{this.immoForm.patchValue(i)})}submitForm(){this.immoForm.valid?(this.btnSubmit=!0,console.log(this.immoForm.value),this.immoId?this.immoService.updateImmo(this.immoForm,this.immoId):this.immoService.createImmo(this.immoForm)):(console.log(this.immoForm.value),console.log("un bon autre"),this.btnSubmit=!0)}getFormControlErrorText(e){return e?.hasError("required")?"ce champ est r\xE9quis":e?.hasError("email")?"merci d'entre une adresse mail valide":e?.hasError("minlength")?"Ce num\xE9ro de t\xE9l\xE9phone ne contient pas assez de chiffre":e?.hasError("maxlength")?"Ce num\xE9ro de t\xE9l\xE9phone contient trop de chiffre":""}isFieldRequired(e){let i=this.immoForm?.get(e);if(i?.validator){let n=i.validator({});return n&&n.required}return!1}static \u0275fac=function(i){return new(i||t)(E(U),E(Be,8),E(W),E(j),E(me),E(Xe))};static \u0275cmp=A({type:t,selectors:[["app-create-immobilisation"]],viewQuery:function(i,n){if(i&1&&Ge(Va,5),i&2){let r;ze(r=Ue())&&(n.singleSelect=r.first)}},outputs:{realod:"realod"},standalone:!1,decls:205,vars:203,consts:[[1,"main-content","position-relative","max-height-vh-100","h-100","create-immobilisation-form"],[1,"container-fluid","py-4"],[1,"row"],[1,"col-12"],[1,"row","mb-4"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mb-0","text-dark"],[1,"fas","fa-plus-circle","me-2","text-primary"],[1,"text-sm","text-secondary","mb-0"],["routerLink","/admin/immobilisations",1,"btn","btn-outline-secondary","btn-sm"],[1,"fas","fa-arrow-left","me-2"],[1,"card","bg-gradient-primary"],[1,"card-body","p-3"],[1,"d-flex","align-items-center"],[1,"step-indicator","active","me-3"],[1,"fas","fa-info-circle","text-white"],[1,"text-white"],[1,"mb-0"],[1,"text-xs","mb-0","opacity-8"],[1,"card","shadow-lg"],[1,"card-header","bg-gradient-light","p-4"],[1,"icon","icon-shape","icon-sm","bg-gradient-primary","shadow","text-center","me-3"],[1,"fas","fa-cube","text-white"],[1,"text-xs","text-secondary","mb-0"],[1,"card-body","p-4"],[3,"formGroup"],[1,"text-dark","mb-3"],[1,"fas","fa-clipboard-list","me-2","text-primary"],[1,"horizontal","dark","mt-0","mb-4"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group"],[1,"form-label","text-dark"],[1,"fas","fa-tag","me-2","text-primary"],[1,"text-danger"],["type","text","formControlName","name",1,"form-control","form-control-lg",3,"placeholder"],[1,"invalid-feedback"],[1,"fas","fa-star","me-2","text-warning"],["type","text","formControlName","mark",1,"form-control","form-control-lg",3,"placeholder"],[1,"fas","fa-cogs","me-2","text-info"],["type","text","formControlName","model",1,"form-control","form-control-lg",3,"placeholder"],[1,"fas","fa-sitemap","me-2","text-primary"],[1,"col-lg-3","col-md-6","col-12"],[1,"fas","fa-layer-group","me-2","text-primary"],["bindLabel","name","bindValue","id","formControlName","categorie_id",3,"items","addTag","closeOnSelect","searchable","clearable","placeholder"],[1,"invalid-feedback","d-block"],[1,"fas","fa-building","me-2","text-info"],["bindLabel","name","bindValue","id","formControlName","structure_id",3,"items","addTag","closeOnSelect","searchable","clearable","placeholder"],[1,"fas","fa-truck","me-2","text-warning"],["bindLabel","raison_social","bindValue","id","formControlName","fournisseur_id",3,"items","addTag","closeOnSelect","searchable","clearable","placeholder"],[1,"fas","fa-euro-sign","me-2","text-primary"],["class","col-lg-3 col-md-6 col-12",4,"ngIf"],[1,"fas","fa-money-bill-wave","me-2","text-warning"],[1,"input-group"],[1,"input-group-text"],["type","number","formControlName","unit_price","min","0","step","0.01",1,"form-control","form-control-lg",3,"placeholder"],[1,"fas","fa-file-alt","me-2","text-primary"],[1,"fas","fa-receipt","me-2","text-info"],["type","text","formControlName","num_bon_commande",1,"form-control","form-control-lg",3,"placeholder"],[1,"fas","fa-file-signature","me-2","text-secondary"],["type","text","formControlName","num_proces_verbal",1,"form-control","form-control-lg",3,"placeholder"],[1,"fas","fa-calendar-alt","me-2","text-success"],["type","date","formControlName","date_of_receipt",1,"form-control","form-control-lg"],[1,"card-footer","bg-gray-100","p-4"],[1,"text-center"],[1,"d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-outline-secondary","me-3",3,"click"],[1,"fas","fa-undo","me-2"],["type","submit",1,"btn","btn-lg","shadow-sm",3,"click","ngClass"],[1,"fas",3,"ngClass"],[1,"spinner-border","spinner-border-sm","me-2"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"fas","fa-exclamation-circle","me-1"],[1,"fas","fa-sort-numeric-up","me-2","text-success"],["type","number","formControlName","quantity","min","1",1,"form-control","form-control-lg",3,"placeholder"],[1,"text-sm","text-secondary","mt-2"]],template:function(i,n){if(i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",3)(6,"div",5)(7,"div")(8,"h3",6),p(9,"i",7),s(10),m(11,"translate"),m(12,"translate"),m(13,"translate"),a(),l(14,"p",8),s(15),m(16,"translate"),m(17,"translate"),a()(),l(18,"div")(19,"button",9),p(20,"i",10),s(21),m(22,"translate"),a()()()()(),l(23,"div",4)(24,"div",3)(25,"div",11)(26,"div",12)(27,"div",13)(28,"div",14),p(29,"i",15),a(),l(30,"div",16)(31,"h6",17),s(32),m(33,"translate"),a(),l(34,"p",18),s(35),m(36,"translate"),a()()()()()()(),l(37,"div",19)(38,"div",20)(39,"div",13)(40,"div",21),p(41,"i",22),a(),l(42,"div")(43,"h6",17),s(44),m(45,"translate"),a(),l(46,"p",23),s(47),m(48,"translate"),a()()()(),l(49,"div",24),x(50,ja,1,1),m(51,"async"),l(52,"form",25)(53,"div",4)(54,"div",3)(55,"h6",26),p(56,"i",27),s(57),m(58,"translate"),a(),p(59,"hr",28),a(),l(60,"div",29)(61,"div",30)(62,"label",31),p(63,"i",32),s(64),m(65,"translate"),x(66,qa,2,0,"span",33),a(),p(67,"input",34),m(68,"translate"),x(69,Ga,3,1,"div",35),a()(),l(70,"div",29)(71,"div",30)(72,"label",31),p(73,"i",36),s(74),m(75,"translate"),x(76,za,2,0,"span",33),a(),p(77,"input",37),m(78,"translate"),x(79,Ua,3,1,"div",35),a()(),l(80,"div",29)(81,"div",30)(82,"label",31),p(83,"i",38),s(84),m(85,"translate"),x(86,Ha,2,0,"span",33),a(),p(87,"input",39),m(88,"translate"),x(89,Xa,3,1,"div",35),a()()(),l(90,"div",4)(91,"div",3)(92,"h6",26),p(93,"i",40),s(94),m(95,"translate"),a(),p(96,"hr",28),a(),l(97,"div",41)(98,"div",30)(99,"label",31),p(100,"i",42),s(101),m(102,"translate"),x(103,Wa,2,0,"span",33),a(),p(104,"ng-select",43),m(105,"translate"),m(106,"async"),x(107,Ka,3,1,"div",44),a()(),l(108,"div",41)(109,"div",30)(110,"label",31),p(111,"i",45),s(112),m(113,"translate"),x(114,Qa,2,0,"span",33),a(),p(115,"ng-select",46),m(116,"translate"),m(117,"async"),x(118,Ya,3,1,"div",44),a()(),l(119,"div",41)(120,"div",30)(121,"label",31),p(122,"i",47),s(123),m(124,"translate"),x(125,Ja,2,0,"span",33),a(),p(126,"ng-select",48),m(127,"translate"),m(128,"async"),x(129,Za,3,1,"div",44),a()()(),l(130,"div",4)(131,"div",3)(132,"h6",26),p(133,"i",49),s(134),m(135,"translate"),a(),p(136,"hr",28),a(),x(137,io,10,12,"div",50),l(138,"div",41)(139,"div",30)(140,"label",31),p(141,"i",51),s(142),m(143,"translate"),x(144,no,2,0,"span",33),a(),l(145,"div",52)(146,"span",53),s(147,"CFA"),a(),p(148,"input",54),m(149,"translate"),a(),x(150,ro,3,1,"div",35),a()()(),l(151,"div",4)(152,"div",3)(153,"h6",26),p(154,"i",55),s(155),m(156,"translate"),a(),p(157,"hr",28),a(),l(158,"div",41)(159,"div",30)(160,"label",31),p(161,"i",56),s(162),m(163,"translate"),x(164,ao,2,0,"span",33),a(),p(165,"input",57),m(166,"translate"),x(167,oo,3,1,"div",35),a()(),l(168,"div",41)(169,"div",30)(170,"label",31),p(171,"i",58),s(172),m(173,"translate"),x(174,lo,2,0,"span",33),a(),p(175,"input",59),m(176,"translate"),x(177,so,3,1,"div",35),a()(),l(178,"div",41)(179,"div",30)(180,"label",31),p(181,"i",60),s(182),m(183,"translate"),x(184,mo,2,0,"span",33),a(),p(185,"input",61),x(186,co,3,1,"div",35),a()()()()(),l(187,"div",62)(188,"div",2)(189,"div",3),x(190,po,5,3,"div",63),m(191,"async"),l(192,"div",64)(193,"button",65),C("click",function(){return n.immoForm.reset()}),p(194,"i",66),s(195),m(196,"translate"),a(),l(197,"button",67),C("click",function(){return n.submitForm()}),p(198,"i",68),m(199,"async"),x(200,uo,1,0,"span",69),m(201,"async"),s(202),m(203,"translate"),m(204,"translate"),a()()()()()()()()()()),i&2){let r,d,u,f,M,D,J,at,ot,lt,sn,mn,cn,dn,pn,un,fn,gn,vn,_n,hn,bn,xn,Cn,yn,Sn,En,In,wn,On,Bn;o(10),O(" ",n.immoId?c(11,117,"Edit"):c(12,119,"CreateU")," ",c(13,121,"Immobilisation")," "),o(5),g(" ",n.immoId?c(16,123,"UpdateAssetInformation"):c(17,125,"AddNewAssetToInventory")," "),o(6),g("",c(22,127,"Back")," "),o(11),g("",c(33,129,"Step")," 1"),o(3),v(c(36,131,"BasicInformation")),o(9),v(c(45,133,"AssetInformation")),o(3),v(c(48,135,"FillRequiredFields")),o(3),y((r=c(51,137,n.error$))?50:-1,r),o(2),S("formGroup",n.immoForm),o(5),g(" ",c(58,139,"BasicInformation")," "),o(7),g(" ",c(65,141,"Designation")," "),o(2),y(n.isFieldRequired("name")?66:-1),o(),k("is-invalid",n.btnSubmit&&((d=n.immoForm.get("name"))==null?null:d.invalid))("is-valid",(u=n.immoForm.get("name"))==null?null:u.valid),P("placeholder",c(68,143,"EnterAssetName")),o(2),y(n.btnSubmit&&n.immoForm.invalid&&((f=n.immoForm.get("name"))!=null&&f.invalid)?69:-1),o(5),g(" ",c(75,145,"Mark")," "),o(2),y(n.isFieldRequired("mark")?76:-1),o(),k("is-invalid",n.btnSubmit&&((M=n.immoForm.get("mark"))==null?null:M.invalid))("is-valid",(D=n.immoForm.get("mark"))==null?null:D.valid),P("placeholder",c(78,147,"EnterBrand")),o(2),y(n.btnSubmit&&n.immoForm.invalid&&((J=n.immoForm.get("mark"))!=null&&J.invalid)?79:-1),o(5),g(" ",c(85,149,"Model")," "),o(2),y(n.isFieldRequired("model")?86:-1),o(),k("is-invalid",n.btnSubmit&&((at=n.immoForm.get("model"))==null?null:at.invalid))("is-valid",(ot=n.immoForm.get("model"))==null?null:ot.valid),P("placeholder",c(88,151,"EnterModel")),o(2),y(n.btnSubmit&&n.immoForm.invalid&&((lt=n.immoForm.get("model"))!=null&&lt.invalid)?89:-1),o(5),g(" ",c(95,153,"Classification")," "),o(7),g(" ",c(102,155,"Categorie")," "),o(2),y(n.isFieldRequired("categorie_id")?103:-1),o(),k("is-invalid",n.btnSubmit&&((sn=n.immoForm.get("categorie_id"))==null?null:sn.invalid))("is-valid",(mn=n.immoForm.get("categorie_id"))==null?null:mn.valid),P("placeholder",c(105,157,"SelectCategory")),S("items",c(106,159,n.categories$))("addTag",n.addTagNowRef)("closeOnSelect",!0)("searchable",!0)("clearable",!0),o(3),y(n.btnSubmit&&n.immoForm.invalid&&((cn=n.immoForm.get("categorie_id"))!=null&&cn.invalid)?107:-1),o(5),g(" ",c(113,161,"Structure")," "),o(2),y(n.isFieldRequired("structure_id")?114:-1),o(),k("is-invalid",n.btnSubmit&&((dn=n.immoForm.get("structure_id"))==null?null:dn.invalid))("is-valid",(pn=n.immoForm.get("structure_id"))==null?null:pn.valid),P("placeholder",c(116,163,"SelectStructure")),S("items",c(117,165,n.structures$))("addTag",n.addTagNowStrRef)("closeOnSelect",!0)("searchable",!0)("clearable",!0),o(3),y(n.btnSubmit&&n.immoForm.invalid&&((un=n.immoForm.get("structure_id"))!=null&&un.invalid)?118:-1),o(5),g(" ",c(124,167,"Fournisseur")," "),o(2),y(n.isFieldRequired("fournisseur_id")?125:-1),o(),k("is-invalid",n.btnSubmit&&((fn=n.immoForm.get("fournisseur_id"))==null?null:fn.invalid))("is-valid",(gn=n.immoForm.get("fournisseur_id"))==null?null:gn.valid),P("placeholder",c(127,169,"SelectSupplier")),S("items",c(128,171,n.fournisseurs$))("addTag",n.addTagNowFourRef)("closeOnSelect",!0)("searchable",!0)("clearable",!0),o(3),y(n.btnSubmit&&n.immoForm.invalid&&((vn=n.immoForm.get("fournisseur_id"))!=null&&vn.invalid)?129:-1),o(5),g(" ",c(135,173,"FinancialInformation")," "),o(3),S("ngIf",!n.immoId),o(5),g(" ",c(143,175,"Unit Price")," "),o(2),y(n.isFieldRequired("unit_price")?144:-1),o(4),k("is-invalid",n.btnSubmit&&((_n=n.immoForm.get("unit_price"))==null?null:_n.invalid))("is-valid",(hn=n.immoForm.get("unit_price"))==null?null:hn.valid),P("placeholder",c(149,177,"EnterPrice")),o(2),y(n.btnSubmit&&n.immoForm.invalid&&((bn=n.immoForm.get("unit_price"))!=null&&bn.invalid)?150:-1),o(5),g(" ",c(156,179,"AdministrativeInformation")," "),o(7),g(" ",c(163,181,"Num bon commande")," "),o(2),y(n.isFieldRequired("num_bon_commande")?164:-1),o(),k("is-invalid",n.btnSubmit&&((xn=n.immoForm.get("num_bon_commande"))==null?null:xn.invalid))("is-valid",(Cn=n.immoForm.get("num_bon_commande"))==null?null:Cn.valid),P("placeholder",c(166,183,"EnterOrderNumber")),o(2),y(n.btnSubmit&&n.immoForm.invalid&&((yn=n.immoForm.get("num_bon_commande"))!=null&&yn.invalid)?167:-1),o(5),g(" ",c(173,185,"Num process verbal")," "),o(2),y(n.isFieldRequired("num_proces_verbal")?174:-1),o(),k("is-invalid",n.btnSubmit&&((Sn=n.immoForm.get("num_proces_verbal"))==null?null:Sn.invalid))("is-valid",(En=n.immoForm.get("num_proces_verbal"))==null?null:En.valid),P("placeholder",c(176,187,"EnterProcessNumber")),o(2),y(n.btnSubmit&&n.immoForm.invalid&&((In=n.immoForm.get("num_proces_verbal"))!=null&&In.invalid)?177:-1),o(5),g(" ",c(183,189,"date_receipt")," "),o(2),y(n.isFieldRequired("date_of_receipt")?184:-1),o(),k("is-invalid",n.btnSubmit&&((wn=n.immoForm.get("date_of_receipt"))==null?null:wn.invalid))("is-valid",(On=n.immoForm.get("date_of_receipt"))==null?null:On.valid),o(),y(n.btnSubmit&&n.immoForm.invalid&&((Bn=n.immoForm.get("date_of_receipt"))!=null&&Bn.invalid)?186:-1),o(4),y(c(191,191,n.loading$)?190:-1),o(5),g(" ",c(196,193,"Reset")," "),o(2),S("ngClass",n.immoId?"btn-warning":"btn-primary"),o(),k("me-2",!c(199,195,n.loading$)),S("ngClass",n.immoId?"fa-edit":"fa-plus"),o(2),y(c(201,197,n.loading$)?200:-1),o(2),g(" ",n.immoId?c(203,199,"Update"):c(204,201,"Create")," ")}},dependencies:[He,ae,Ie,H,Nn,X,Ee,Vn,we,Oe,Ct,se,qn,N,V],styles:[`.main-content[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}.container-fluid[_ngcontent-%COMP%]{padding-left:1rem!important;padding-right:1rem!important;max-width:100%!important}.create-immobilisation-form[_ngcontent-%COMP%], .create-immobilisation-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;max-width:100%}.create-immobilisation-form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-left:-.5rem;margin-right:-.5rem}.create-immobilisation-form[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%], .create-immobilisation-form[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%], .create-immobilisation-form[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}@media (min-width: 1200px){.create-immobilisation-form[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.create-immobilisation-form[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}}@media (min-width: 1400px){.create-immobilisation-form[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.create-immobilisation-form[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}}.create-immobilisation-form[_ngcontent-%COMP%]   .row.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.create-immobilisation-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.create-immobilisation-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;font-size:.875rem}.create-immobilisation-form[_ngcontent-%COMP%]   .form-control-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.875rem;line-height:1.5}.create-immobilisation-form[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.875rem}.create-immobilisation-form[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:.75rem}.create-immobilisation-form[_ngcontent-%COMP%]   hr.horizontal[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}.step-indicator[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;background-color:#fff3;border:2px solid rgba(255,255,255,.3);transition:all .3s ease}.step-indicator.active[_ngcontent-%COMP%]{background-color:#ffffff4d;border-color:#fff9;transform:scale(1.1)}.form-control-lg[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem;border-radius:.5rem;border:1px solid #d2d6da;transition:all .2s ease}.form-control-lg[_ngcontent-%COMP%]:focus{border-color:#5e72e4;box-shadow:0 0 0 .2rem #5e72e440;outline:none}.form-control-lg.is-valid[_ngcontent-%COMP%]{border-color:#2dce89;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%232dce89' d='m2.3 6.73.8-.77-.8-.77-.8.77zm1.3-2.77-.8-.77L1.5 4.37l.8.77zm0 0-.8-.77-.8.77.8.77z'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control-lg.is-invalid[_ngcontent-%COMP%]{border-color:#f5365c;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23f5365c'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath d='m5.8 4.1-1.7 3.8M6.2 4.1l1.7 3.8'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#344767;margin-bottom:.5rem;font-size:.875rem}.invalid-feedback[_ngcontent-%COMP%]{display:block;width:100%;margin-top:.25rem;font-size:.875rem;color:#f5365c;background-color:#f5365c1a;padding:.375rem .75rem;border-radius:.375rem;border-left:3px solid #f5365c}.input-group[_ngcontent-%COMP%]   .form-control-lg[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.input-group-text[_ngcontent-%COMP%]{background-color:#f8f9fa;border-color:#d2d6da;color:#6c757d;font-weight:600;border-top-right-radius:0;border-bottom-right-radius:0}ng-select[_ngcontent-%COMP%]{display:block}ng-select.ng-select-focused[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-color:#5e72e4;box-shadow:0 0 0 .2rem #5e72e440}ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{min-height:48px;border-radius:.5rem;border:1px solid #d2d6da;background-color:#fff;transition:all .2s ease}ng-select.is-invalid[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-color:#f5365c}ng-select.is-valid[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border-color:#2dce89}ng-select[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{color:#6c757d;font-size:1rem}ng-select[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:1rem;color:#495057}ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]{width:25px}ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]   .ng-arrow[_ngcontent-%COMP%]{border-color:#999 transparent transparent;border-style:solid;border-width:5px 5px 0}.card[_ngcontent-%COMP%]{border:none;border-radius:1rem;box-shadow:0 4px 25px #00000014;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 35px #0000001f;transform:translateY(-2px)}.card-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.05);border-radius:1rem 1rem 0 0!important}.card-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.05);border-radius:0 0 1rem 1rem!important}.horizontal.dark[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#34476700,#34476766,#34476700);height:1px;border:none}.alert[_ngcontent-%COMP%]{border:none;border-radius:.75rem;padding:1rem 1.5rem;box-shadow:0 2px 10px #0000001a}.alert-danger[_ngcontent-%COMP%]{background-color:#f5365c1a;color:#721c24;border-left:4px solid #f5365c}.btn[_ngcontent-%COMP%]{border-radius:.5rem;font-weight:600;padding:.75rem 1.5rem;transition:all .2s ease;border:none}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.btn-lg[_ngcontent-%COMP%]{padding:1rem 2rem;font-size:1.125rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5e72e4,#825ee4)}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fb6340,#fbb140)}.btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid #8392ab;color:#8392ab;background:transparent}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#8392ab;color:#fff}.icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:.75rem;display:flex;align-items:center;justify-content:center}.icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}@media (max-width: 768px){.card-body[_ngcontent-%COMP%]{padding:1.5rem}.form-control-lg[_ngcontent-%COMP%]{font-size:.875rem;padding:.625rem .875rem}.btn[_ngcontent-%COMP%]{padding:.625rem 1.25rem;font-size:.875rem}.btn-lg[_ngcontent-%COMP%]{padding:.875rem 1.75rem;font-size:1rem}}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.form-control.is-invalid[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}.bg-gradient-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5e72e4,#825ee4)}.bg-gradient-light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef)}`]})};var fo=()=>[],Pt=(t,e)=>e.id;function go(t,e){if(t&1){let i=F();l(0,"div",7)(1,"button",66),C("click",function(){h(i);let r=_();return b(r.closeScan())}),s(2),m(3,"translate"),a()()}t&2&&(o(2),g(" ",c(3,1,"close scan barcode")," "))}function vo(t,e){if(t&1){let i=F();l(0,"div",7)(1,"button",66),C("click",function(){h(i);let r=_();return b(r.scanCodeBarre())}),p(2,"i",15),s(3),m(4,"translate"),a()()}t&2&&(o(3),g(" ",c(4,1,"scan a barcode")," "))}function _o(t,e){if(t&1&&(l(0,"option",32),s(1),a()),t&2){let i=e.$implicit;S("value",i.id),o(),v(i.name)}}function ho(t,e){if(t&1&&(l(0,"option",32),s(1),m(2,"translate"),a()),t&2){let i=e.$implicit,n=_();S("value",i),o(),v(c(2,2,n.getStatusLabel(i)))}}function bo(t,e){if(t&1&&(l(0,"option",32),s(1),a()),t&2){let i=e.$implicit;S("value",i.id),o(),v(i.raison_social)}}function xo(t,e){if(t&1&&(l(0,"option",32),s(1),a()),t&2){let i=e.$implicit;S("value",i.id),o(),v(i.name)}}function Co(t,e){if(t&1&&(l(0,"div",82)(1,"div",83)(2,"div",94),s(3),a()(),l(4,"div",85)(5,"h6",86),s(6),a(),l(7,"p",72),s(8),a()()()),t&2){let i=_().$implicit;o(3),O(" ",i.employee_immo.employee.first_name.charAt(0),"",i.employee_immo.employee.last_name.charAt(0)," "),o(3),O("",i.employee_immo.employee.first_name," ",i.employee_immo.employee.last_name,""),o(2),v(i.employee_immo.employee.matricule)}}function yo(t,e){t&1&&(l(0,"span",74),p(1,"i",95),s(2),m(3,"translate"),a()),t&2&&(o(2),g("",c(3,1,"NotAssigned")," "))}function So(t,e){if(t&1&&(l(0,"li")(1,"a",96),p(2,"i",97),s(3),m(4,"translate"),a()()),t&2){let i=_().$implicit;o(),Tn("routerLink","/admin/immobilisations/edit/",i.id,""),o(2),g("",c(4,3,"Edit")," ")}}function Eo(t,e){if(t&1){let i=F();l(0,"li")(1,"a",98),C("click",function(){h(i);let r=_().$implicit,d=_(2);return b(d.deleteImmobilisation(r.id))}),p(2,"i",99),s(3),m(4,"translate"),a()()}t&2&&(o(3),g("",c(4,1,"Delete")," "))}function Io(t,e){if(t&1){let i=F();l(0,"tr",67)(1,"td",68),p(2,"input",47),a(),l(3,"td")(4,"div",69)(5,"div",70)(6,"h6",71),s(7),a(),l(8,"p",72),p(9,"i",73),s(10),a()()()(),l(11,"td",68)(12,"div",70)(13,"span",74),p(14,"i",75),s(15),a(),l(16,"span",74),p(17,"i",76),s(18),a(),l(19,"span",74),p(20,"i",77),s(21),a()()(),l(22,"td",78)(23,"span",79),s(24),a()(),l(25,"td",78)(26,"span",80),s(27),m(28,"number"),a()(),l(29,"td",78)(30,"span",81),s(31),m(32,"translate"),a()(),l(33,"td",78),x(34,Co,9,5,"div",82)(35,yo,4,3,"span",74),a(),l(36,"td",78)(37,"div",82)(38,"div",83)(39,"div",84),s(40),a()(),l(41,"div",85)(42,"h6",86),s(43),a(),l(44,"p",72),s(45),m(46,"date"),a()()()(),l(47,"td",78)(48,"div",87)(49,"button",88),p(50,"i",89),a(),l(51,"ul",90)(52,"li")(53,"a",91),C("click",function(){let r=h(i).$implicit,d=_(2);return b(d.viewDetails(r.id))}),p(54,"i",92),s(55),m(56,"translate"),a()(),x(57,So,5,5,"li",93)(58,Eo,5,3,"li",93),a()()()()}if(t&2){let i=e.$implicit,n=_(2);o(7),v(i.name),o(3),g("",i.code," "),o(5),g("",i.categorie.name," "),o(3),g("",i.structure.name," "),o(3),g("",i.fournisseur.raison_social," "),o(3),v(i.quantity),o(3),g("",ue(28,17,i.unit_price,"1.2-2")," CFA"),o(3),S("ngClass",n.getStatusBadgeClass(i.status)),o(),g(" ",c(32,20,n.getStatusLabel(i.status))," "),o(3),y(i.employee_immo!=null&&i.employee_immo.employee?34:35),o(6),O(" ",i.user.first_name.charAt(0),"",i.user.last_name.charAt(0)," "),o(3),v(i.user.first_name),o(2),v(ue(46,22,i.created_at,"shortDate")),o(10),g("",c(56,25,"View")," "),o(2),S("ngIf",!(i!=null&&i.employee_immo)),o(),S("ngIf",n.havePermission(n.UserRole.SUPER_ADMIN)&&!(i!=null&&i.employee_immo))}}function wo(t,e){t&1&&L(0,Io,59,27,"tr",67,Pt),t&2&&R(e)}function Oo(t,e){t&1&&(l(0,"tr")(1,"td",100)(2,"div",101),p(3,"i",102),l(4,"h6",103),s(5),m(6,"translate"),a(),l(7,"p",54),s(8),m(9,"translate"),a(),l(10,"button",104),p(11,"i",17),s(12),m(13,"translate"),a()()()()),t&2&&(o(5),v(c(6,3,"NoDataFound")),o(3),v(c(9,5,"NoImmobilisationsAvailable")),o(4),g("",c(13,7,"AddFirst")," "))}var Mt=class t extends K{constructor(i,n,r,d,u,f,M){super();this.languageService=i;this.immoService=n;this.modalService=r;this.router=d;this.formBuilder=u;this.route=f;this.exportService=M}loading$;itemsPerPage=10;paginateData$;paginateData;totaElement=0;pageEvent;pageArray=[];searchCtrl;categoriesCtrl;statusCtrl;fournisseCtrl;structureCtrl;categories$;fournisseurs$;structures$;itemsPerPage$=new ee(this.itemsPerPage);listImmobilisationStatusEnum=wt;page$=new ee(1);employeeId;immobilisations$;barcodeScanner;isActiveScan=!1;currentSortBy="created_at";sortDirection="desc";startDate="";endDate="";ngOnInit(){console.log("init"),this.loading$=this.immoService.loading$,this.searchCtrl=this.formBuilder.control(""),this.categoriesCtrl=this.formBuilder.control(""),this.statusCtrl=this.formBuilder.control(""),this.fournisseCtrl=this.formBuilder.control(""),this.structureCtrl=this.formBuilder.control(""),this.categories$=this.immoService.categories$,this.fournisseurs$=this.immoService.fournisseurs$,this.structures$=this.immoService.structures$,this.paginateData$=this.immoService.paginateData$,this.paginateData$.subscribe(i=>{this.paginateData=i,this.totaElement=i.total??0,this.changeChoiceItemPage()}),this.immoService.getCategoriesFullFromServer(),this.immoService.getStructuresFullFromServer(),this.immoService.getFournisseursFullFromServer(),this.employeeId=this.route.snapshot.queryParamMap.get("employee_id")||void 0,this.immobilisations$=this.immoService.immobilisations$,this.immobilisations$.subscribe(i=>{this.isActiveScan&&i.length==1&&(this.isActiveScan=!1,this.barcodeScanner.stop(),this.immoService.setSnackMesage("Immobilisation trouv\xE9e : "+i[0].name))}),this.employeeId?this.immoService.getImmoFromServer({current_page:1,per_page:this.itemsPerPage},[B("employee_id",this.employeeId)]):this.immoService.getImmoFromServer({current_page:1,per_page:this.itemsPerPage}),this.initSearchFilter()}onValueChanges(i){console.log("valueChanges :",i.codeResult.code),i.codeResult.code.length>8&&(console.log("valueChanges 2 : ",i.codeResult.code),this.searchCtrl.setValue(i.codeResult.code),this.applyFilters())}scanCodeBarre(){this.barcodeScanner&&typeof this.barcodeScanner.start=="function"&&(this.barcodeScanner.start(),this.isActiveScan=!0)}closeScan(){this.barcodeScanner.stop(),this.isActiveScan=!1}onStarted(i){console.log("started :",i)}getImmoSearchOptions(i=[]){let n=i;this.employeeId&&n.push(B("employee_id",this.employeeId)),this.immoService.getImmoFromServer(this.paginateData,n)}initSearchFilter(){this.searchCtrl.valueChanges.pipe(ne(300),re()).subscribe(()=>{this.applyFilters()}),this.categoriesCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.statusCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.fournisseCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.structureCtrl.valueChanges.subscribe(()=>{this.applyFilters()})}createImmobilisation(){let i=this.modalService.open(De,{centered:!0,backdrop:"static"});var n;n=i.componentInstance.realod,n.subscribe(r=>{r&&this.applyFilters()})}updateImmobilisation(i){let n=this.modalService.open(De,{centered:!0,backdrop:"static"});n.componentInstance.immobilisationId=i;var r;r=n.componentInstance.realod,r.subscribe(d=>{d&&this.applyFilters()})}pageChange(i){return this.paginateData.current_page=i.pageIndex+1,this.paginateData.per_page=i.pageSize,this.applyFilters(),console.log(this.paginateData),i}changeChoiceItemPage(){let i=[];if(console.log(this.pageArray),this.totaElement<=2)console.log("total",this.totaElement),i.push(this.totaElement);else{for(let n=1;n<this.totaElement/2;n++)i.push(n*2);this.totaElement%2>0&&i.push(this.totaElement)}console.log(i),this.pageArray=i}viewDetails(i){this.router.navigate(["/admin/immobilisations/detail",i])}deleteImmobilisation(i){this.immoService.deleteImmo(i)}onSearch(){console.log("Search term:",this.searchCtrl.value)}onCategoryFilter(){console.log("Filter by category:",this.categoriesCtrl.value)}onStatusFilter(){console.log("Filter by status:",this.statusCtrl.value)}sortBy(i){this.currentSortBy===i?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=i,this.sortDirection="asc"),this.applyFilters()}getSortIcon(i){return this.currentSortBy!==i?"fas fa-sort text-muted":this.sortDirection==="asc"?"fas fa-sort-up text-primary":"fas fa-sort-down text-primary"}getStatusBadgeClass(i){switch(i.toLowerCase()){case"active":return"bg-gradient-success";case"broken":return"bg-gradient-danger";case"stock":return"bg-gradient-info";case"created":return"bg-gradient-secondary";case"cession":return"bg-gradient-warning";case"sale":return"bg-gradient-primary";default:return"bg-gradient-secondary"}}getStatusLabel(i){switch(i.toLowerCase()){case"active":return"Active";case"broken":return"Broken";case"stock":return"InStock";case"created":return"StatusCreated";case"cession":return"Cession";case"sale":return"Sale";default:return i}}applyFilters(){let i=[];this.searchCtrl.value&&i.push(ce(this.searchCtrl.value)),this.categoriesCtrl.value&&i.push(B("categorie_id",this.categoriesCtrl.value)),this.statusCtrl.value&&i.push(B("status",this.statusCtrl.value)),this.fournisseCtrl.value&&i.push(B("fournisseur_id",this.fournisseCtrl.value)),this.structureCtrl.value&&i.push(B("structure_id",this.structureCtrl.value)),this.startDate&&i.push(B("start_date",this.startDate)),this.endDate&&i.push(B("end_date",this.endDate)),i.push(B("sort_by",this.currentSortBy)),i.push(B("sort_direction",this.sortDirection)),this.getImmoSearchOptions(i)}resetFilters(){this.startDate="",this.endDate="",this.currentSortBy="created_at",this.sortDirection="desc",this.searchCtrl.setValue(""),this.categoriesCtrl.setValue(""),this.statusCtrl.setValue(""),this.fournisseCtrl.setValue(""),this.structureCtrl.setValue(""),this.applyFilters()}exportColumns=[{key:"code",label:"Code",translateKey:"export.code"},{key:"name",label:"Designation",translateKey:"export.designation"},{key:"categorie.name",label:"Cat\xE9gorie",translateKey:"export.category"},{key:"mark",label:"Marque",translateKey:"export.mark"},{key:"model",label:"Mod\xE8le",translateKey:"export.model"},{key:"structure.name",label:"Structure",translateKey:"export.structure"},{key:"date_of_receipt",label:"Date R\xE9ception",translateKey:"export.receptionDate"},{key:"created_at",label:"Date Cr\xE9ation",translateKey:"export.createdAt"},{key:"unit_price",label:"Prix Unitaire",translateKey:"export.unitPrice"},{key:"quantity",label:"Quantit\xE9",translateKey:"export.quantity"},{key:"fournisseur.raison_social",label:"Fournisseur",translateKey:"export.supplier"},{key:"status",label:"Statut",translateKey:"export.status"}];onExport(i){this.immobilisations$.subscribe(n=>{let r={filename:"Liste_Immobilisations",title:"Liste des Immobilisations",columns:this.exportColumns,data:n};switch(i){case"csv":this.exportService.exportToCSV(r);break;case"excel":this.exportService.exportToExcel(r);break;case"pdf":this.exportService.exportToPDF(r);break}}).unsubscribe()}onBeforeExport(i){console.log(`D\xE9but de l'export ${i.format} avec ${i.data.length} \xE9l\xE9ments`)}onAfterExport(i){i.success?console.log(`Export ${i.format} r\xE9ussi`):console.error(`Erreur lors de l'export ${i.format}`)}static \u0275fac=function(n){return new(n||t)(E(U),E(j),E(me),E(xt),E(W),E(Xe),E(Pe))};static \u0275cmp=A({type:t,selectors:[["app-list-immobilisation"]],viewQuery:function(n,r){if(n&1&&Ge(Ot,5),n&2){let d;ze(d=Ue())&&(r.barcodeScanner=d.first)}},standalone:!1,features:[xe],decls:199,vars:166,consts:[["barcodeScanner",""],["paginator",""],["nameOption","Immobilisations"],[1,"row","col-6"],["type","code_128",3,"valueChanges","started"],["class","col-lg-8 col-md-6 col-12",4,"ngIf"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[1,"me-2",3,"beforeExport","afterExport","data","columns","filename","title","disabled"],["routerLink","generate-barcodes",1,"btn","btn-outline-info","btn-sm","mb-0","me-2"],[1,"fas","fa-barcode","me-2"],["routerLink","create",1,"btn","btn-primary","btn-sm","mb-0"],[1,"fas","fa-plus","me-2"],[1,"col-12"],[1,"card"],[1,"card-body","p-3"],[1,"row","align-items-center"],[1,"col-lg-3","col-md-6","col-12"],[1,"form-group","mb-0"],[1,"form-label","text-xs"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"col-lg-2","col-md-6","col-12"],[1,"form-select",3,"formControl"],["value",""],[3,"value"],[1,"row","align-items-center","mt-3"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"col-lg-1","col-md-6","col-12"],[1,"form-label","text-xs","opacity-0"],[1,"btn","btn-outline-secondary","btn-sm","w-100",3,"click","title"],[1,"fas","fa-undo"],[1,"row"],[1,"card-header","pb-0"],[1,"col-lg-6","col-7"],[1,"mb-0"],[1,"card-body","px-0","pt-0","pb-2"],[1,"table-responsive","p-0"],[1,"table","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-2"],["type","checkbox",1,"form-check-input"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"ms-1"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"text-sm","text-secondary"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"],["id","bulkActionsModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"],[1,"btn","btn-outline-info","btn-sm","mb-1","me-2",3,"click"],[1,"hover-row"],[1,"ps-2"],[1,"d-flex","px-2","py-1"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-0","text-sm"],[1,"text-xs","text-secondary","mb-0"],[1,"fas","fa-barcode","me-1"],[1,"text-xs","text-secondary"],[1,"fas","fa-layer-group","me-1"],[1,"fas","fa-building","me-1"],[1,"fas","fa-truck","me-1"],[1,"text-center"],[1,"badge","badge-sm","bg-gradient-info"],[1,"text-sm","font-weight-bold"],[1,"badge","badge-sm",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-center"],[1,"avatar","avatar-xs","me-2"],[1,"avatar-initial","rounded-circle","bg-gradient-primary"],[1,"d-flex","flex-column"],[1,"mb-0","text-xs"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-link","text-secondary","p-0","dropdown-toggle"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-eye","me-2"],[4,"ngIf"],[1,"avatar-initial","rounded-circle","bg-gradient-success"],[1,"fas","fa-user-slash","me-1"],[1,"dropdown-item",3,"routerLink"],[1,"fas","fa-edit","me-2"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["colspan","9",1,"text-center","py-4"],[1,"d-flex","flex-column","align-items-center"],[1,"fas","fa-inbox","text-muted","mb-3",2,"font-size","3rem"],[1,"text-muted","mb-2"],["routerLink","create",1,"btn","btn-primary","btn-sm"]],template:function(n,r){if(n&1){let d=F();l(0,"app-base",2)(1,"div",3)(2,"barcode-scanner-livestream",4,0),C("valueChanges",function(f){return h(d),b(r.onValueChanges(f))})("started",function(){return h(d),b(r.onStarted(!0))}),a(),x(4,go,4,3,"div",5),a(),x(5,vo,5,3,"div",5),l(6,"div",6)(7,"div",7)(8,"div",8)(9,"h4",9),s(10),m(11,"translate"),a(),l(12,"span",10),s(13),m(14,"async"),m(15,"translate"),a()(),l(16,"p",11),s(17),m(18,"translate"),a()(),l(19,"div",12)(20,"app-export-buttons",13),m(21,"async"),m(22,"translate"),m(23,"translate"),m(24,"async"),C("beforeExport",function(f){return h(d),b(r.onBeforeExport(f))})("afterExport",function(f){return h(d),b(r.onAfterExport(f))}),a(),l(25,"button",14),p(26,"i",15),s(27),m(28,"translate"),a(),l(29,"button",16),p(30,"i",17),s(31),m(32,"translate"),m(33,"translate"),a()()(),l(34,"div",6)(35,"div",18)(36,"div",19)(37,"div",20)(38,"div",21)(39,"div",22)(40,"div",23)(41,"label",24),s(42),m(43,"translate"),a(),l(44,"div",25)(45,"span",26),p(46,"i",27),a(),p(47,"input",28),m(48,"translate"),a()()(),l(49,"div",29)(50,"div",23)(51,"label",24),s(52),m(53,"translate"),a(),l(54,"select",30)(55,"option",31),s(56),m(57,"translate"),a(),L(58,_o,2,2,"option",32,Pt),m(60,"async"),a()()(),l(61,"div",29)(62,"div",23)(63,"label",24),s(64),m(65,"translate"),a(),l(66,"select",30)(67,"option",31),s(68),m(69,"translate"),a(),L(70,ho,3,4,"option",32,kn),a()()(),l(72,"div",29)(73,"div",23)(74,"label",24),s(75),m(76,"translate"),a(),l(77,"select",30)(78,"option",31),s(79),m(80,"translate"),a(),L(81,bo,2,2,"option",32,Pt),m(83,"async"),a()()(),l(84,"div",29)(85,"div",23)(86,"label",24),s(87),m(88,"translate"),a(),l(89,"select",30)(90,"option",31),s(91),m(92,"translate"),a(),L(93,xo,2,2,"option",32,Pt),m(95,"async"),a()()()(),l(96,"div",33)(97,"div",29)(98,"div",23)(99,"label",24),s(100),m(101,"translate"),a(),l(102,"input",34),z("ngModelChange",function(f){return h(d),G(r.startDate,f)||(r.startDate=f),b(f)}),C("change",function(){return h(d),b(r.applyFilters())}),a()()(),l(103,"div",29)(104,"div",23)(105,"label",24),s(106),m(107,"translate"),a(),l(108,"input",34),z("ngModelChange",function(f){return h(d),G(r.endDate,f)||(r.endDate=f),b(f)}),C("change",function(){return h(d),b(r.applyFilters())}),a()()(),l(109,"div",35)(110,"div",23)(111,"label",36),s(112,"Action"),a(),l(113,"button",37),m(114,"translate"),C("click",function(){return h(d),b(r.resetFilters())}),p(115,"i",38),a()()()()()()()(),l(116,"div",39)(117,"div",18)(118,"div",19)(119,"div",40)(120,"div",21)(121,"div",41)(122,"h6",42),s(123),m(124,"translate"),a()()()(),l(125,"div",43)(126,"div",44)(127,"table",45)(128,"thead")(129,"tr")(130,"th",46),p(131,"input",47),a(),l(132,"th",48),C("click",function(){return h(d),b(r.sortBy("name"))}),s(133),m(134,"translate"),p(135,"i",49),a(),l(136,"th",46),s(137),m(138,"translate"),a(),l(139,"th",50),C("click",function(){return h(d),b(r.sortBy("quantity"))}),s(140),m(141,"translate"),p(142,"i",49),a(),l(143,"th",50),C("click",function(){return h(d),b(r.sortBy("unit_price"))}),s(144),m(145,"translate"),p(146,"i",49),a(),l(147,"th",50),C("click",function(){return h(d),b(r.sortBy("status"))}),s(148),m(149,"translate"),p(150,"i",49),a(),l(151,"th",51),s(152),m(153,"translate"),a(),l(154,"th",50),C("click",function(){return h(d),b(r.sortBy("created_at"))}),s(155),m(156,"translate"),p(157,"i",49),a(),l(158,"th",51),s(159),m(160,"translate"),a()()(),l(161,"tbody"),x(162,wo,2,0),m(163,"async"),x(164,Oo,14,9,"tr"),a()()(),l(165,"div",52)(166,"div",53)(167,"div",8)(168,"span",54),s(169),m(170,"translate"),m(171,"async"),m(172,"translate"),m(173,"async"),m(174,"translate"),m(175,"async"),m(176,"translate"),a()()(),l(177,"div",53)(178,"mat-paginator",55,1),C("page",function(f){return h(d),b(r.pageEvent=r.pageChange(f))}),a()()()()()()(),l(180,"div",56)(181,"div",57)(182,"div",58)(183,"div",59)(184,"h5",60),s(185),m(186,"translate"),a(),p(187,"button",61),a(),l(188,"div",62)(189,"p"),s(190),m(191,"translate"),a()(),l(192,"div",63)(193,"button",64),s(194),m(195,"translate"),a(),l(196,"button",65),s(197),m(198,"translate"),a()()()()()()}if(n&2){let d,u,f,M;o(4),S("ngIf",r.isActiveScan),o(),S("ngIf",!r.isActiveScan),o(5),v(c(11,69,"Immobilisations")),o(3),O("",((d=c(14,71,r.immobilisations$))==null?null:d.length)||0," ",c(15,73,"items"),""),o(4),v(c(18,75,"ManageYourAssets")),o(3),S("data",c(21,77,r.immobilisations$)||ye(165,fo))("columns",r.exportColumns)("filename",c(22,79,"export.filename.immobilisations"))("title",c(23,81,"export.title.immobilisations"))("disabled",((u=c(24,83,r.immobilisations$))==null?null:u.length)===0),o(7),g(" ",c(28,85,"GenerateBarcodes")," "),o(4),O(" ",c(32,87,"Add")," ",c(33,89,"Immobilisation")," "),o(11),v(c(43,91,"Search")),o(5),P("placeholder",c(48,93,"SearchByNameOrCode")),S("formControl",r.searchCtrl),o(5),v(c(53,95,"Category")),o(2),S("formControl",r.categoriesCtrl),o(2),v(c(57,97,"All")),o(2),R(c(60,99,r.categories$)),o(6),v(c(65,101,"Status")),o(2),S("formControl",r.statusCtrl),o(2),v(c(69,103,"All")),o(2),R(r.listImmobilisationStatusEnum),o(5),v(c(76,105,"Supplier")),o(2),S("formControl",r.fournisseCtrl),o(2),v(c(80,107,"All")),o(2),R(c(83,109,r.fournisseurs$)),o(6),v(c(88,111,"Structure")),o(2),S("formControl",r.structureCtrl),o(2),v(c(92,113,"All")),o(2),R(c(95,115,r.structures$)),o(7),v(c(101,117,"DateFrom")),o(2),q("ngModel",r.startDate),o(4),v(c(107,119,"DateTo")),o(2),q("ngModel",r.endDate),o(5),P("title",c(114,121,"ResetFilters")),o(10),v(c(124,123,"ImmobilisationsList")),o(10),g(" ",c(134,125,"Asset")," "),o(2),w(r.getSortIcon("name")),o(2),g(" ",c(138,127,"Details")," "),o(3),g(" ",c(141,129,"Quantity")," "),o(2),w(r.getSortIcon("quantity")),o(2),g(" ",c(145,131,"Value")," "),o(2),w(r.getSortIcon("unit_price")),o(2),g(" ",c(149,133,"Status")," "),o(2),w(r.getSortIcon("status")),o(2),g(" ",c(153,135,"Employee")," "),o(3),g(" ",c(156,137,"CreatedAt")," "),o(2),w(r.getSortIcon("created_at")),o(2),g(" ",c(160,139,"Actions")," "),o(3),y((f=c(163,141,r.immobilisations$))?162:164,f),o(7),Ce(" ",c(170,143,"Showing")," ",((M=c(171,145,r.paginateData$))==null?null:M.current_page)||0," ",c(172,147,"to")," ",((M=c(173,149,r.paginateData$))==null?null:M.per_page)||0," ",c(174,151,"of")," ",((M=c(175,153,r.paginateData$))==null?null:M.total)||0," ",c(176,155,"entries")," "),o(9),S("length",r.totaElement)("pageSize",r.itemsPerPage)("pageSizeOptions",r.pageArray)("showFirstLastButtons",!0),o(7),v(c(186,157,"BulkActions")),o(5),v(c(191,159,"SelectBulkAction")),o(4),v(c(195,161,"Cancel")),o(3),v(c(198,163,"Apply"))}},dependencies:[He,ae,St,Et,H,yt,X,oe,le,Ct,K,Me,Fe,Ot,N,An,Se,V],styles:[`.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]:hover{background-color:#0000000d}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7;transition:all .2s ease}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{opacity:1}.hover-row[_ngcontent-%COMP%]:hover{background-color:#5e72e40d;transform:translateY(-1px);transition:all .2s ease}.avatar-initial[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;color:#fff;text-transform:uppercase}.form-select[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.badge-status[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem;border-radius:.375rem}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding:.75rem .5rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem .5rem;border-bottom:1px solid #f8f9fa;vertical-align:middle}.btn-action[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;border-radius:.375rem;border:none;cursor:pointer;transition:all .2s ease}.btn-action[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.search-input[_ngcontent-%COMP%]{border:1px solid #d2d6da;border-radius:.5rem;padding:.5rem 1rem;font-size:.875rem;transition:all .2s ease}.search-input[_ngcontent-%COMP%]:focus{border-color:#5e72e4;box-shadow:0 0 0 .2rem #5e72e440;outline:none}.empty-state[_ngcontent-%COMP%]{padding:3rem 2rem;text-align:center;color:#6c757d}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.card-header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #f8f9fa;padding:1rem 1.5rem}.filters-section[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:.75rem;padding:1.5rem;margin-bottom:1.5rem}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}.btn-action[_ngcontent-%COMP%]{font-size:.75rem;padding:.125rem .25rem}.badge[_ngcontent-%COMP%]{font-size:.625rem}}.btn[_ngcontent-%COMP%]{transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #0000001a}.mat-paginator[_ngcontent-%COMP%]{border-radius:.5rem;background-color:#fff}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#5e72e4;border-color:#5e72e4}.form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #5e72e440}`]})};var Bo=()=>[],Po=(t,e)=>e.id;function Mo(t,e){t&1&&(l(0,"div",34),p(1,"app-custom-spinner"),a())}function Fo(t,e){if(t&1){let i=F();l(0,"li")(1,"a",72),C("click",function(){h(i);let r=_().$implicit,d=_(2);return b(d.deleteCategorie(r.id))}),p(2,"i",73),s(3),m(4,"translate"),a()()}t&2&&(o(3),g("",c(4,1,"Delete")," "))}function ko(t,e){if(t&1){let i=F();l(0,"tr",47)(1,"td",48),p(2,"input",38),a(),l(3,"td")(4,"div",49)(5,"div",4)(6,"div",50)(7,"div",51),p(8,"i",52),a()(),l(9,"div",53)(10,"h6",54),s(11),a(),l(12,"p",55),p(13,"i",56),s(14),a()()()()(),l(15,"td")(16,"span",57),s(17),a()(),l(18,"td",58)(19,"div",59)(20,"div",60)(21,"div",61),s(22),a()(),l(23,"div",62)(24,"h6",63),s(25),a(),l(26,"p",55),s(27),m(28,"date"),a()()()(),l(29,"td",58)(30,"div",64)(31,"button",65),p(32,"i",66),a(),l(33,"ul",67)(34,"li")(35,"a",68),C("click",function(){let r=h(i).$implicit,d=_(2);return b(d.updateCategorie(r.id))}),p(36,"i",69),s(37),m(38,"translate"),a()(),l(39,"li"),p(40,"hr",70),a(),x(41,Fo,5,3,"li",71),a()()()()}if(t&2){let i=e.$implicit,n=_(2);o(11),v(i.name),o(3),g("",i.id," "),o(3),v(i.short_name),o(5),O(" ",i.user.first_name.charAt(0),"",i.user.last_name.charAt(0)," "),o(3),O("",i.user.first_name," ",i.user.last_name,""),o(2),v(ue(28,10,i.created_at,"shortDate")),o(10),g("",c(38,13,"Edit")," "),o(4),S("ngIf",n.havePermission(n.UserRole.SUPER_ADMIN))}}function To(t,e){t&1&&L(0,ko,42,15,"tr",47,Po),t&2&&R(e)}function Do(t,e){if(t&1){let i=F();l(0,"tr")(1,"td",74)(2,"div",75),p(3,"i",76),l(4,"h6",77),s(5),m(6,"translate"),a(),l(7,"p",45),s(8),m(9,"translate"),a(),l(10,"button",78),C("click",function(){h(i);let r=_();return b(r.createCategorie())}),p(11,"i",11),s(12),m(13,"translate"),a()()()()}t&2&&(o(5),v(c(6,3,"NoDataFound")),o(3),v(c(9,5,"NoCategoriesAvailable")),o(4),g("",c(13,7,"AddFirst")," "))}var Ft=class t extends K{constructor(i,n,r,d,u){super();this.languageService=i;this.immoService=n;this.modalService=r;this.formBuilder=d;this.exportService=u;console.log("init constructor")}loading$;itemsPerPage=10;paginateData$;paginateData;totaElement=0;pageEvent;pageArray=[];itemsPerPage$=new ee(this.itemsPerPage);page$=new ee(1);categories$;searchCtrl;startDate="";endDate="";currentSortBy="created_at";sortDirection="desc";ngOnInit(){console.log("init"),this.loading$=this.immoService.loading$,this.searchCtrl=this.formBuilder.control(""),this.categories$=this.immoService.categories$,this.paginateData$=this.immoService.paginateData$,this.paginateData$.subscribe(i=>{this.paginateData=i,this.totaElement=i.total??0,this.changeChoiceItemPage()}),this.immoService.getCategoriesFromServer({current_page:1,per_page:this.itemsPerPage}),this.initSearchFilter()}createCategorie(){let i=this.modalService.open(Ne,{centered:!0,backdrop:"static"});var n;n=i.componentInstance.realod,n.subscribe(r=>{r&&this.immoService.getCategoriesFromServer(this.paginateData)})}updateCategorie(i){let n=this.modalService.open(Ne,{centered:!0,backdrop:"static"});n.componentInstance.categorieId=i;var r;r=n.componentInstance.realod,r.subscribe(d=>{d&&this.immoService.getCategoriesFromServer(this.paginateData)})}pageChange(i){return this.paginateData.current_page=i.pageIndex+1,this.paginateData.per_page=i.pageSize,this.applyFilters(),console.log(this.paginateData),i}changeChoiceItemPage(){let i=[];if(console.log(this.pageArray),this.totaElement<=2)console.log("total",this.totaElement),i.push(this.totaElement);else{for(let n=1;n<this.totaElement/2;n++)i.push(n*2);this.totaElement%2>0&&i.push(this.totaElement)}console.log(i),this.pageArray=i}initSearchFilter(){this.searchCtrl.valueChanges.pipe(ne(300),re()).subscribe(()=>{this.applyFilters()})}getCategoriesSearchOptions(i=[]){this.immoService.getCategoriesFromServer(this.paginateData,i)}applyFilters(){let i=[];this.searchCtrl.value&&i.push(ce(this.searchCtrl.value)),this.startDate&&i.push(B("start_date",this.startDate)),this.endDate&&i.push(B("end_date",this.endDate)),i.push(B("sort_by",this.currentSortBy)),i.push(B("sort_direction",this.sortDirection)),this.getCategoriesSearchOptions(i)}resetFilters(){this.startDate="",this.endDate="",this.currentSortBy="created_at",this.sortDirection="desc",this.searchCtrl.setValue(""),this.applyFilters()}sortBy(i){this.currentSortBy===i?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=i,this.sortDirection="asc"),this.applyFilters()}getSortIcon(i){return this.currentSortBy!==i?"fas fa-sort text-muted":this.sortDirection==="asc"?"fas fa-sort-up text-primary":"fas fa-sort-down text-primary"}deleteCategorie(i){this.immoService.deleteCategorie(i)}exportColumns=[{key:"short_name",label:"Nom Court",translateKey:"export.shortName"},{key:"name",label:"Nom",translateKey:"export.name"},{key:"user.first_name",label:"Cr\xE9\xE9 par (Pr\xE9nom)",translateKey:"export.createdByFirstName"},{key:"user.last_name",label:"Cr\xE9\xE9 par (Nom)",translateKey:"export.createdByLastName"},{key:"created_at",label:"Date de Cr\xE9ation",translateKey:"export.createdAt"}];onBeforeExport(i){console.log(`D\xE9but de l'export ${i.format} avec ${i.data.length} \xE9l\xE9ments`),console.log("Donn\xE9es \xE0 exporter:",i.data)}onAfterExport(i){i.success?console.log(`Export ${i.format} r\xE9ussi`):console.error(`Erreur lors de l'export ${i.format}`)}static \u0275fac=function(n){return new(n||t)(E(U),E(j),E(me),E(W),E(Pe))};static \u0275cmp=A({type:t,selectors:[["app-list-categorie"]],standalone:!1,features:[xe],decls:108,vars:95,consts:[["paginator",""],["nameOption","Categories"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[1,"me-2",3,"beforeExport","afterExport","data","columns","filename","title"],[1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-plus","me-2"],[1,"col-12"],[1,"card"],[1,"card-body","p-3"],[1,"row","align-items-center"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group","mb-0"],[1,"form-label","text-xs"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"col-lg-2","col-md-6","col-12"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"col-lg-1","col-md-6","col-12"],[1,"form-label","text-xs","opacity-0"],[1,"btn","btn-outline-secondary","btn-sm","w-100",3,"click","title"],[1,"fas","fa-undo"],[1,"row"],[1,"card-header","pb-0"],[1,"col-lg-6","col-7"],[1,"mb-0"],[1,"card-body","px-0","pt-0","pb-2"],[1,"d-flex","justify-content-center","py-4"],[1,"table-responsive","p-0"],[1,"table","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-2"],["type","checkbox",1,"form-check-input"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"ms-1"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"text-sm","text-secondary"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"hover-row"],[1,"ps-2"],[1,"d-flex","px-2","py-1"],[1,"avatar","avatar-sm","me-3"],[1,"avatar-initial","rounded-circle","bg-gradient-primary"],[1,"fas","fa-layer-group","text-white"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-0","text-sm"],[1,"text-xs","text-secondary","mb-0"],[1,"fas","fa-tag","me-1"],[1,"badge","badge-sm","bg-gradient-info"],[1,"text-center"],[1,"d-flex","align-items-center","justify-content-center"],[1,"avatar","avatar-xs","me-2"],[1,"avatar-initial","rounded-circle","bg-gradient-secondary"],[1,"d-flex","flex-column"],[1,"mb-0","text-xs"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-link","text-secondary","p-0","dropdown-toggle"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-edit","me-2"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["colspan","5",1,"text-center","py-4"],[1,"d-flex","flex-column","align-items-center"],[1,"fas","fa-layer-group","text-muted","mb-3",2,"font-size","3rem"],[1,"text-muted","mb-2"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(n,r){if(n&1){let d=F();l(0,"app-base",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),s(5),m(6,"translate"),a(),l(7,"span",6),s(8),m(9,"async"),m(10,"translate"),a()(),l(11,"p",7),s(12),m(13,"translate"),a()(),l(14,"div",8)(15,"app-export-buttons",9),m(16,"async"),C("beforeExport",function(f){return h(d),b(r.onBeforeExport(f))})("afterExport",function(f){return h(d),b(r.onAfterExport(f))}),a(),l(17,"button",10),C("click",function(){return h(d),b(r.createCategorie())}),p(18,"i",11),s(19),m(20,"translate"),m(21,"translate"),a()()(),l(22,"div",2)(23,"div",12)(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16)(28,"div",17)(29,"label",18),s(30),m(31,"translate"),a(),l(32,"div",19)(33,"span",20),p(34,"i",21),a(),p(35,"input",22),m(36,"translate"),a()()(),l(37,"div",23)(38,"div",17)(39,"label",18),s(40),m(41,"translate"),a(),l(42,"input",24),z("ngModelChange",function(f){return h(d),G(r.startDate,f)||(r.startDate=f),b(f)}),C("change",function(){return h(d),b(r.applyFilters())}),a()()(),l(43,"div",23)(44,"div",17)(45,"label",18),s(46),m(47,"translate"),a(),l(48,"input",24),z("ngModelChange",function(f){return h(d),G(r.endDate,f)||(r.endDate=f),b(f)}),C("change",function(){return h(d),b(r.applyFilters())}),a()()(),l(49,"div",25)(50,"div",17)(51,"label",26),s(52,"Action"),a(),l(53,"button",27),m(54,"translate"),C("click",function(){return h(d),b(r.resetFilters())}),p(55,"i",28),a()()()()()()()(),l(56,"div",29)(57,"div",12)(58,"div",13)(59,"div",30)(60,"div",15)(61,"div",31)(62,"h6",32),s(63),m(64,"translate"),a()()()(),l(65,"div",33),x(66,Mo,2,0,"div",34),m(67,"async"),l(68,"div",35)(69,"table",36)(70,"thead")(71,"tr")(72,"th",37),p(73,"input",38),a(),l(74,"th",39),C("click",function(){return h(d),b(r.sortBy("name"))}),s(75),m(76,"translate"),p(77,"i",40),a(),l(78,"th",39),C("click",function(){return h(d),b(r.sortBy("short_name"))}),s(79),m(80,"translate"),p(81,"i",40),a(),l(82,"th",41),C("click",function(){return h(d),b(r.sortBy("created_at"))}),s(83),m(84,"translate"),p(85,"i",40),a(),l(86,"th",42),s(87),m(88,"translate"),a()()(),l(89,"tbody"),x(90,To,2,0),m(91,"async"),x(92,Do,14,9,"tr"),a()()(),l(93,"div",43)(94,"div",44)(95,"div",4)(96,"span",45),s(97),m(98,"translate"),m(99,"async"),m(100,"translate"),m(101,"async"),m(102,"translate"),m(103,"async"),m(104,"translate"),a()()(),l(105,"div",44)(106,"mat-paginator",46,0),C("page",function(f){return h(d),b(r.pageEvent=r.pageChange(f))}),a()()()()()()()()}if(n&2){let d,u,f;o(5),v(c(6,42,"Categories")),o(3),O("",((d=c(9,44,r.categories$))==null?null:d.length)||0," ",c(10,46,"items"),""),o(4),v(c(13,48,"ManageYourCategories")),o(3),S("data",c(16,50,r.categories$)||ye(94,Bo))("columns",r.exportColumns)("filename",r.languageService.instant("export.filename.categories"))("title",r.languageService.instant("export.title.categories")),o(4),O(" ",c(20,52,"Add")," ",c(21,54,"Categorie")," "),o(11),v(c(31,56,"Search")),o(5),P("placeholder",c(36,58,"SearchByName")),S("formControl",r.searchCtrl),o(5),v(c(41,60,"DateFrom")),o(2),q("ngModel",r.startDate),o(4),v(c(47,62,"DateTo")),o(2),q("ngModel",r.endDate),o(5),P("title",c(54,64,"ResetFilters")),o(10),v(c(64,66,"CategoriesList")),o(3),y(c(67,68,r.loading$)?66:-1),o(9),g(" ",c(76,70,"Category")," "),o(2),w(r.getSortIcon("name")),o(2),g(" ",c(80,72,"ShortName")," "),o(2),w(r.getSortIcon("short_name")),o(2),g(" ",c(84,74,"CreatedBy")," "),o(2),w(r.getSortIcon("created_at")),o(2),g(" ",c(88,76,"Actions")," "),o(3),y((u=c(91,78,r.categories$))?90:92,u),o(7),Ce(" ",c(98,80,"Showing")," ",((f=c(99,82,r.paginateData$))==null?null:f.current_page)||0," ",c(100,84,"to")," ",((f=c(101,86,r.paginateData$))==null?null:f.per_page)||0," ",c(102,88,"of")," ",((f=c(103,90,r.paginateData$))==null?null:f.total)||0," ",c(104,92,"entries")," "),o(9),S("length",r.totaElement)("pageSize",r.itemsPerPage)("pageSizeOptions",r.pageArray)("showFirstLastButtons",!0)}},dependencies:[ae,H,X,oe,le,K,se,Me,Fe,N,Se,V],encapsulation:2})};var Ao=()=>[],Lo=(t,e)=>e.id;function Ro(t,e){t&1&&(l(0,"div",34),p(1,"app-custom-spinner"),a())}function No(t,e){if(t&1){let i=F();l(0,"li")(1,"a",72),C("click",function(){h(i);let r=_().$implicit,d=_(2);return b(d.deleteStructure(r.id))}),p(2,"i",73),s(3),m(4,"translate"),a()()}t&2&&(o(3),g("",c(4,1,"Delete")," "))}function Vo(t,e){if(t&1){let i=F();l(0,"tr",47)(1,"td",48),p(2,"input",38),a(),l(3,"td")(4,"div",49)(5,"div",4)(6,"div",50)(7,"div",51),p(8,"i",52),a()(),l(9,"div",53)(10,"h6",54),s(11),a(),l(12,"p",55),p(13,"i",56),s(14),a()()()()(),l(15,"td")(16,"span",57),s(17),a()(),l(18,"td",58)(19,"div",59)(20,"div",60)(21,"div",61),s(22),a()(),l(23,"div",62)(24,"h6",63),s(25),a(),l(26,"p",55),s(27),m(28,"date"),a()()()(),l(29,"td",58)(30,"div",64)(31,"button",65),p(32,"i",66),a(),l(33,"ul",67)(34,"li")(35,"a",68),C("click",function(){let r=h(i).$implicit,d=_(2);return b(d.updateStructure(r.id))}),p(36,"i",69),s(37),m(38,"translate"),a()(),l(39,"li"),p(40,"hr",70),a(),x(41,No,5,3,"li",71),a()()()()}if(t&2){let i=e.$implicit,n=_(2);o(11),v(i.name),o(3),g("",i.id," "),o(3),v(i.short_name),o(5),O(" ",i.user.first_name.charAt(0),"",i.user.last_name.charAt(0)," "),o(3),O("",i.user.first_name," ",i.user.last_name,""),o(2),v(ue(28,10,i.created_at,"shortDate")),o(10),g("",c(38,13,"Edit")," "),o(4),S("ngIf",n.havePermission(n.UserRole.SUPER_ADMIN))}}function $o(t,e){t&1&&L(0,Vo,42,15,"tr",47,Lo),t&2&&R(e)}function jo(t,e){if(t&1){let i=F();l(0,"tr")(1,"td",74)(2,"div",75),p(3,"i",76),l(4,"h6",77),s(5),m(6,"translate"),a(),l(7,"p",45),s(8),m(9,"translate"),a(),l(10,"button",78),C("click",function(){h(i);let r=_();return b(r.createStructure())}),p(11,"i",11),s(12),m(13,"translate"),a()()()()}t&2&&(o(5),v(c(6,3,"NoDataFound")),o(3),v(c(9,5,"NoStructuresAvailable")),o(4),g("",c(13,7,"AddFirst")," "))}var kt=class t extends K{constructor(i,n,r,d,u){super();this.languageService=i;this.immoService=n;this.modalService=r;this.formBuilder=d;this.exportService=u;console.log("init constructor")}loading$;itemsPerPage=10;paginateData$;paginateData;totaElement=0;pageEvent;pageArray=[];itemsPerPage$=new ee(this.itemsPerPage);page$=new ee(1);structures$;searchCtrl;startDate="";endDate="";currentSortBy="created_at";sortDirection="desc";ngOnInit(){console.log("init"),this.loading$=this.immoService.loading$,this.searchCtrl=this.formBuilder.control(""),this.structures$=this.immoService.structures$,this.paginateData$=this.immoService.paginateData$,this.paginateData$.subscribe(i=>{this.paginateData=i,this.totaElement=i.total??0,this.changeChoiceItemPage()}),this.immoService.getStructuresFromServer({current_page:1,per_page:this.itemsPerPage}),this.initSearchFilter()}createStructure(){let i=this.modalService.open($e,{centered:!0,backdrop:"static"});var n;n=i.componentInstance.realod,n.subscribe(r=>{r&&this.immoService.getStructuresFromServer(this.paginateData)})}updateStructure(i){let n=this.modalService.open($e,{centered:!0,backdrop:"static"});n.componentInstance.structureId=i;var r;r=n.componentInstance.realod,r.subscribe(d=>{d&&this.immoService.getStructuresFromServer(this.paginateData)})}pageChange(i){return this.paginateData.current_page=i.pageIndex+1,this.paginateData.per_page=i.pageSize,this.applyFilters(),console.log(this.paginateData),i}changeChoiceItemPage(){let i=[];if(console.log(this.pageArray),this.totaElement<=2)console.log("total",this.totaElement),i.push(this.totaElement);else{for(let n=1;n<this.totaElement/2;n++)i.push(n*2);this.totaElement%2>0&&i.push(this.totaElement)}console.log(i),this.pageArray=i}initSearchFilter(){this.searchCtrl.valueChanges.pipe(ne(300),re()).subscribe(()=>{this.applyFilters()})}getStructuresSearchOptions(i=[]){this.immoService.getStructuresFromServer(this.paginateData,i)}applyFilters(){let i=[];this.searchCtrl.value&&i.push(ce(this.searchCtrl.value)),this.startDate&&i.push(B("start_date",this.startDate)),this.endDate&&i.push(B("end_date",this.endDate)),i.push(B("sort_by",this.currentSortBy)),i.push(B("sort_direction",this.sortDirection)),this.getStructuresSearchOptions(i)}resetFilters(){this.startDate="",this.endDate="",this.currentSortBy="created_at",this.sortDirection="desc",this.searchCtrl.setValue(""),this.applyFilters()}sortBy(i){this.currentSortBy===i?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=i,this.sortDirection="asc"),this.applyFilters()}getSortIcon(i){return this.currentSortBy!==i?"fas fa-sort text-muted":this.sortDirection==="asc"?"fas fa-sort-up text-primary":"fas fa-sort-down text-primary"}deleteStructure(i){this.immoService.deleteStructure(i)}exportColumns=[{key:"short_name",label:"Nom Court",translateKey:"export.shortName"},{key:"name",label:"Nom",translateKey:"export.name"},{key:"user.first_name",label:"Cr\xE9\xE9 par (Pr\xE9nom)",translateKey:"export.createdByFirstName"},{key:"user.last_name",label:"Cr\xE9\xE9 par (Nom)",translateKey:"export.createdByLastName"},{key:"created_at",label:"Date de Cr\xE9ation",translateKey:"export.createdAt"}];onBeforeExport(i){console.log(`D\xE9but de l'export ${i.format} avec ${i.data.length} \xE9l\xE9ments`),console.log("Donn\xE9es \xE0 exporter:",i.data)}onAfterExport(i){i.success?console.log(`Export ${i.format} r\xE9ussi`):console.error(`Erreur lors de l'export ${i.format}`)}static \u0275fac=function(n){return new(n||t)(E(U),E(j),E(me),E(W),E(Pe))};static \u0275cmp=A({type:t,selectors:[["app-list-structure"]],standalone:!1,features:[xe],decls:108,vars:95,consts:[["paginator",""],["nameOption","Structures"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[1,"me-2",3,"beforeExport","afterExport","data","columns","filename","title"],[1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-plus","me-2"],[1,"col-12"],[1,"card"],[1,"card-body","p-3"],[1,"row","align-items-center"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group","mb-0"],[1,"form-label","text-xs"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"col-lg-2","col-md-6","col-12"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"col-lg-1","col-md-6","col-12"],[1,"form-label","text-xs","opacity-0"],[1,"btn","btn-outline-secondary","btn-sm","w-100",3,"click","title"],[1,"fas","fa-undo"],[1,"row"],[1,"card-header","pb-0"],[1,"col-lg-6","col-7"],[1,"mb-0"],[1,"card-body","px-0","pt-0","pb-2"],[1,"d-flex","justify-content-center","py-4"],[1,"table-responsive","p-0"],[1,"table","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-2"],["type","checkbox",1,"form-check-input"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"ms-1"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"text-sm","text-secondary"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"hover-row"],[1,"ps-2"],[1,"d-flex","px-2","py-1"],[1,"avatar","avatar-sm","me-3"],[1,"avatar-initial","rounded-circle","bg-gradient-success"],[1,"fas","fa-building","text-white"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-0","text-sm"],[1,"text-xs","text-secondary","mb-0"],[1,"fas","fa-id-badge","me-1"],[1,"badge","badge-sm","bg-gradient-success"],[1,"text-center"],[1,"d-flex","align-items-center","justify-content-center"],[1,"avatar","avatar-xs","me-2"],[1,"avatar-initial","rounded-circle","bg-gradient-secondary"],[1,"d-flex","flex-column"],[1,"mb-0","text-xs"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-link","text-secondary","p-0","dropdown-toggle"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-edit","me-2"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["colspan","5",1,"text-center","py-4"],[1,"d-flex","flex-column","align-items-center"],[1,"fas","fa-building","text-muted","mb-3",2,"font-size","3rem"],[1,"text-muted","mb-2"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(n,r){if(n&1){let d=F();l(0,"app-base",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),s(5),m(6,"translate"),a(),l(7,"span",6),s(8),m(9,"async"),m(10,"translate"),a()(),l(11,"p",7),s(12),m(13,"translate"),a()(),l(14,"div",8)(15,"app-export-buttons",9),m(16,"async"),C("beforeExport",function(f){return h(d),b(r.onBeforeExport(f))})("afterExport",function(f){return h(d),b(r.onAfterExport(f))}),a(),l(17,"button",10),C("click",function(){return h(d),b(r.createStructure())}),p(18,"i",11),s(19),m(20,"translate"),m(21,"translate"),a()()(),l(22,"div",2)(23,"div",12)(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16)(28,"div",17)(29,"label",18),s(30),m(31,"translate"),a(),l(32,"div",19)(33,"span",20),p(34,"i",21),a(),p(35,"input",22),m(36,"translate"),a()()(),l(37,"div",23)(38,"div",17)(39,"label",18),s(40),m(41,"translate"),a(),l(42,"input",24),z("ngModelChange",function(f){return h(d),G(r.startDate,f)||(r.startDate=f),b(f)}),C("change",function(){return h(d),b(r.applyFilters())}),a()()(),l(43,"div",23)(44,"div",17)(45,"label",18),s(46),m(47,"translate"),a(),l(48,"input",24),z("ngModelChange",function(f){return h(d),G(r.endDate,f)||(r.endDate=f),b(f)}),C("change",function(){return h(d),b(r.applyFilters())}),a()()(),l(49,"div",25)(50,"div",17)(51,"label",26),s(52,"Action"),a(),l(53,"button",27),m(54,"translate"),C("click",function(){return h(d),b(r.resetFilters())}),p(55,"i",28),a()()()()()()()(),l(56,"div",29)(57,"div",12)(58,"div",13)(59,"div",30)(60,"div",15)(61,"div",31)(62,"h6",32),s(63),m(64,"translate"),a()()()(),l(65,"div",33),x(66,Ro,2,0,"div",34),m(67,"async"),l(68,"div",35)(69,"table",36)(70,"thead")(71,"tr")(72,"th",37),p(73,"input",38),a(),l(74,"th",39),C("click",function(){return h(d),b(r.sortBy("name"))}),s(75),m(76,"translate"),p(77,"i",40),a(),l(78,"th",39),C("click",function(){return h(d),b(r.sortBy("short_name"))}),s(79),m(80,"translate"),p(81,"i",40),a(),l(82,"th",41),C("click",function(){return h(d),b(r.sortBy("created_at"))}),s(83),m(84,"translate"),p(85,"i",40),a(),l(86,"th",42),s(87),m(88,"translate"),a()()(),l(89,"tbody"),x(90,$o,2,0),m(91,"async"),x(92,jo,14,9,"tr"),a()()(),l(93,"div",43)(94,"div",44)(95,"div",4)(96,"span",45),s(97),m(98,"translate"),m(99,"async"),m(100,"translate"),m(101,"async"),m(102,"translate"),m(103,"async"),m(104,"translate"),a()()(),l(105,"div",44)(106,"mat-paginator",46,0),C("page",function(f){return h(d),b(r.pageEvent=r.pageChange(f))}),a()()()()()()()()}if(n&2){let d,u,f;o(5),v(c(6,42,"Structures")),o(3),O("",((d=c(9,44,r.structures$))==null?null:d.length)||0," ",c(10,46,"items"),""),o(4),v(c(13,48,"ManageYourStructures")),o(3),S("data",c(16,50,r.structures$)||ye(94,Ao))("columns",r.exportColumns)("filename",r.languageService.instant("export.filename.structures"))("title",r.languageService.instant("export.title.structures")),o(4),O(" ",c(20,52,"Add")," ",c(21,54,"Structure")," "),o(11),v(c(31,56,"Search")),o(5),P("placeholder",c(36,58,"SearchByName")),S("formControl",r.searchCtrl),o(5),v(c(41,60,"DateFrom")),o(2),q("ngModel",r.startDate),o(4),v(c(47,62,"DateTo")),o(2),q("ngModel",r.endDate),o(5),P("title",c(54,64,"ResetFilters")),o(10),v(c(64,66,"StructuresList")),o(3),y(c(67,68,r.loading$)?66:-1),o(9),g(" ",c(76,70,"Structure")," "),o(2),w(r.getSortIcon("name")),o(2),g(" ",c(80,72,"ShortName")," "),o(2),w(r.getSortIcon("short_name")),o(2),g(" ",c(84,74,"CreatedBy")," "),o(2),w(r.getSortIcon("created_at")),o(2),g(" ",c(88,76,"Actions")," "),o(3),y((u=c(91,78,r.structures$))?90:92,u),o(7),Ce(" ",c(98,80,"Showing")," ",((f=c(99,82,r.paginateData$))==null?null:f.current_page)||0," ",c(100,84,"to")," ",((f=c(101,86,r.paginateData$))==null?null:f.per_page)||0," ",c(102,88,"of")," ",((f=c(103,90,r.paginateData$))==null?null:f.total)||0," ",c(104,92,"entries")," "),o(9),S("length",r.totaElement)("pageSize",r.itemsPerPage)("pageSizeOptions",r.pageArray)("showFirstLastButtons",!0)}},dependencies:[ae,H,X,oe,le,K,se,Me,Fe,N,Se,V],encapsulation:2})};var qo=()=>[],Go=(t,e)=>e.id;function zo(t,e){t&1&&(l(0,"div",34),p(1,"app-custom-spinner"),a())}function Uo(t,e){if(t&1){let i=F();l(0,"li")(1,"a",74),C("click",function(){h(i);let r=_().$implicit,d=_(2);return b(d.deleteFournisseur(r.id))}),p(2,"i",75),s(3),m(4,"translate"),a()()}t&2&&(o(3),g("",c(4,1,"Delete")," "))}function Ho(t,e){if(t&1){let i=F();l(0,"tr",47)(1,"td",48),p(2,"input",38),a(),l(3,"td")(4,"div",49)(5,"div",4)(6,"div",50)(7,"div",51),p(8,"i",52),a()(),l(9,"div",53)(10,"h6",54),s(11),a(),l(12,"p",55),p(13,"i",56),s(14),a()()()()(),l(15,"td")(16,"div",53)(17,"h6",54),s(18),a(),l(19,"p",55),p(20,"i",57),s(21),a()()(),l(22,"td",48)(23,"div",53)(24,"span",58),p(25,"i",59),s(26),a()()(),l(27,"td",60)(28,"div",61)(29,"div",62)(30,"div",63),s(31),a()(),l(32,"div",64)(33,"h6",65),s(34),a(),l(35,"p",55),s(36),m(37,"date"),a()()()(),l(38,"td",60)(39,"div",66)(40,"button",67),p(41,"i",68),a(),l(42,"ul",69)(43,"li")(44,"a",70),C("click",function(){let r=h(i).$implicit,d=_(2);return b(d.updateFournisseur(r.id))}),p(45,"i",71),s(46),m(47,"translate"),a()(),l(48,"li"),p(49,"hr",72),a(),x(50,Uo,5,3,"li",73),a()()()()}if(t&2){let i=e.$implicit,n=_(2);o(11),v(i.raison_social),o(3),g("",i.id," "),o(4),v(i.raison_social),o(3),g("NUI: ",i.nui," "),o(5),g("",i.adresse," "),o(5),O(" ",i.user.first_name.charAt(0),"",i.user.last_name.charAt(0)," "),o(3),O("",i.user.first_name," ",i.user.last_name,""),o(2),v(ue(37,12,i.created_at,"shortDate")),o(10),g("",c(47,15,"Edit")," "),o(4),S("ngIf",n.havePermission(n.UserRole.SUPER_ADMIN))}}function Xo(t,e){t&1&&L(0,Ho,51,17,"tr",47,Go),t&2&&R(e)}function Wo(t,e){if(t&1){let i=F();l(0,"tr")(1,"td",76)(2,"div",77),p(3,"i",78),l(4,"h6",79),s(5),m(6,"translate"),a(),l(7,"p",45),s(8),m(9,"translate"),a(),l(10,"button",80),C("click",function(){h(i);let r=_();return b(r.createFournisseur())}),p(11,"i",11),s(12),m(13,"translate"),a()()()()}t&2&&(o(5),v(c(6,3,"NoDataFound")),o(3),v(c(9,5,"NoSuppliersAvailable")),o(4),g("",c(13,7,"AddFirst")," "))}var Tt=class t extends K{constructor(i,n,r,d,u){super();this.languageService=i;this.immoService=n;this.modalService=r;this.formBuilder=d;this.exportService=u;console.log("init constructor")}loading$;itemsPerPage=10;paginateData$;paginateData;totaElement=0;pageEvent;pageArray=[];itemsPerPage$=new ee(this.itemsPerPage);page$=new ee(1);fournisseurs$;searchCtrl;startDate="";endDate="";currentSortBy="created_at";sortDirection="desc";ngOnInit(){console.log("init"),this.loading$=this.immoService.loading$,this.searchCtrl=this.formBuilder.control(""),this.fournisseurs$=this.immoService.fournisseurs$,this.paginateData$=this.immoService.paginateData$,this.paginateData$.subscribe(i=>{this.paginateData=i,this.totaElement=i.total??0,this.changeChoiceItemPage()}),this.immoService.getFournisseursFromServer({current_page:1,per_page:this.itemsPerPage}),this.initSearchFilter()}createFournisseur(){let i=this.modalService.open(je,{centered:!0,backdrop:"static"});var n;n=i.componentInstance.realod,n.subscribe(r=>{r&&this.immoService.getFournisseursFromServer(this.paginateData)})}updateFournisseur(i){let n=this.modalService.open(je,{centered:!0,backdrop:"static"});n.componentInstance.fournisseurId=i;var r;r=n.componentInstance.realod,r.subscribe(d=>{d&&this.immoService.getFournisseursFromServer(this.paginateData)})}pageChange(i){return this.paginateData.current_page=i.pageIndex+1,this.paginateData.per_page=i.pageSize,this.applyFilters(),console.log(this.paginateData),i}changeChoiceItemPage(){let i=[];if(console.log(this.pageArray),this.totaElement<=2)console.log("total",this.totaElement),i.push(this.totaElement);else{for(let n=1;n<this.totaElement/2;n++)i.push(n*2);this.totaElement%2>0&&i.push(this.totaElement)}console.log(i),this.pageArray=i}initSearchFilter(){this.searchCtrl.valueChanges.pipe(ne(300),re()).subscribe(()=>{this.applyFilters()})}getFournisseursSearchOptions(i=[]){this.immoService.getFournisseursFromServer(this.paginateData,i)}applyFilters(){let i=[];this.searchCtrl.value&&i.push(ce(this.searchCtrl.value)),this.startDate&&i.push(B("start_date",this.startDate)),this.endDate&&i.push(B("end_date",this.endDate)),i.push(B("sort_by",this.currentSortBy)),i.push(B("sort_direction",this.sortDirection)),this.getFournisseursSearchOptions(i)}resetFilters(){this.startDate="",this.endDate="",this.currentSortBy="created_at",this.sortDirection="desc",this.searchCtrl.setValue(""),this.applyFilters()}sortBy(i){this.currentSortBy===i?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=i,this.sortDirection="asc"),this.applyFilters()}getSortIcon(i){return this.currentSortBy!==i?"fas fa-sort text-muted":this.sortDirection==="asc"?"fas fa-sort-up text-primary":"fas fa-sort-down text-primary"}deleteFournisseur(i){this.immoService.deleteFournisseur(i)}exportColumns=[{key:"raison_social",label:"Raison Sociale",translateKey:"export.raisonSociale"},{key:"adresse",label:"Adresse",translateKey:"export.adresse"},{key:"nui",label:"NUI",translateKey:"export.nui"},{key:"user.first_name",label:"Cr\xE9\xE9 par (Pr\xE9nom)",translateKey:"export.createdByFirstName"},{key:"user.last_name",label:"Cr\xE9\xE9 par (Nom)",translateKey:"export.createdByLastName"},{key:"created_at",label:"Date de Cr\xE9ation",translateKey:"export.createdAt"}];onBeforeExport(i){console.log(`D\xE9but de l'export ${i.format} avec ${i.data.length} \xE9l\xE9ments`),console.log("Donn\xE9es \xE0 exporter:",i.data)}onAfterExport(i){i.success?console.log(`Export ${i.format} r\xE9ussi`):console.error(`Erreur lors de l'export ${i.format}`)}static \u0275fac=function(n){return new(n||t)(E(U),E(j),E(me),E(W),E(Pe))};static \u0275cmp=A({type:t,selectors:[["app-list-fournisseur"]],standalone:!1,features:[xe],decls:111,vars:98,consts:[["paginator",""],["nameOption","Suppliers"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[1,"me-2",3,"beforeExport","afterExport","data","columns","filename","title"],[1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-plus","me-2"],[1,"col-12"],[1,"card"],[1,"card-body","p-3"],[1,"row","align-items-center"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group","mb-0"],[1,"form-label","text-xs"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"col-lg-2","col-md-6","col-12"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"col-lg-1","col-md-6","col-12"],[1,"form-label","text-xs","opacity-0"],[1,"btn","btn-outline-secondary","btn-sm","w-100",3,"click","title"],[1,"fas","fa-undo"],[1,"row"],[1,"card-header","pb-0"],[1,"col-lg-6","col-7"],[1,"mb-0"],[1,"card-body","px-0","pt-0","pb-2"],[1,"d-flex","justify-content-center","py-4"],[1,"table-responsive","p-0"],[1,"table","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-2"],["type","checkbox",1,"form-check-input"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"ms-1"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"text-sm","text-secondary"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"hover-row"],[1,"ps-2"],[1,"d-flex","px-2","py-1"],[1,"avatar","avatar-sm","me-3"],[1,"avatar-initial","rounded-circle","bg-gradient-warning"],[1,"fas","fa-truck","text-white"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-0","text-sm"],[1,"text-xs","text-secondary","mb-0"],[1,"fas","fa-id-card","me-1"],[1,"fas","fa-hashtag","me-1"],[1,"text-xs","text-secondary"],[1,"fas","fa-map-marker-alt","me-1"],[1,"text-center"],[1,"d-flex","align-items-center","justify-content-center"],[1,"avatar","avatar-xs","me-2"],[1,"avatar-initial","rounded-circle","bg-gradient-secondary"],[1,"d-flex","flex-column"],[1,"mb-0","text-xs"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-link","text-secondary","p-0","dropdown-toggle"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-edit","me-2"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["colspan","6",1,"text-center","py-4"],[1,"d-flex","flex-column","align-items-center"],[1,"fas","fa-truck","text-muted","mb-3",2,"font-size","3rem"],[1,"text-muted","mb-2"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(n,r){if(n&1){let d=F();l(0,"app-base",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),s(5),m(6,"translate"),a(),l(7,"span",6),s(8),m(9,"async"),m(10,"translate"),a()(),l(11,"p",7),s(12),m(13,"translate"),a()(),l(14,"div",8)(15,"app-export-buttons",9),m(16,"async"),C("beforeExport",function(f){return h(d),b(r.onBeforeExport(f))})("afterExport",function(f){return h(d),b(r.onAfterExport(f))}),a(),l(17,"button",10),C("click",function(){return h(d),b(r.createFournisseur())}),p(18,"i",11),s(19),m(20,"translate"),m(21,"translate"),a()()(),l(22,"div",2)(23,"div",12)(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16)(28,"div",17)(29,"label",18),s(30),m(31,"translate"),a(),l(32,"div",19)(33,"span",20),p(34,"i",21),a(),p(35,"input",22),m(36,"translate"),a()()(),l(37,"div",23)(38,"div",17)(39,"label",18),s(40),m(41,"translate"),a(),l(42,"input",24),z("ngModelChange",function(f){return h(d),G(r.startDate,f)||(r.startDate=f),b(f)}),C("change",function(){return h(d),b(r.applyFilters())}),a()()(),l(43,"div",23)(44,"div",17)(45,"label",18),s(46),m(47,"translate"),a(),l(48,"input",24),z("ngModelChange",function(f){return h(d),G(r.endDate,f)||(r.endDate=f),b(f)}),C("change",function(){return h(d),b(r.applyFilters())}),a()()(),l(49,"div",25)(50,"div",17)(51,"label",26),s(52,"Action"),a(),l(53,"button",27),m(54,"translate"),C("click",function(){return h(d),b(r.resetFilters())}),p(55,"i",28),a()()()()()()()(),l(56,"div",29)(57,"div",12)(58,"div",13)(59,"div",30)(60,"div",15)(61,"div",31)(62,"h6",32),s(63),m(64,"translate"),a()()()(),l(65,"div",33),x(66,zo,2,0,"div",34),m(67,"async"),l(68,"div",35)(69,"table",36)(70,"thead")(71,"tr")(72,"th",37),p(73,"input",38),a(),l(74,"th",39),C("click",function(){return h(d),b(r.sortBy("name"))}),s(75),m(76,"translate"),p(77,"i",40),a(),l(78,"th",39),C("click",function(){return h(d),b(r.sortBy("raison_social"))}),s(79),m(80,"translate"),p(81,"i",40),a(),l(82,"th",37),s(83),m(84,"translate"),a(),l(85,"th",41),C("click",function(){return h(d),b(r.sortBy("created_at"))}),s(86),m(87,"translate"),p(88,"i",40),a(),l(89,"th",42),s(90),m(91,"translate"),a()()(),l(92,"tbody"),x(93,Xo,2,0),m(94,"async"),x(95,Wo,14,9,"tr"),a()()(),l(96,"div",43)(97,"div",44)(98,"div",4)(99,"span",45),s(100),m(101,"translate"),m(102,"async"),m(103,"translate"),m(104,"async"),m(105,"translate"),m(106,"async"),m(107,"translate"),a()()(),l(108,"div",44)(109,"mat-paginator",46,0),C("page",function(f){return h(d),b(r.pageEvent=r.pageChange(f))}),a()()()()()()()()}if(n&2){let d,u,f;o(5),v(c(6,43,"Suppliers")),o(3),O("",((d=c(9,45,r.fournisseurs$))==null?null:d.length)||0," ",c(10,47,"items"),""),o(4),v(c(13,49,"ManageYourSuppliers")),o(3),S("data",c(16,51,r.fournisseurs$)||ye(97,qo))("columns",r.exportColumns)("filename",r.languageService.instant("export.filename.suppliers"))("title",r.languageService.instant("export.title.suppliers")),o(4),O(" ",c(20,53,"Add")," ",c(21,55,"Fournisseur")," "),o(11),v(c(31,57,"Search")),o(5),P("placeholder",c(36,59,"SearchByNameOrCompany")),S("formControl",r.searchCtrl),o(5),v(c(41,61,"DateFrom")),o(2),q("ngModel",r.startDate),o(4),v(c(47,63,"DateTo")),o(2),q("ngModel",r.endDate),o(5),P("title",c(54,65,"ResetFilters")),o(10),v(c(64,67,"SuppliersList")),o(3),y(c(67,69,r.loading$)?66:-1),o(9),g(" ",c(76,71,"Supplier")," "),o(2),w(r.getSortIcon("name")),o(2),g(" ",c(80,73,"CompanyName")," "),o(2),w(r.getSortIcon("raison_social")),o(2),g(" ",c(84,75,"Contact")," "),o(3),g(" ",c(87,77,"CreatedBy")," "),o(2),w(r.getSortIcon("created_at")),o(2),g(" ",c(91,79,"Actions")," "),o(3),y((u=c(94,81,r.fournisseurs$))?93:95,u),o(7),Ce(" ",c(101,83,"Showing")," ",((f=c(102,85,r.paginateData$))==null?null:f.current_page)||0," ",c(103,87,"to")," ",((f=c(104,89,r.paginateData$))==null?null:f.per_page)||0," ",c(105,91,"of")," ",((f=c(106,93,r.paginateData$))==null?null:f.total)||0," ",c(107,95,"entries")," "),o(9),S("length",r.totaElement)("pageSize",r.itemsPerPage)("pageSizeOptions",r.pageArray)("showFirstLastButtons",!0)}},dependencies:[ae,H,X,oe,le,K,se,Me,Fe,N,Se,V],encapsulation:2})};function Ko(t,e){if(t&1&&(l(0,"div",3),p(1,"i",4),s(2),p(3,"button",5),a()),t&2){let i=_();o(2),g(" ",i.message," ")}}function Qo(t,e){t&1&&x(0,Ko,4,1,"div",3),t&2&&y(e.status?0:-1)}function Yo(t,e){t&1&&(l(0,"div",2)(1,"div",6)(2,"div",7)(3,"div",8),p(4,"app-custom-spinner"),l(5,"p",9),s(6),m(7,"translate"),a()()()()()),t&2&&(o(6),g("",c(7,1,"LoadingAssetDetails"),"..."))}function Jo(t,e){if(t&1&&(l(0,"div",30)(1,"div",31)(2,"h6",19),p(3,"i",72),s(4),m(5,"translate"),a()(),l(6,"div",13)(7,"div",34)(8,"label",35),s(9),m(10,"translate"),a(),l(11,"p",37),s(12),a()(),l(13,"div",34)(14,"label",35),s(15),m(16,"translate"),a(),l(17,"p",37),s(18),a()(),l(19,"div",34)(20,"label",35),s(21),m(22,"translate"),a(),l(23,"p",37),s(24),a()(),l(25,"div",34)(26,"label",35),s(27),m(28,"translate"),a(),l(29,"p",37),s(30),a()()()()),t&2){let i=_(2);o(4),g(" ",c(5,9,"SupplierInformation")," "),o(5),v(c(10,11,"CompanyName")),o(3),v(i.immobilisation.fournisseur.raison_social),o(3),v(c(16,13,"BusinessName")),o(3),v(i.immobilisation.fournisseur.raison_social||"N/A"),o(3),v(c(22,15,"Address")),o(3),v(i.immobilisation.fournisseur.adresse||"N/A"),o(3),v(c(28,17,"TaxNumber")),o(3),v(i.immobilisation.fournisseur.nui||"N/A")}}function Zo(t,e){if(t&1){let i=F();l(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"div",15)(6,"div",16)(7,"div",17),p(8,"i",18),a(),l(9,"div")(10,"h3",19),s(11),a(),l(12,"p",20),p(13,"i",21),s(14),a()()()(),l(15,"div",22)(16,"div",23)(17,"span",24),p(18,"i",25),s(19),m(20,"translate"),a(),l(21,"button",26),C("click",function(){h(i);let r=_();return b(r.goBack())}),p(22,"i",27),s(23),m(24,"translate"),a()()()()()()()(),l(25,"div",28)(26,"div",29)(27,"div",30)(28,"div",31)(29,"h6",19),p(30,"i",32),s(31),m(32,"translate"),a()(),l(33,"div",13)(34,"div",28)(35,"div",33)(36,"div",34)(37,"label",35),p(38,"i",36),s(39),m(40,"translate"),a(),l(41,"p",37),s(42),a()()(),l(43,"div",33)(44,"div",34)(45,"label",35),p(46,"i",21),s(47),m(48,"translate"),a(),l(49,"p",37),s(50),a()()(),l(51,"div",33)(52,"div",34)(53,"label",35),p(54,"i",38),s(55),m(56,"translate"),a(),l(57,"p",37),s(58),a()()(),l(59,"div",33)(60,"div",34)(61,"label",35),p(62,"i",39),s(63),m(64,"translate"),a(),l(65,"p",37),s(66),a()()()()()(),l(67,"div",30)(68,"div",31)(69,"h6",19),p(70,"i",40),s(71),m(72,"translate"),a()(),l(73,"div",13)(74,"div",28)(75,"div",41)(76,"div",34)(77,"label",35),p(78,"i",42),s(79),m(80,"translate"),a(),l(81,"p",37),s(82),a()()(),l(83,"div",41)(84,"div",34)(85,"label",35),p(86,"i",43),s(87),m(88,"translate"),a(),l(89,"p",37),s(90),a()()(),l(91,"div",41)(92,"div",34)(93,"label",35),p(94,"i",44),s(95),m(96,"translate"),a(),l(97,"p",37),s(98),a()()()()()(),l(99,"div",30)(100,"div",31)(101,"h6",19),p(102,"i",45),s(103),m(104,"translate"),a()(),l(105,"div",13)(106,"div",28)(107,"div",41)(108,"div",34)(109,"label",35),p(110,"i",46),s(111),m(112,"translate"),a(),l(113,"p",37),s(114),a()()(),l(115,"div",41)(116,"div",34)(117,"label",35),p(118,"i",47),s(119),m(120,"translate"),a(),l(121,"p",37),s(122),a()()(),l(123,"div",41)(124,"div",34)(125,"label",35),p(126,"i",48),s(127),m(128,"translate"),a(),l(129,"p",37),s(130),a()()()()()(),l(131,"div",30)(132,"div",31)(133,"h6",19),p(134,"i",49),s(135),m(136,"translate"),a()(),l(137,"div",13)(138,"div",28)(139,"div",33)(140,"div",34)(141,"label",35),p(142,"i",50),s(143),m(144,"translate"),a(),l(145,"p",37),s(146),a()()(),l(147,"div",33)(148,"div",34)(149,"label",35),p(150,"i",51),s(151),m(152,"translate"),a(),l(153,"p",37),s(154),a()()(),l(155,"div",33)(156,"div",34)(157,"label",35),p(158,"i",52),s(159),m(160,"translate"),a(),l(161,"p",37),s(162),a()()(),l(163,"div",33)(164,"div",34)(165,"label",35),p(166,"i",53),s(167),m(168,"translate"),a(),l(169,"p",37),s(170),a()()()()()()(),l(171,"div",54)(172,"div",30)(173,"div",31)(174,"h6",19),p(175,"i",55),s(176),m(177,"translate"),a()(),l(178,"div",13)(179,"div",56)(180,"button",57),C("click",function(){h(i);let r=_();return b(r.editImmobilisation())}),p(181,"i",58),s(182),m(183,"translate"),a(),p(184,"hr",59),l(185,"button",60),C("click",function(){h(i);let r=_();return b(r.deleteImmobilisation())}),p(186,"i",61),s(187),m(188,"translate"),a()()()(),l(189,"div",30)(190,"div",31)(191,"h6",19),p(192,"i",62),s(193),m(194,"translate"),a()(),l(195,"div",13)(196,"div",63)(197,"div",64)(198,"span",65),p(199,"i",66),a(),l(200,"div",67)(201,"h6",68),s(202),m(203,"translate"),a(),l(204,"p",69),s(205),a()()(),l(206,"div",64)(207,"span",65),p(208,"i",70),a(),l(209,"div",67)(210,"h6",68),s(211),m(212,"translate"),a(),l(213,"p",69),s(214),a()()(),l(215,"div",64)(216,"span",65),p(217,"i",71),a(),l(218,"div",67)(219,"h6",68),s(220),m(221,"translate"),a(),l(222,"p",69),s(223),a()()()()()(),x(224,Jo,31,19,"div",30),a()()}if(t&2){let i=_();o(11),v(i.immobilisation.name),o(3),g("",i.immobilisation.code," "),o(3),w(i.getStatusClass(i.immobilisation.status)),o(),w(i.getStatusIcon(i.immobilisation.status)),o(),g(" ",c(20,52,i.immobilisation.status)," "),o(4),g("",c(24,54,"Back")," "),o(8),g(" ",c(32,56,"BasicInformation")," "),o(8),g("",c(40,58,"Name")," "),o(3),v(i.immobilisation.name),o(5),g("",c(48,60,"Code")," "),o(3),v(i.immobilisation.code),o(5),g("",c(56,62,"Mark")," "),o(3),v(i.immobilisation.mark||"N/A"),o(5),g("",c(64,64,"Model")," "),o(3),v(i.immobilisation.model||"N/A"),o(5),g(" ",c(72,66,"Classification")," "),o(8),g("",c(80,68,"Category")," "),o(3),v(i.immobilisation.categorie.name||"N/A"),o(5),g("",c(88,70,"Structure")," "),o(3),v(i.immobilisation.structure.name||"N/A"),o(5),g("",c(96,72,"Supplier")," "),o(3),v(i.immobilisation.fournisseur.raison_social||"N/A"),o(5),g(" ",c(104,74,"FinancialInformation")," "),o(8),g("",c(112,76,"Quantity")," "),o(3),v(i.immobilisation.quantity),o(5),g("",c(120,78,"UnitPrice")," "),o(3),v(i.formatCurrency(i.immobilisation.unit_price)),o(5),g("",c(128,80,"TotalValue")," "),o(3),v(i.formatCurrency(i.immobilisation.quantity*i.immobilisation.unit_price)),o(5),g(" ",c(136,82,"AdministrativeInformation")," "),o(8),g("",c(144,84,"OrderNumber")," "),o(3),v(i.immobilisation.num_bon_commande||"N/A"),o(5),g("",c(152,86,"ProcessNumber")," "),o(3),v(i.immobilisation.num_proces_verbal||"N/A"),o(5),g("",c(160,88,"ReceiptDate")," "),o(3),v(i.formatDate(i.immobilisation.date_of_receipt)),o(5),g("",c(168,90,"CreatedBy")," "),o(3),O("",i.immobilisation.user.first_name," ",i.immobilisation.user.last_name,""),o(6),g(" ",c(177,92,"Actions")," "),o(6),g("",c(183,94,"Edit")," "),o(5),g("",c(188,96,"Delete")," "),o(6),g(" ",c(194,98,"Timeline")," "),o(9),v(c(203,100,"Created")),o(3),g(" ",i.formatDate(i.immobilisation.created_at)," "),o(6),v(c(212,102,"Received")),o(3),g(" ",i.formatDate(i.immobilisation.date_of_receipt)," "),o(6),v(c(221,104,"LastUpdated")),o(3),g(" ",i.formatDate(i.immobilisation.updated_at)," "),o(),y(i.immobilisation.fournisseur?224:-1)}}function el(t,e){if(t&1){let i=F();l(0,"div",2)(1,"div",6)(2,"div",7)(3,"div",8),p(4,"i",73),l(5,"h3",9),s(6),m(7,"translate"),a(),p(8,"app-custom-spinner",74),l(9,"p",75),s(10),m(11,"translate"),a(),l(12,"button",76),C("click",function(){h(i);let r=_();return b(r.goBack())}),p(13,"i",27),s(14),m(15,"translate"),a()()()()()}t&2&&(o(6),v(c(7,3,"AssetNotFound")),o(4),v(c(11,5,"AssetNotFoundDescription")),o(4),g("",c(15,7,"BackToList")," "))}var Dt=class t{constructor(e,i,n,r){this.route=e;this.router=i;this.immoService=n;this.translateService=r;this.loading$=this.immoService.loading$,this.error$=this.immoService.error$}destroy$=new Pn;immobilisation=null;loading$;error$;immoId=null;ngOnInit(){this.immoId=this.route.snapshot.paramMap.get("id"),this.immoId&&this.loadImmobilisationDetail()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadImmobilisationDetail(){this.immoId&&this.immoService.getImmoDetailFromServer(this.immoId).subscribe({next:e=>{this.immobilisation=e},error:e=>{console.error("Erreur lors du chargement du d\xE9tail:",e)}})}goBack(){this.router.navigate(["/admin/immobilisations"],{relativeTo:this.route})}editImmobilisation(){this.immoId&&this.router.navigate(["/admin/immobilisations/edit",this.immoId],{relativeTo:this.route})}deleteImmobilisation(){this.immoService.deleteImmo(this.immoId)}duplicateImmobilisation(){this.immoId&&this.router.navigate(["../create"],{relativeTo:this.route,queryParams:{duplicate:this.immoId}})}formatCurrency(e){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("fr-FR")}getStatusClass(e){switch(e?.toLowerCase()){case"active":return"badge bg-gradient-success";case"inactive":return"badge bg-gradient-secondary";case"maintenance":return"badge bg-gradient-warning";case"disposed":return"badge bg-gradient-danger";default:return"badge bg-gradient-primary"}}getStatusIcon(e){switch(e?.toLowerCase()){case"active":return"fas fa-check-circle";case"inactive":return"fas fa-pause-circle";case"maintenance":return"fas fa-tools";case"disposed":return"fas fa-trash";default:return"fas fa-info-circle"}}static \u0275fac=function(i){return new(i||t)(E(Xe),E(xt),E(j),E(Ln))};static \u0275cmp=A({type:t,selectors:[["app-detail-immobilisation"]],standalone:!1,decls:10,vars:12,consts:[[1,"main-content","position-relative","max-height-vh-100","h-100","detail-immobilisation"],[1,"container-fluid","py-4"],[1,"row","justify-content-center"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"col-12","text-center"],[1,"card","shadow-lg"],[1,"card-body","py-5"],[1,"text-secondary","mt-3"],[1,"row","mb-4"],[1,"col-12"],[1,"card","bg-gradient-primary","shadow-lg","border-0"],[1,"card-body","p-4"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"d-flex","align-items-center","text-white"],[1,"icon","icon-shape","icon-lg","bg-white","shadow","text-center","me-3"],[1,"fas","fa-cube","text-primary"],[1,"mb-0"],[1,"text-sm","opacity-8","mb-0"],[1,"fas","fa-barcode","me-2"],[1,"col-md-4","text-end"],[1,"d-flex","justify-content-end","align-items-center"],[1,"me-3"],[1,"me-1"],[1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"fas","fa-arrow-left","me-2"],[1,"row"],[1,"col-lg-8"],[1,"card","shadow-lg","mb-4"],[1,"card-header","bg-gradient-light","p-4"],[1,"fas","fa-info-circle","me-2","text-primary"],[1,"col-md-6"],[1,"info-item","mb-3"],[1,"form-label","text-sm","text-secondary","mb-1"],[1,"fas","fa-tag","me-2"],[1,"text-dark","font-weight-600","mb-0"],[1,"fas","fa-star","me-2"],[1,"fas","fa-cogs","me-2"],[1,"fas","fa-sitemap","me-2","text-primary"],[1,"col-md-4"],[1,"fas","fa-layer-group","me-2"],[1,"fas","fa-building","me-2"],[1,"fas","fa-truck","me-2"],[1,"fas","fa-euro-sign","me-2","text-primary"],[1,"fas","fa-sort-numeric-up","me-2"],[1,"fas","fa-money-bill-wave","me-2"],[1,"fas","fa-calculator","me-2"],[1,"fas","fa-file-alt","me-2","text-primary"],[1,"fas","fa-receipt","me-2"],[1,"fas","fa-file-signature","me-2"],[1,"fas","fa-calendar-alt","me-2"],[1,"fas","fa-user","me-2"],[1,"col-lg-4"],[1,"fas","fa-cogs","me-2","text-primary"],[1,"d-grid","gap-3"],[1,"btn","btn-outline-primary","btn-lg",3,"click"],[1,"fas","fa-edit","me-2"],[1,"horizontal","dark"],[1,"btn","btn-outline-danger","btn-lg",3,"click"],[1,"fas","fa-trash","me-2"],[1,"fas","fa-history","me-2","text-primary"],[1,"timeline","timeline-one-side"],[1,"timeline-block","mb-3"],[1,"timeline-step"],[1,"fas","fa-plus","text-success"],[1,"timeline-content"],[1,"text-dark","text-sm","font-weight-bold","mb-0"],[1,"text-secondary","text-xs","mt-1","mb-0"],[1,"fas","fa-calendar","text-info"],[1,"fas","fa-edit","text-warning"],[1,"fas","fa-truck","me-2","text-primary"],[1,"fas","fa-exclamation-triangle","text-warning",2,"font-size","3rem"],[1,"my-4"],[1,"text-muted","mb-4"],[1,"btn","btn-primary",3,"click"]],template:function(i,n){if(i&1&&(l(0,"div",0)(1,"div",1),x(2,Qo,1,1),m(3,"async"),x(4,Yo,8,3,"div",2),m(5,"async"),x(6,Zo,225,106),m(7,"async"),x(8,el,16,9,"div",2),m(9,"async"),a()()),i&2){let r;o(2),y((r=c(3,4,n.error$))?2:-1,r),o(2),y(c(5,6,n.loading$)?4:-1),o(2),y(!c(7,8,n.loading$)&&n.immobilisation?6:-1),o(2),y(!c(9,10,n.loading$)&&!n.immobilisation?8:-1)}},dependencies:[se,N,V],styles:['.detail-immobilisation[_ngcontent-%COMP%]{width:100%;max-width:100%}.detail-immobilisation[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.info-item[_ngcontent-%COMP%]{padding:.75rem 0;border-bottom:1px solid rgba(0,0,0,.05)}.info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-item[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:500;color:#67748e;margin-bottom:.25rem;font-size:.75rem;text-transform:uppercase;letter-spacing:.5px}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#344767;margin-bottom:0}.detail-immobilisation[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-radius:.75rem;margin-bottom:1.5rem}.detail-immobilisation[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:1px solid rgba(0,0,0,.05);border-radius:.75rem .75rem 0 0}.detail-immobilisation[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.detail-immobilisation[_ngcontent-%COMP%]   .bg-gradient-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.detail-immobilisation[_ngcontent-%COMP%]   .icon-shape[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:.75rem;display:flex;align-items:center;justify-content:center}.detail-immobilisation[_ngcontent-%COMP%]   .icon-shape[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.detail-immobilisation[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.5rem;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.detail-immobilisation[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.5rem;font-weight:500;padding:.75rem 1.5rem;transition:all .3s ease}.detail-immobilisation[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px -8px #0003}.detail-immobilisation[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1rem;text-align:center}.timeline[_ngcontent-%COMP%]{position:relative;padding:0}.timeline-block[_ngcontent-%COMP%]{position:relative;padding-left:3rem}.timeline-step[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:2rem;height:2rem;border-radius:50%;background:#fff;border:2px solid #e9ecef;display:flex;align-items:center;justify-content:center;font-size:.75rem;z-index:1}.timeline-block[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;left:.9375rem;top:2rem;width:2px;height:calc(100% - 1rem);background:#e9ecef}.timeline-content[_ngcontent-%COMP%]{padding:.25rem 0 1rem}.timeline-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;margin-bottom:.25rem}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;color:#67748e;margin-bottom:0}@media (max-width: 991px){.detail-immobilisation[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > .col-lg-4[_ngcontent-%COMP%]{margin-top:1rem}}@media (max-width: 767px){.detail-immobilisation[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.detail-immobilisation[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}.detail-immobilisation[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem}}.detail-immobilisation[_ngcontent-%COMP%]   .loading-skeleton[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@media print{.detail-immobilisation[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #dee2e6}.detail-immobilisation[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:none}.detail-immobilisation[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#f8f9fa!important;color:#212529!important}}']})};var va=ba(ga());var ep=["barcodeCanvas"],_a=t=>({"grid-template-columns":t}),rt=(t,e)=>e.id,tp=(t,e)=>e.value;function ip(t,e){t&1&&(l(0,"div",3)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"span",13),s(6),m(7,"translate"),a()(),l(8,"p",14),s(9),m(10,"translate"),a()()()()()),t&2&&(o(6),g("",c(7,2,"Loading"),"..."),o(3),v(c(10,4,"LoadingData")))}function np(t,e){if(t&1&&(l(0,"option",37),s(1),a()),t&2){let i=e.$implicit;S("value",i.value),o(),v(i.label)}}function rp(t,e){if(t&1&&(l(0,"option",37),s(1),a()),t&2){let i=e.$implicit;S("value",i.id),o(),v(i.name)}}function ap(t,e){t&1&&L(0,rp,2,2,"option",37,rt),t&2&&R(e)}function op(t,e){if(t&1&&(l(0,"option",37),s(1),a()),t&2){let i=e.$implicit;S("value",i.id),o(),v(i.name)}}function lp(t,e){t&1&&L(0,op,2,2,"option",37,rt),t&2&&R(e)}function sp(t,e){if(t&1&&(l(0,"option",37),s(1),a()),t&2){let i=e.$implicit;S("value",i.id),o(),O("",i.first_name," ",i.last_name,"")}}function mp(t,e){t&1&&L(0,sp,2,3,"option",37,rt),t&2&&R(e)}function cp(t,e){if(t&1&&(l(0,"div",17)(1,"div",80)(2,"div",81),s(3),a()(),l(4,"div",73)(5,"span",82),s(6),a(),l(7,"span",79),s(8),a()()()),t&2){let i=_().$implicit;o(3),O(" ",i.employee_immo.employee.first_name.charAt(0),"",i.employee_immo.employee.last_name.charAt(0)," "),o(3),O("",i.employee_immo.employee.first_name," ",i.employee_immo.employee.last_name,""),o(2),v(i.employee_immo.employee.matricule)}}function dp(t,e){t&1&&(l(0,"span",79),p(1,"i",83),s(2,"Non assign\xE9 "),a())}function pp(t,e){if(t&1){let i=F();l(0,"tr")(1,"td")(2,"input",72),C("change",function(){let r=h(i).$implicit,d=_(3);return b(d.toggleImmobilisationSelection(r))}),a()(),l(3,"td")(4,"div",73)(5,"h6",74),s(6),a(),l(7,"p",75),s(8),a()()(),l(9,"td")(10,"span",76),s(11),a()(),l(12,"td")(13,"span",77),s(14),a()(),l(15,"td")(16,"span",78),s(17),a()(),l(18,"td"),x(19,cp,9,5,"div",17)(20,dp,3,0,"span",79),a()()}if(t&2){let i=e.$implicit,n=_(3);k("table-active",n.isImmobilisationSelected(i)),o(2),S("checked",n.isImmobilisationSelected(i)),o(4),v(i.name),o(2),O("",i.mark," ",i.model,""),o(3),v(i.code),o(3),v(i.categorie.name),o(2),S("ngClass",n.getStatusBadgeClass(i.status)),o(),g(" ",n.getStatusLabel(i.status)," "),o(2),y(i.employee_immo!=null&&i.employee_immo.employee?19:20)}}function up(t,e){t&1&&L(0,pp,21,11,"tr",71,rt),t&2&&R(e)}function fp(t,e){if(t&1){let i=F();l(0,"div",15)(1,"div",16)(2,"div",17)(3,"h4",18),p(4,"i",19),s(5," G\xE9n\xE9ration de Codes-Barres "),a(),l(6,"span",20),s(7,"ngx-barcode6"),a()(),l(8,"p",21),s(9," G\xE9n\xE9rer et imprimer des \xE9tiquettes avec codes-barres pour les immobilisations "),l(10,"small",22),s(11,"\u2022 Solution gratuite et performante \u2022 Formats multiples support\xE9s"),a()()(),l(12,"div",23)(13,"button",24),C("click",function(){h(i);let r=_();return b(r.togglePreview())}),p(14,"i",25),s(15),a(),l(16,"button",26),C("click",function(){h(i);let r=_();return b(r.printBarcodes())}),p(17,"i",27),s(18," Imprimer \xC9tiquettes "),a()()(),l(19,"div",15)(20,"div",9)(21,"div",10)(22,"div",28)(23,"h6",29),s(24,"Configuration des \xE9tiquettes"),a()(),l(25,"div",30)(26,"div",3)(27,"div",31)(28,"label",32),s(29,"Format d'\xE9tiquette"),a(),l(30,"select",33),z("ngModelChange",function(r){h(i);let d=_();return G(d.labelFormat,r)||(d.labelFormat=r),b(r)}),l(31,"option",34),s(32,"Petit (40px hauteur)"),a(),l(33,"option",35),s(34,"Moyen (60px hauteur)"),a(),l(35,"option",36),s(36,"Grand (80px hauteur)"),a()()(),l(37,"div",31)(38,"label",32),s(39,"\xC9tiquettes par ligne"),a(),l(40,"select",33),z("ngModelChange",function(r){h(i);let d=_();return G(d.labelsPerRow,r)||(d.labelsPerRow=r),b(r)}),l(41,"option",37),s(42,"2 par ligne"),a(),l(43,"option",37),s(44,"3 par ligne"),a(),l(45,"option",37),s(46,"4 par ligne"),a(),l(47,"option",37),s(48,"5 par ligne"),a()()(),l(49,"div",38)(50,"label",32),s(51,"Informations \xE0 afficher"),a(),l(52,"div",39)(53,"div",40)(54,"input",41),z("ngModelChange",function(r){h(i);let d=_();return G(d.showName,r)||(d.showName=r),b(r)}),a(),l(55,"label",42),s(56,"Nom"),a()(),l(57,"div",40)(58,"input",43),z("ngModelChange",function(r){h(i);let d=_();return G(d.showCode,r)||(d.showCode=r),b(r)}),a(),l(59,"label",44),s(60,"Code"),a()(),l(61,"div",40)(62,"input",45),z("ngModelChange",function(r){h(i);let d=_();return G(d.showCategory,r)||(d.showCategory=r),b(r)}),a(),l(63,"label",46),s(64,"Cat\xE9gorie"),a()()()(),l(65,"div",31)(66,"label",32),s(67,"Format du code-barre"),a(),l(68,"select",33),z("ngModelChange",function(r){h(i);let d=_();return G(d.barcodeFormat,r)||(d.barcodeFormat=r),b(r)}),L(69,np,2,2,"option",37,tp),a()()()()()()(),l(71,"div",15)(72,"div",9)(73,"div",10)(74,"div",28)(75,"h6",29),s(76,"Filtres et s\xE9lection des immobilisations"),a()(),l(77,"div",30)(78,"div",47)(79,"div",48)(80,"label",32),s(81,"Recherche"),a(),p(82,"input",49),a(),l(83,"div",48)(84,"label",32),s(85,"Statut"),a(),l(86,"select",50)(87,"option",51),s(88,"Tous"),a(),l(89,"option",52),s(90,"Actif"),a(),l(91,"option",53),s(92,"En panne"),a(),l(93,"option",54),s(94,"En stock"),a(),l(95,"option",55),s(96,"Cr\xE9\xE9"),a()()(),l(97,"div",48)(98,"label",32),s(99,"Cat\xE9gorie"),a(),l(100,"select",50)(101,"option",51),s(102,"Toutes"),a(),x(103,ap,2,0),m(104,"async"),a()(),l(105,"div",48)(106,"label",32),s(107,"Structure"),a(),l(108,"select",50)(109,"option",51),s(110,"Toutes"),a(),x(111,lp,2,0),m(112,"async"),a()(),l(113,"div",48)(114,"label",32),s(115,"Employ\xE9"),a(),l(116,"select",50)(117,"option",51),s(118,"Tous"),a(),x(119,mp,2,0),m(120,"async"),a()(),l(121,"div",56)(122,"button",57),C("click",function(){h(i);let r=_();return b(r.resetFilters())}),p(123,"i",58),s(124,"R\xE9initialiser "),a()()(),l(125,"div",47)(126,"div",9)(127,"div",59)(128,"div")(129,"button",60),C("click",function(){h(i);let r=_();return b(r.selectAllDisplayed())}),p(130,"i",61),s(131,"S\xE9lectionner affich\xE9es "),a(),l(132,"button",62),C("click",function(){h(i);let r=_();return b(r.clearSelection())}),p(133,"i",63),s(134,"Tout d\xE9s\xE9lectionner "),a()(),l(135,"div",64)(136,"span",65),s(137),a()()()()(),l(138,"div",66)(139,"table",67)(140,"thead")(141,"tr")(142,"th",68),p(143,"input",69),a(),l(144,"th",70),C("click",function(){h(i);let r=_();return b(r.sortBy("name"))}),s(145," Immobilisation "),p(146,"i"),a(),l(147,"th",70),C("click",function(){h(i);let r=_();return b(r.sortBy("code"))}),s(148," Code "),p(149,"i"),a(),l(150,"th",70),C("click",function(){h(i);let r=_();return b(r.sortBy("categorie.name"))}),s(151," Cat\xE9gorie "),p(152,"i"),a(),l(153,"th",70),C("click",function(){h(i);let r=_();return b(r.sortBy("status"))}),s(154," Statut "),p(155,"i"),a(),l(156,"th",68),s(157," Employ\xE9 "),a()()(),l(158,"tbody"),x(159,up,2,0),m(160,"async"),a()()()()()()()}if(t&2){let i,n,r,d,u=_();o(15),g(" ",u.showPreview?"Masquer":"Pr\xE9visualiser"," "),o(),S("disabled",u.selectedImmobilisations.length===0),o(14),q("ngModel",u.labelFormat),o(10),q("ngModel",u.labelsPerRow),o(),S("value",2),o(2),S("value",3),o(2),S("value",4),o(2),S("value",5),o(7),q("ngModel",u.showName),o(4),q("ngModel",u.showCode),o(4),q("ngModel",u.showCategory),o(6),q("ngModel",u.barcodeFormat),o(),R(u.getBarcodeFormats()),o(13),S("formControl",u.searchCtrl),o(4),S("formControl",u.statusCtrl),o(14),S("formControl",u.categorieCtrl),o(3),y((i=c(104,30,u.categories$))?103:-1,i),o(5),S("formControl",u.structureCtrl),o(3),y((n=c(112,32,u.structures$))?111:-1,n),o(5),S("formControl",u.employeeCtrl),o(3),y((r=c(120,34,u.employees$))?119:-1,r),o(18),g(" ",u.selectedImmobilisations.length," s\xE9lectionn\xE9e(s) "),o(9),w(u.getSortIcon("name")),o(3),w(u.getSortIcon("code")),o(3),w(u.getSortIcon("categorie.name")),o(3),w(u.getSortIcon("status")),o(4),y((d=c(160,36,u.immobilisations$))?159:-1,d)}}function gp(t,e){if(t&1&&(l(0,"div",87),s(1),a()),t&2){let i=_().$implicit;o(),v(i.name)}}function vp(t,e){if(t&1&&(l(0,"div",88),s(1),a()),t&2){let i=_().$implicit;o(),v(i.code)}}function _p(t,e){if(t&1&&(l(0,"div",89),s(1),a()),t&2){let i=_().$implicit;o(),v(i.categorie.name)}}function hp(t,e){if(t&1&&(l(0,"div")(1,"div",85),p(2,"canvas",86,0),a(),x(4,gp,2,1,"div",87)(5,vp,2,1,"div",88)(6,_p,2,1,"div",89),a()),t&2){let i=e.$implicit,n=_(2);w(n.getLabelClass()),o(2),S("id","barcode-preview-"+i.id),o(2),y(n.showName?4:-1),o(),y(n.showCode?5:-1),o(),y(n.showCategory?6:-1)}}function bp(t,e){if(t&1&&(l(0,"div",4)(1,"div",9)(2,"div",10)(3,"div",28)(4,"h6",29),s(5,"Aper\xE7u des \xE9tiquettes"),a()(),l(6,"div",30)(7,"div",84),L(8,hp,7,6,"div",8,rt),a()()()()()),t&2){let i=_();o(7),S("ngStyle",Kt(1,_a,"repeat("+i.labelsPerRow+", 1fr)")),o(),R(i.selectedImmobilisations)}}function xp(t,e){if(t&1&&(l(0,"div",87),s(1),a()),t&2){let i=_().$implicit;o(),v(i.name)}}function Cp(t,e){if(t&1&&(l(0,"div",88),s(1),a()),t&2){let i=_().$implicit;o(),v(i.code)}}function yp(t,e){if(t&1&&(l(0,"div",89),s(1),a()),t&2){let i=_().$implicit;o(),v(i.categorie.name)}}function Sp(t,e){if(t&1&&(l(0,"div")(1,"div",85),p(2,"canvas",86,0),a(),x(4,xp,2,1,"div",87)(5,Cp,2,1,"div",88)(6,yp,2,1,"div",89),a()),t&2){let i=e.$implicit,n=_();w(n.getLabelClass()),o(2),S("id","barcode-print-"+i.id),o(2),y(n.showName?4:-1),o(),y(n.showCode?5:-1),o(),y(n.showCategory?6:-1)}}var Wt=class t{constructor(e,i,n,r){this.languageService=e;this.immoService=i;this.employeeService=n;this.formBuilder=r}barcodeCanvases;loading$;error$;immobilisations$;categories$;structures$;fournisseurs$;employees$;employeeId;searchCtrl;statusCtrl;structureCtrl;categorieCtrl;employeeCtrl;fournisseurCtrl;listImmobilisationStatusEnum=wt;selectedImmobilisations=[];showPreview=!1;currentSortBy="created_at";sortDirection="desc";labelFormat="medium";labelsPerRow=3;showName=!0;showCode=!0;showCategory=!1;barcodeFormat="CODE128";ngOnInit(){this.immobilisations$=this.immoService.immobilisations$,this.categories$=this.immoService.categories$,this.structures$=this.immoService.structures$,this.fournisseurs$=this.immoService.fournisseurs$,this.employees$=this.employeeService.employees$,this.loading$=this.immoService.loading$,this.error$=this.immoService.error$,this.employeeService.getEmployeeFullFromServer(),this.immoService.getImmoFullFromServer(),this.immoService.getCategoriesFullFromServer(),this.immoService.getStructuresFullFromServer(),this.immoService.getFournisseursFullFromServer(),this.initForm()}ngAfterViewInit(){this.generateBarcodes()}initForm(){this.searchCtrl=this.formBuilder.control(""),this.statusCtrl=this.formBuilder.control(""),this.structureCtrl=this.formBuilder.control(""),this.categorieCtrl=this.formBuilder.control(""),this.fournisseurCtrl=this.formBuilder.control(""),this.employeeCtrl=this.formBuilder.control(""),this.searchCtrl.valueChanges.pipe(ne(300),re()).subscribe(()=>{this.applyFilters()}),this.statusCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.structureCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.categorieCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.fournisseurCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.employeeCtrl.valueChanges.subscribe(()=>{this.applyFilters()})}applyFilters(){let e=[];this.searchCtrl.value&&e.push(ce(this.searchCtrl.value)),this.statusCtrl.value&&e.push(B("status",this.statusCtrl.value)),this.structureCtrl.value&&e.push(B("structure_id",this.structureCtrl.value)),this.categorieCtrl.value&&e.push(B("categorie_id",this.categorieCtrl.value)),this.fournisseurCtrl.value&&e.push(B("fournisseur_id",this.fournisseurCtrl.value)),this.employeeCtrl.value&&e.push(B("employee_id",this.employeeCtrl.value)),e.push(B("sort_by",this.currentSortBy)),e.push(B("sort_direction",this.sortDirection)),e.push(jn(200)),this.immoService.getImmoFullFromServer(e)}sortBy(e){this.currentSortBy===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=e,this.sortDirection="asc"),this.applyFilters()}getSortIcon(e){return this.currentSortBy!==e?"fas fa-sort text-muted":this.sortDirection==="asc"?"fas fa-sort-up text-primary":"fas fa-sort-down text-primary"}toggleImmobilisationSelection(e){let i=this.selectedImmobilisations.findIndex(n=>n.id===e.id);i>-1?this.selectedImmobilisations.splice(i,1):this.selectedImmobilisations.push(e),this.updateBarcodes()}isImmobilisationSelected(e){return this.selectedImmobilisations.some(i=>i.id===e.id)}selectAllDisplayed(){this.immobilisations$.subscribe(e=>{e.forEach(i=>{this.isImmobilisationSelected(i)||this.selectedImmobilisations.push(i)}),this.updateBarcodes()})}clearSelection(){this.selectedImmobilisations=[],this.updateBarcodes()}getStatusBadgeClass(e){switch(e.toLowerCase()){case"active":return"bg-gradient-success";case"broken":return"bg-gradient-danger";case"stock":return"bg-gradient-info";case"created":return"bg-gradient-secondary";case"cession":return"bg-gradient-warning";case"sale":return"bg-gradient-primary";default:return"bg-gradient-secondary"}}getStatusLabel(e){switch(e.toLowerCase()){case"active":return"Active";case"broken":return"Broken";case"stock":return"InStock";case"created":return"StatusCreated";case"cession":return"Cession";case"sale":return"Sale";default:return e}}togglePreview(){this.showPreview=!this.showPreview,this.showPreview&&setTimeout(()=>{this.updateBarcodes()},200)}printBarcodes(){if(this.selectedImmobilisations.length===0){alert("Veuillez s\xE9lectionner au moins une immobilisation.");return}window.print()}resetFilters(){this.currentSortBy="created_at",this.sortDirection="desc",this.searchCtrl.setValue(""),this.statusCtrl.setValue(""),this.structureCtrl.setValue(""),this.categorieCtrl.setValue(""),this.fournisseurCtrl.setValue(""),this.employeeCtrl.setValue(""),this.applyFilters()}getBarcodeSize(){switch(this.labelFormat){case"small":return{width:2,height:40};case"medium":return{width:2,height:60};case"large":return{width:3,height:80};default:return{width:2,height:60}}}getBarcodeWidth(){switch(this.labelFormat){case"small":return 1;case"medium":return 2;case"large":return 2;default:return 2}}getBarcodeHeight(){switch(this.labelFormat){case"small":return 50;case"medium":return 70;case"large":return 100;default:return 70}}getLabelClass(){let e="barcode-label";return`${e} ${e}-${this.labelFormat} labels-per-row-${this.labelsPerRow}`}getBarcodeFormats(){return[{value:"CODE128",label:"Code 128 (Recommand\xE9)"},{value:"CODE39",label:"Code 39"},{value:"EAN13",label:"EAN-13"},{value:"EAN8",label:"EAN-8"},{value:"UPC",label:"UPC"},{value:"CODE93",label:"Code 93"},{value:"CODABAR",label:"Codabar"}]}generateBarcodes(){setTimeout(()=>{this.barcodeCanvases.forEach((e,i)=>{if(i<this.selectedImmobilisations.length){let n=e.nativeElement,r=this.selectedImmobilisations[i];this.generateSingleBarcode(n,r.code)}})},100)}generateSingleBarcode(e,i){try{(0,va.default)(e,i,{format:this.barcodeFormat,width:this.getBarcodeWidth(),height:this.getBarcodeHeight(),displayValue:!0,fontSize:14,textAlign:"center",textPosition:"bottom",background:"#ffffff",lineColor:"#000000"})}catch(n){console.error("Erreur lors de la g\xE9n\xE9ration du code-barre:",n)}}updateBarcodes(){setTimeout(()=>{this.generateBarcodes()},50)}static \u0275fac=function(i){return new(i||t)(E(U),E(j),E(Gn),E(W))};static \u0275cmp=A({type:t,selectors:[["app-generate-code-bare-immobilisations"]],viewQuery:function(i,n){if(i&1&&Ge(ep,5),i&2){let r;ze(r=Ue())&&(n.barcodeCanvases=r)}},standalone:!1,decls:11,vars:7,consts:[["barcodeCanvas",""],[1,"container-fluid","py-4"],[1,"no-print"],[1,"row"],[1,"row","mb-4","no-print"],[1,"print-section"],[1,"print-container"],[1,"barcode-grid",3,"ngStyle"],[3,"class"],[1,"col-12"],[1,"card"],[1,"card-body","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-muted","mt-3"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"fas","fa-barcode","me-2","text-primary"],[1,"badge","bg-gradient-success","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"text-muted"],[1,"col-lg-4","col-md-6","col-12","text-end"],[1,"btn","btn-outline-primary","btn-sm","me-2",3,"click"],[1,"fas","fa-eye","me-2"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-print","me-2"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"col-lg-3","col-md-6","col-12","mb-3"],[1,"form-label","text-xs"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["value","small"],["value","medium"],["value","large"],[3,"value"],[1,"col-lg-6","col-12","mb-3"],[1,"d-flex","flex-wrap","gap-3"],[1,"form-check"],["type","checkbox","id","showName",1,"form-check-input",3,"ngModelChange","ngModel"],["for","showName",1,"form-check-label","text-xs"],["type","checkbox","id","showCode",1,"form-check-input",3,"ngModelChange","ngModel"],["for","showCode",1,"form-check-label","text-xs"],["type","checkbox","id","showCategory",1,"form-check-input",3,"ngModelChange","ngModel"],["for","showCategory",1,"form-check-label","text-xs"],[1,"row","mb-3"],[1,"col-lg-2","col-md-4","col-6"],["type","text","placeholder","Nom, code...",1,"form-control","form-control-sm",3,"formControl"],[1,"form-select","form-select-sm",3,"formControl"],["value",""],["value","active"],["value","broken"],["value","stock"],["value","created"],[1,"col-lg-2","col-md-4","col-6","d-flex","align-items-end"],[1,"btn","btn-outline-secondary","btn-sm","w-100",3,"click"],[1,"fas","fa-undo","me-1"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-success","btn-sm","me-2",3,"click"],[1,"fas","fa-check","me-1"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fas","fa-times","me-1"],[1,"text-end"],[1,"badge","bg-gradient-primary"],[1,"table-responsive"],[1,"table","table-hover","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],["type","checkbox",1,"form-check-input"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[3,"table-active"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"d-flex","flex-column"],[1,"mb-0","text-sm","font-weight-bold"],[1,"text-xs","text-muted","mb-0"],[1,"badge","bg-gradient-secondary","font-monospace"],[1,"text-xs"],[1,"badge",3,"ngClass"],[1,"text-xs","text-secondary"],[1,"avatar","avatar-xs","me-2"],[1,"avatar-initial","rounded-circle","bg-gradient-success"],[1,"text-xs","font-weight-bold"],[1,"fas","fa-user-slash","me-1"],[1,"barcode-preview",3,"ngStyle"],[1,"barcode-container"],[1,"barcode-canvas",3,"id"],[1,"label-text","name"],[1,"label-text","code"],[1,"label-text","category"]],template:function(i,n){i&1&&(l(0,"div",1)(1,"div",2),x(2,ip,11,6,"div",3),m(3,"async"),x(4,fp,161,38),a(),x(5,bp,10,3,"div",4),a(),l(6,"div",5)(7,"div",6)(8,"div",7),L(9,Sp,7,6,"div",8,rt),a()()()),i&2&&(o(2),y(c(3,3,n.loading$)?2:4),o(3),y(n.showPreview&&n.selectedImmobilisations.length>0?5:-1),o(3),S("ngStyle",Kt(5,_a,"repeat("+n.labelsPerRow+", 1fr)")),o(),R(n.selectedImmobilisations))},dependencies:[He,Dn,St,Et,H,Rn,yt,X,oe,le,N,V],styles:["@media print{.no-print[_ngcontent-%COMP%]{display:none!important}.print-section[_ngcontent-%COMP%]{display:block!important}body[_ngcontent-%COMP%]{margin:0;padding:0;-webkit-print-color-adjust:exact;print-color-adjust:exact}.print-container[_ngcontent-%COMP%]{width:100%;padding:10mm}.barcode-grid[_ngcontent-%COMP%]{display:grid;gap:5mm;page-break-inside:avoid}.barcode-label[_ngcontent-%COMP%]{break-inside:avoid;page-break-inside:avoid;border:1px solid #ddd;padding:2mm;text-align:center;background:#fff}.barcode-label-small[_ngcontent-%COMP%]{width:40mm;height:25mm}.barcode-label-medium[_ngcontent-%COMP%]{width:60mm;height:35mm}.barcode-label-large[_ngcontent-%COMP%]{width:80mm;height:45mm}.barcode-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:2mm;min-height:50px}.barcode-container[_ngcontent-%COMP%]   ngx-barcode[_ngcontent-%COMP%]{display:block;margin:0 auto}.label-text[_ngcontent-%COMP%]{font-size:8px;line-height:1.2;margin:1mm 0;word-wrap:break-word;overflow:hidden}.label-text.name[_ngcontent-%COMP%]{font-weight:700;font-size:9px}.label-text.code[_ngcontent-%COMP%]{font-family:monospace;font-weight:700;font-size:8px}.label-text.category[_ngcontent-%COMP%]{font-style:italic;font-size:7px;color:#666}}.print-section[_ngcontent-%COMP%]{display:none}.barcode-preview[_ngcontent-%COMP%]{display:grid;gap:15px;margin:20px 0;padding:20px;background:#f8f9fa;border-radius:8px}.barcode-label[_ngcontent-%COMP%]{border:2px solid #5e72e4;border-radius:8px;padding:15px;text-align:center;background:#fff;box-shadow:0 2px 10px #0000001a;transition:transform .2s}.barcode-label[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 20px #00000026}.barcode-label-small[_ngcontent-%COMP%]{min-height:120px}.barcode-label-medium[_ngcontent-%COMP%]{min-height:160px}.barcode-label-large[_ngcontent-%COMP%]{min-height:200px}.barcode-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px;min-height:80px}.barcode-container[_ngcontent-%COMP%]   ngx-barcode[_ngcontent-%COMP%]{display:block;margin:0 auto;max-width:100%}.label-text[_ngcontent-%COMP%]{margin:5px 0;font-size:12px;line-height:1.3;word-wrap:break-word}.label-text.name[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:#495057}.label-text.code[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:700;font-size:13px;color:#5e72e4;background:#f8f9fc;padding:2px 6px;border-radius:4px;display:inline-block}.label-text.category[_ngcontent-%COMP%]{font-style:italic;font-size:11px;color:#6c757d}.barcode-canvas[_ngcontent-%COMP%]{display:block;margin:0 auto;max-width:100%;height:auto}.barcode-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:5px}.barcode-preview[_ngcontent-%COMP%]{display:grid;gap:15px;margin:20px 0}.barcode-preview[_ngcontent-%COMP%]   .barcode-label[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:8px;padding:15px;background:#fff;box-shadow:0 2px 4px #0000001a}.label-text[_ngcontent-%COMP%]{margin-top:8px;font-size:11px;line-height:1.2}.label-text.name[_ngcontent-%COMP%]{font-weight:600;color:#333}.label-text.code[_ngcontent-%COMP%]{font-family:Courier New,monospace;color:#666}.label-text.category[_ngcontent-%COMP%]{color:#888;font-style:italic}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s}.cursor-pointer[_ngcontent-%COMP%]:hover{background-color:#5e72e41a}.labels-per-row-2[_ngcontent-%COMP%], .labels-per-row-3[_ngcontent-%COMP%], .labels-per-row-4[_ngcontent-%COMP%], .labels-per-row-5[_ngcontent-%COMP%]{margin:2px}@media (max-width: 768px){.barcode-preview[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.barcode-label[_ngcontent-%COMP%]{margin-bottom:15px}}.table-active[_ngcontent-%COMP%]{background-color:#5e72e41a!important;transform:scale(1.01);box-shadow:0 2px 8px #5e72e433}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem}.bg-gradient-success[_ngcontent-%COMP%]{background:linear-gradient(87deg,#2dce89 0,#2dcecc)}.bg-gradient-danger[_ngcontent-%COMP%]{background:linear-gradient(87deg,#f5365c 0,#f56036)}.bg-gradient-info[_ngcontent-%COMP%]{background:linear-gradient(87deg,#11cdef 0,#1171ef)}.bg-gradient-secondary[_ngcontent-%COMP%]{background:linear-gradient(87deg,#6c757d 0,#adb5bd)}.bg-gradient-warning[_ngcontent-%COMP%]{background:linear-gradient(87deg,#fb6340 0,#fbb140)}.bg-gradient-primary[_ngcontent-%COMP%]{background:linear-gradient(87deg,#5e72e4 0,#825ee4)}@media print{@page{size:A4;margin:10mm}.labels-per-row-2[_ngcontent-%COMP%]   .barcode-label[_ngcontent-%COMP%]{width:95mm;height:35mm}.labels-per-row-3[_ngcontent-%COMP%]   .barcode-label[_ngcontent-%COMP%]{width:63mm;height:30mm}.labels-per-row-4[_ngcontent-%COMP%]   .barcode-label[_ngcontent-%COMP%]{width:47mm;height:25mm}.labels-per-row-5[_ngcontent-%COMP%]   .barcode-label[_ngcontent-%COMP%]{width:37mm;height:20mm}}"]})};var Ep=[{path:"",component:Mt},{path:"categories",component:Ft},{path:"structures",component:kt},{path:"fournisseurs",component:Tt},{path:"detail/:id",component:Dt},{path:"create",component:De,canActivate:[It],data:{roles:["SuperAdmin","Admin"]}},{path:"edit/:id",component:De,canActivate:[It],data:{roles:["SuperAdmin","Admin"]}},{path:"generate-barcodes",component:Wt,canActivate:[It],data:{roles:["SuperAdmin","Admin"]}}],ha=class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Fn({type:t});static \u0275inj=Mn({imports:[Qt.forChild(Ep),Qt]})};export{ha as a};
