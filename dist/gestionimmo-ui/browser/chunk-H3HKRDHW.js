import{a as ze,b as de,d as Je,e as Q,f as Ke,h as Ye,i as Ze}from"./chunk-6SZMHJQK.js";import{$ as A,Ab as Ne,Ac as xe,Ba as x,Bb as Me,Bc as F,Cb as H,D as we,Db as De,E as W,Eb as z,Fb as J,G as K,Gc as He,Ia as s,Ic as Qe,Ja as c,Jc as We,Ka as u,Kc as Xe,La as L,M as y,N as E,Oa as Re,Pc as et,Q as Ue,Qc as tt,Rc as it,S as Be,Sc as rt,Ta as Fe,X as t,Xa as a,Y as X,Ya as l,Z as g,Za as B,_ as Y,aa as Z,ac as $e,ba as ee,bc as ke,ca as te,da as f,ec as ne,f as $,g as _e,ga as m,gc as U,ha as S,hc as ae,ia as w,ib as P,ic as Oe,jb as V,jc as Ae,k,la as ge,lb as j,mc as Le,nb as ie,oc as Pe,pc as Ve,qa as r,qc as je,r as Ie,ra as n,rb as Te,rc as le,s as ye,sa as v,sc as oe,tb as re,tc as se,ub as q,v as Ee,va as T,vb as R,wc as pe,xa as h,xb as Ce,xc as qe,ya as C,yb as he,yc as Ge,z as O,zb as G}from"./chunk-PUPW3FWI.js";var I=class i extends ke{constructor(e,o,d,_){super(e,o,_);this.https=e;this.snak=o;this.router=d;this.injector_=_}_users$=new _e([]);get users$(){return this._users$.asObservable()}_roles$=new _e([]);get roles$(){return this._roles$.asObservable()}getUserFromServer(e=this.emptyPaginate,o=[]){let d=this.getHearder(),_=this.explosePaginationOption(e),b=Ke(o);_+=b?`&${b}`:"",this.setLoadStatus(!0),this.http.get(`${G.apiUrlFirst}/admin/users/all?${_}`,d).pipe(k(D=>{this.setLoadStatus(!1),console.log(D),this._users$.next(D.data?.data??[]),this._paginateData$.next({current_page:D.data?.current_page??1,per_page:D.data?.per_page??1,total:D.data?.total??1})}),Ie(this.handleError)).subscribe()}createUser(e){let o=this.getHearder();this.setLoadStatus(!0),this.http.post(`${G.apiUrlFirst}/admin/users/create`,e,o).pipe(k(d=>{this.setLoadStatus(!1),console.log(d),d.success?(this.setSnackMesage(d.message,"btn-success"),this.setConfirmSubmit(!0)):this.setSnackMesage(`${d.error}`,"custom-error-snackbar")})).subscribe()}updateUser(e,o){let d=this.getHearder();this.setLoadStatus(!0),this.http.put(`${G.apiUrlFirst}/admin/users/update/${o}`,e,d).pipe(k(_=>{this.setLoadStatus(!1),console.log(_),_.success?(this.setSnackMesage(_.message,"btn-success"),this.setConfirmSubmit(!0)):this.setSnackMesage(`${_.error}`,"custom-error-snackbar")})).subscribe()}getUserDetail(e){let o=this.getHearder();return this.setLoadStatus(!0),this.http.get(`${G.apiUrlFirst}/admin/users/detail/${e}`,o).pipe(k(d=>(this.setLoadStatus(!1),console.log(d),d.data)))}getRolesFromServer(){let e=this.getHearder();this.setLoadStatus(!0),this.http.get(`${G.apiUrlFirst}/admin/roles/all`,e).pipe(k(o=>{this.setLoadStatus(!1),console.log(o),this._roles$.next(o.data??[])})).subscribe()}static \u0275fac=function(o){return new(o||i)(K(re),K($e),K(R),K(Ue))};static \u0275prov=we({token:i,factory:i.\u0275fac,providedIn:"root"})};function ct(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"FirstNameRequired")))}function ut(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"FirstNameMinLength")))}function vt(i,p){if(i&1&&(r(0,"div",29),f(1,ct,3,3,"small",30)(2,ut,3,3,"small",30),n()),i&2){let e=C();t(),m("ngIf",e.firstNameCtrl==null||e.firstNameCtrl.errors==null?null:e.firstNameCtrl.errors.required),t(),m("ngIf",e.firstNameCtrl==null||e.firstNameCtrl.errors==null?null:e.firstNameCtrl.errors.minlength)}}function ft(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"LastNameRequired")))}function _t(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"LastNameMinLength")))}function gt(i,p){if(i&1&&(r(0,"div",29),f(1,ft,3,3,"small",30)(2,_t,3,3,"small",30),n()),i&2){let e=C();t(),m("ngIf",e.lastNameCtrl==null||e.lastNameCtrl.errors==null?null:e.lastNameCtrl.errors.required),t(),m("ngIf",e.lastNameCtrl==null||e.lastNameCtrl.errors==null?null:e.lastNameCtrl.errors.minlength)}}function Ct(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"EmailRequired")))}function ht(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"EmailInvalid")))}function xt(i,p){if(i&1&&(r(0,"div",29),f(1,Ct,3,3,"small",30)(2,ht,3,3,"small",30),n()),i&2){let e=C();t(),m("ngIf",e.emailCtrl==null||e.emailCtrl.errors==null?null:e.emailCtrl.errors.required),t(),m("ngIf",e.emailCtrl==null||e.emailCtrl.errors==null?null:e.emailCtrl.errors.email)}}function bt(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"PasswordRequired")))}function St(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"PasswordMinLength")))}function It(i,p){if(i&1&&(r(0,"div",29),f(1,bt,3,3,"small",30)(2,St,3,3,"small",30),n()),i&2){let e=C(2);t(),m("ngIf",e.passwordCtrl==null||e.passwordCtrl.errors==null?null:e.passwordCtrl.errors.required),t(),m("ngIf",e.passwordCtrl==null||e.passwordCtrl.errors==null?null:e.passwordCtrl.errors.minlength)}}function yt(i,p){if(i&1&&(r(0,"div",7)(1,"label",8),s(2),a(3,"translate"),r(4,"span",9),s(5,"*"),n()(),v(6,"input",31),a(7,"translate"),f(8,It,3,2,"div",11),n()),i&2){let e=C();t(2),u("",l(3,7,"Password")," "),t(4),S("is-invalid",(e.passwordCtrl==null?null:e.passwordCtrl.invalid)&&(e.passwordCtrl==null?null:e.passwordCtrl.touched))("is-valid",e.passwordCtrl==null?null:e.passwordCtrl.valid),x("placeholder",l(7,9,"EnterPassword")),t(2),m("ngIf",(e.passwordCtrl==null?null:e.passwordCtrl.invalid)&&(e.passwordCtrl==null?null:e.passwordCtrl.touched))}}function Et(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"PasswordConfirmationRequired")))}function wt(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"PasswordMismatch")))}function Ut(i,p){if(i&1&&(r(0,"div",29),f(1,Et,3,3,"small",30)(2,wt,3,3,"small",30),n()),i&2){let e=C(2);t(),m("ngIf",e.passwordConfirmationCtrl==null||e.passwordConfirmationCtrl.errors==null?null:e.passwordConfirmationCtrl.errors.required),t(),m("ngIf",e.userForm.errors==null?null:e.userForm.errors.passwordMismatch)}}function Bt(i,p){if(i&1&&(r(0,"div",7)(1,"label",8),s(2),a(3,"translate"),r(4,"span",9),s(5,"*"),n()(),v(6,"input",32),a(7,"translate"),f(8,Ut,3,2,"div",11),n()),i&2){let e=C();t(2),u("",l(3,7,"ConfirmPassword")," "),t(4),S("is-invalid",(e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.invalid)&&(e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.touched)||(e.userForm.errors==null?null:e.userForm.errors.passwordMismatch))("is-valid",(e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.valid)&&!(e.userForm.errors!=null&&e.userForm.errors.passwordMismatch)),x("placeholder",l(7,9,"ConfirmPassword")),t(2),m("ngIf",(e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.invalid)&&(e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.touched)||(e.userForm.errors==null?null:e.userForm.errors.passwordMismatch))}}function Rt(i,p){i&1&&(r(0,"div",13)(1,"div",33),v(2,"i",34),s(3),a(4,"translate"),n()()),i&2&&(t(3),u(" ",l(4,1,"PasswordEditNote")," "))}function Ft(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"PasswordMinLength")))}function Tt(i,p){if(i&1&&(r(0,"div",29),f(1,Ft,3,3,"small",30),n()),i&2){let e=C(2);t(),m("ngIf",e.passwordCtrl==null||e.passwordCtrl.errors==null?null:e.passwordCtrl.errors.minlength)}}function Nt(i,p){if(i&1&&(r(0,"div",7)(1,"label",8),s(2),a(3,"translate"),r(4,"span",35),s(5),a(6,"translate"),n()(),v(7,"input",31),a(8,"translate"),f(9,Tt,2,1,"div",11),n()),i&2){let e=C();t(2),u("",l(3,8,"NewPassword")," "),t(3),u("(",l(6,10,"Optional"),")"),t(2),S("is-invalid",(e.passwordCtrl==null?null:e.passwordCtrl.invalid)&&(e.passwordCtrl==null?null:e.passwordCtrl.touched))("is-valid",e.passwordCtrl==null?null:e.passwordCtrl.valid),x("placeholder",l(8,12,"EnterNewPassword")),t(2),m("ngIf",(e.passwordCtrl==null?null:e.passwordCtrl.invalid)&&(e.passwordCtrl==null?null:e.passwordCtrl.touched))}}function Mt(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"PasswordMismatch")))}function Dt(i,p){if(i&1&&(r(0,"div",29),f(1,Mt,3,3,"small",30),n()),i&2){let e=C(2);t(),m("ngIf",e.userForm.errors==null?null:e.userForm.errors.passwordMismatch)}}function $t(i,p){if(i&1&&(r(0,"div",7)(1,"label",8),s(2),a(3,"translate"),r(4,"span",35),s(5),a(6,"translate"),n()(),v(7,"input",32),a(8,"translate"),f(9,Dt,2,1,"div",11),n()),i&2){let e=C();t(2),u("",l(3,8,"ConfirmNewPassword")," "),t(3),u("(",l(6,10,"Optional"),")"),t(2),S("is-invalid",(e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.invalid)&&(e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.touched))("is-valid",e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.valid),x("placeholder",l(8,12,"ConfirmNewPassword")),t(2),m("ngIf",(e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.invalid)&&(e.passwordConfirmationCtrl==null?null:e.passwordConfirmationCtrl.touched))}}function kt(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"UserTypeRequired")))}function Ot(i,p){if(i&1&&(r(0,"div",29),f(1,kt,3,3,"small",30),n()),i&2){let e=C();t(),m("ngIf",e.isAdminCtrl==null||e.isAdminCtrl.errors==null?null:e.isAdminCtrl.errors.required)}}function At(i,p){if(i&1&&(r(0,"ng-option",36)(1,"div",37),v(2,"i",38),r(3,"div")(4,"div",39),s(5),n(),r(6,"small",35),s(7),n()()()()),i&2){let e=p.$implicit;m("value",e.id),t(5),c(e.name),t(2),c(e.guard_name)}}function Lt(i,p){i&1&&(r(0,"small"),s(1),a(2,"translate"),n()),i&2&&(t(),c(l(2,1,"RoleRequired")))}function Pt(i,p){if(i&1&&(r(0,"div",29),f(1,Lt,3,3,"small",30),n()),i&2){let e=C();t(),m("ngIf",e.roleCtrl==null||e.roleCtrl.errors==null?null:e.roleCtrl.errors.required)}}function Vt(i,p){if(i&1&&(r(0,"div",40),v(1,"i",41),s(2),n()),i&2){let e=C();t(2),u(" ",e.message," ")}}function jt(i,p){i&1&&f(0,Vt,3,1,"div",40),i&2&&ge(p.status?0:-1)}function qt(i,p){i&1&&v(0,"span",42)}function Gt(i,p){i&1&&v(0,"i",43)}var M=class i{constructor(p,e,o,d,_,b){this.languageService=p;this.activeModal=e;this.formBuilder=o;this.userService=d;this.route=_;this.router=b}reload=new Be;userToEdit;userId;loading$;userForm;roles$;btnSubmit=!1;error$;confirmSubmit$;isEditMode=!1;ngOnInit(){this.userId=this.route.snapshot.paramMap.get("id")||this.userToEdit?.id,this.isEditMode=!!this.userId||!!this.userToEdit,this.loading$=this.userService.loading$,this.userService.setLoadStatus(!1),this.roles$=this.userService.roles$,this.confirmSubmit$=this.userService.confirmSubmit$,this.error$=this.userService.error$,this.initForm(),this.loadData(),this.userToEdit&&this.populateForm(this.userToEdit),this.confirmSubmit$.subscribe(p=>{p&&(this.activeModal?this.activeModal.close():this.router.navigate(["/admin/users"]),this.reload.emit(!0))})}initForm(){let p=this.isEditMode?[]:[U.required],e=this.isEditMode?[]:[U.required];this.userForm=this.formBuilder.group({first_name:["",[U.required]],last_name:["",[U.required]],email:["",[U.required,U.email]],password:[null,p],password_confirmation:[null,e],is_admin:[0,[U.required]],role_id:[null,[U.required]]},{validators:this.isEditMode?null:this.passwordMatchValidator})}loadData(){this.userService.getRolesFromServer()}populateForm(p){this.userForm.patchValue({first_name:p.first_name,last_name:p.last_name,email:p.email,is_admin:p.is_admin,role_id:p.roles&&p.roles.length>0?p.roles[0].id:""})}passwordMatchValidator(p){let e=p.get("password"),o=p.get("password_confirmation");return e&&o&&e.value!==o.value?{passwordMismatch:!0}:null}onSubmit(){this.userForm.valid?(this.btnSubmit=!0,this.isEditMode&&(this.userId||this.userToEdit?.id)?this.userService.updateUser(this.userForm.value,this.userId||this.userToEdit.id):this.userService.createUser(this.userForm.value)):this.markFormGroupTouched(this.userForm)}markFormGroupTouched(p){Object.keys(p.controls).forEach(e=>{let o=p.get(e);o?.markAsTouched(),o instanceof Ae&&this.markFormGroupTouched(o)})}closeModal(){this.activeModal?this.activeModal.dismiss():this.router.navigate(["/admin/users"])}get firstNameCtrl(){return this.userForm.get("first_name")}get lastNameCtrl(){return this.userForm.get("last_name")}get emailCtrl(){return this.userForm.get("email")}get passwordCtrl(){return this.userForm.get("password")}get passwordConfirmationCtrl(){return this.userForm.get("password_confirmation")}get isAdminCtrl(){return this.userForm.get("is_admin")}get roleCtrl(){return this.userForm.get("role_id")}static \u0275fac=function(e){return new(e||i)(g(z),g(ze,8),g(pe),g(I),g(q),g(R))};static \u0275cmp=A({type:i,selectors:[["app-create-user"]],inputs:{userToEdit:"userToEdit"},outputs:{reload:"reload"},standalone:!1,decls:88,vars:101,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","first_name",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","last_name",1,"form-control",3,"placeholder"],[1,"col-12","mb-3"],["type","email","formControlName","email",1,"form-control",3,"placeholder"],["class","col-md-6 mb-3",4,"ngIf"],["class","col-12 mb-3",4,"ngIf"],["formControlName","is_admin",1,"form-select"],["value",""],["value","1"],["value","0"],["bindLabel","name","bindValue","id","formControlName","role_id",3,"items","closeOnSelect","searchable","clearable","placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],["class","fas fa-save me-2",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["type","password","formControlName","password",1,"form-control",3,"placeholder"],["type","password","formControlName","password_confirmation",1,"form-control",3,"placeholder"],["role","alert",1,"alert","alert-info"],[1,"fas","fa-info-circle","me-2"],[1,"text-muted"],[3,"value"],[1,"d-flex","align-items-center"],[1,"fas","fa-user-tag","text-primary","me-2"],[1,"fw-bold"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-save","me-2"]],template:function(e,o){if(e&1&&(r(0,"div",0)(1,"h4",1),s(2),a(3,"translate"),a(4,"translate"),n(),r(5,"button",2),h("click",function(){return o.closeModal()}),r(6,"span",3),s(7,"\xD7"),n()()(),r(8,"div",4)(9,"form",5),h("ngSubmit",function(){return o.onSubmit()}),r(10,"div",6)(11,"div",7)(12,"label",8),s(13),a(14,"translate"),r(15,"span",9),s(16,"*"),n()(),v(17,"input",10),a(18,"translate"),f(19,vt,3,2,"div",11),n(),r(20,"div",7)(21,"label",8),s(22),a(23,"translate"),r(24,"span",9),s(25,"*"),n()(),v(26,"input",12),a(27,"translate"),f(28,gt,3,2,"div",11),n(),r(29,"div",13)(30,"label",8),s(31),a(32,"translate"),r(33,"span",9),s(34,"*"),n()(),v(35,"input",14),a(36,"translate"),f(37,xt,3,2,"div",11),n(),f(38,yt,9,11,"div",15)(39,Bt,9,11,"div",15)(40,Rt,5,3,"div",16)(41,Nt,10,14,"div",15)(42,$t,10,14,"div",15),r(43,"div",7)(44,"label",8),s(45),a(46,"translate"),r(47,"span",9),s(48,"*"),n()(),r(49,"select",17)(50,"option",18),s(51),a(52,"translate"),n(),r(53,"option",19),s(54),a(55,"translate"),n(),r(56,"option",20),s(57),a(58,"translate"),n()(),f(59,Ot,2,1,"div",11),n(),r(60,"div",7)(61,"label",8),s(62),a(63,"translate"),r(64,"span",9),s(65,"*"),n()(),r(66,"ng-select",21),a(67,"translate"),a(68,"async"),f(69,At,8,3,"ng-option",22),a(70,"async"),n(),f(71,Pt,2,1,"div",11),n()(),f(72,jt,1,1),a(73,"async"),n()(),r(74,"div",23)(75,"button",24),h("click",function(){return o.closeModal()}),v(76,"i",25),s(77),a(78,"translate"),n(),r(79,"button",26),a(80,"async"),h("click",function(){return o.onSubmit()}),f(81,qt,1,0,"span",27),a(82,"async"),f(83,Gt,1,0,"i",28),a(84,"async"),s(85),a(86,"translate"),a(87,"translate"),n()()),e&2){let d;t(2),c(o.isEditMode?l(3,55,"UpdateUser"):l(4,57,"CreateUser")),t(7),m("formGroup",o.userForm),t(4),u("",l(14,59,"FirstName")," "),t(4),S("is-invalid",(o.firstNameCtrl==null?null:o.firstNameCtrl.invalid)&&(o.firstNameCtrl==null?null:o.firstNameCtrl.touched))("is-valid",o.firstNameCtrl==null?null:o.firstNameCtrl.valid),x("placeholder",l(18,61,"EnterFirstName")),t(2),m("ngIf",(o.firstNameCtrl==null?null:o.firstNameCtrl.invalid)&&(o.firstNameCtrl==null?null:o.firstNameCtrl.touched)),t(3),u("",l(23,63,"LastName")," "),t(4),S("is-invalid",(o.lastNameCtrl==null?null:o.lastNameCtrl.invalid)&&(o.lastNameCtrl==null?null:o.lastNameCtrl.touched))("is-valid",o.lastNameCtrl==null?null:o.lastNameCtrl.valid),x("placeholder",l(27,65,"EnterLastName")),t(2),m("ngIf",(o.lastNameCtrl==null?null:o.lastNameCtrl.invalid)&&(o.lastNameCtrl==null?null:o.lastNameCtrl.touched)),t(3),u("",l(32,67,"Email")," "),t(4),S("is-invalid",(o.emailCtrl==null?null:o.emailCtrl.invalid)&&(o.emailCtrl==null?null:o.emailCtrl.touched))("is-valid",o.emailCtrl==null?null:o.emailCtrl.valid),x("placeholder",l(36,69,"EnterEmail")),t(2),m("ngIf",(o.emailCtrl==null?null:o.emailCtrl.invalid)&&(o.emailCtrl==null?null:o.emailCtrl.touched)),t(),m("ngIf",!o.isEditMode),t(),m("ngIf",!o.isEditMode),t(),m("ngIf",o.isEditMode),t(),m("ngIf",o.isEditMode),t(),m("ngIf",o.isEditMode),t(3),u("",l(46,71,"UserType")," "),t(4),S("is-invalid",(o.isAdminCtrl==null?null:o.isAdminCtrl.invalid)&&(o.isAdminCtrl==null?null:o.isAdminCtrl.touched))("is-valid",o.isAdminCtrl==null?null:o.isAdminCtrl.valid),t(2),c(l(52,73,"SelectUserType")),t(3),c(l(55,75,"Administrator")),t(3),c(l(58,77,"RegularUser")),t(2),m("ngIf",(o.isAdminCtrl==null?null:o.isAdminCtrl.invalid)&&(o.isAdminCtrl==null?null:o.isAdminCtrl.touched)),t(3),u("",l(63,79,"Role")," "),t(4),S("is-invalid",(o.roleCtrl==null?null:o.roleCtrl.invalid)&&(o.roleCtrl==null?null:o.roleCtrl.touched))("is-valid",o.roleCtrl==null?null:o.roleCtrl.valid),x("placeholder",l(67,81,"SelectRole")),m("items",l(68,83,o.roles$))("closeOnSelect",!0)("searchable",!0)("clearable",!0),t(3),m("ngForOf",l(70,85,o.roles$)),t(2),m("ngIf",(o.roleCtrl==null?null:o.roleCtrl.invalid)&&(o.roleCtrl==null?null:o.roleCtrl.touched)),t(),ge((d=l(73,87,o.error$))?72:-1,d),t(5),u(" ",l(78,89,"Cancel")," "),t(2),m("disabled",l(80,91,o.loading$)||o.userForm.invalid),t(2),m("ngIf",l(82,93,o.loading$)),t(2),m("ngIf",!l(84,95,o.loading$)),t(2),u(" ",o.userId?l(86,97,"UpdateUser"):l(87,99,"CreateUser")," ")}},dependencies:[P,V,Le,oe,se,ne,le,ae,Oe,Ve,je,We,Qe,j,H],encapsulation:2})};var me=class i{constructor(p,e,o){this.templateRef=p;this.viewContainer=e;this.roleService=o}destroy$=new $;requiredRole=null;set hasRole(p){this.requiredRole=p,this.updateView()}ngOnInit(){this.roleService.currentUserRoles$.pipe(O(this.destroy$)).subscribe(()=>{this.updateView()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateView(){this.viewContainer.clear(),this.requiredRole&&this.roleService.hasRole(this.requiredRole)&&this.viewContainer.createEmbeddedView(this.templateRef)}static \u0275fac=function(e){return new(e||i)(g(X),g(Y),g(J))};static \u0275dir=ee({type:i,selectors:[["","hasRole",""]],inputs:{hasRole:"hasRole"}})};var ce=class i{constructor(p,e,o){this.templateRef=p;this.viewContainer=e;this.roleService=o}destroy$=new $;forbiddenRole=null;set cannotAccess(p){this.forbiddenRole=p,this.updateView()}ngOnInit(){this.roleService.currentUserRoles$.pipe(O(this.destroy$)).subscribe(()=>{this.updateView()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateView(){this.viewContainer.clear(),this.forbiddenRole&&!this.roleService.hasRole(this.forbiddenRole)&&this.viewContainer.createEmbeddedView(this.templateRef)}static \u0275fac=function(e){return new(e||i)(g(X),g(Y),g(J))};static \u0275dir=ee({type:i,selectors:[["","cannotAccess",""]],inputs:{cannotAccess:"cannotAccess"}})};var Kt=()=>[5,10,25,50];function Qt(i,p){if(i&1){let e=T();r(0,"button",45),h("click",function(){y(e);let d=C();return E(d.openCreateModal())}),v(1,"i",46),s(2),a(3,"translate"),n()}i&2&&(t(2),u(" ",l(3,1,"CreateUser")," "))}function Wt(i,p){i&1&&(r(0,"div",47)(1,"small"),v(2,"i",48),s(3),a(4,"translate"),n()()),i&2&&(t(3),u(" ",l(4,1,"SuperAdminOnlyMessage")," "))}function Xt(i,p){if(i&1&&(r(0,"option",49),s(1),n()),i&2){let e=p.$implicit;m("value",e.id),t(),u(" ",e.name," ")}}function Yt(i,p){i&1&&(r(0,"tr")(1,"td",50)(2,"div",51)(3,"span",52),s(4),a(5,"translate"),n()(),r(6,"span",53),s(7),a(8,"translate"),n()()()),i&2&&(t(4),u("",l(5,2,"Loading"),"..."),t(3),u("",l(8,4,"Loading"),"..."))}function Zt(i,p){i&1&&(r(0,"tr")(1,"td",50),v(2,"i",54),r(3,"p",55),s(4),a(5,"translate"),n()()()),i&2&&(t(4),c(l(5,1,"NoUsersFound")))}function ei(i,p){i&1&&(r(0,"div",70),v(1,"i",71),s(2),a(3,"translate"),n()),i&2&&(t(2),u(" ",l(3,1,"Verified")," "))}function ti(i,p){i&1&&(r(0,"div",72),v(1,"i",73),s(2),a(3,"translate"),n()),i&2&&(t(2),u(" ",l(3,1,"NotVerified")," "))}function ii(i,p){if(i&1&&(r(0,"span",74),s(1),n()),i&2){let e=p.$implicit;t(),u(" ",e.name," ")}}function ri(i,p){i&1&&(r(0,"span",75),s(1),a(2,"translate"),n()),i&2&&(t(),u(" ",l(2,1,"NoRoles")," "))}function ni(i,p){if(i&1){let e=T();r(0,"tr",56),h("click",function(){let d=y(e).$implicit,_=C();return E(_.goToDetail(d))}),r(1,"td",57)(2,"div",4)(3,"div",58),v(4,"i",59),n(),r(5,"div")(6,"span",60),s(7),n()()()(),r(8,"td",57)(9,"span",61),s(10),n(),f(11,ei,4,3,"div",62)(12,ti,4,3,"div",63),n(),r(13,"td",57)(14,"div",64),f(15,ii,2,1,"span",65)(16,ri,3,3,"span",66),n()(),r(17,"td",57)(18,"span"),s(19),a(20,"translate"),a(21,"translate"),n()(),r(22,"td",57)(23,"span",60),s(24),a(25,"date"),n()(),r(26,"td",57)(27,"div",4)(28,"button",67),a(29,"translate"),h("click",function(d){let _=y(e).$implicit;return C().goToDetail(_),E(d.stopPropagation())}),v(30,"i",68),n(),r(31,"button",67),a(32,"translate"),h("click",function(d){let _=y(e).$implicit;return C().goToEdit(_),E(d.stopPropagation())}),v(33,"i",69),n()()()()}if(i&2){let e=p.$implicit;t(7),L(" ",e.first_name," ",e.last_name," "),t(3),c(e.email),t(),m("ngIf",e.email_verified_at),t(),m("ngIf",!e.email_verified_at),t(3),m("ngForOf",e.roles),t(),m("ngIf",(e.roles==null?null:e.roles.length)===0),t(2),w(e.is_admin?"badge badge-sm bg-gradient-success":"badge badge-sm bg-gradient-info"),t(),u(" ",e.is_admin?l(20,13,"Admin"):l(21,15,"User")," "),t(5),u(" ",B(25,17,e.created_at,"short")," "),t(4),x("title",l(29,20,"ViewDetails")),t(3),x("title",l(32,22,"Edit"))}}function ai(i,p){if(i&1){let e=T();r(0,"div",76)(1,"div",77)(2,"div",78)(3,"div",4)(4,"span",79),s(5),a(6,"translate"),a(7,"async"),a(8,"translate"),a(9,"async"),a(10,"translate"),a(11,"async"),a(12,"translate"),n()()(),r(13,"div",78)(14,"mat-paginator",80,0),h("page",function(d){y(e);let _=C();return E(_.pageEvent=_.pageChange(d))}),n()()()()}if(i&2){let e,o=C();t(5),Re(" ",l(6,11,"Showing")," ",((e=l(7,13,o.paginateData$))==null?null:e.current_page)||0," ",l(8,15,"to")," ",((e=l(9,17,o.paginateData$))==null?null:e.per_page)||0," ",l(10,19,"of")," ",((e=l(11,21,o.paginateData$))==null?null:e.total)||0," ",l(12,23,"entries")," "),t(9),m("length",o.totaElement)("pageSize",o.itemsPerPage)("pageSizeOptions",Fe(25,Kt))("showFirstLastButtons",!0)}}var ue=class i extends F{constructor(e,o,d,_,b,D,vi){super();this.languageService=e;this.userService=o;this.modalService=d;this.router=_;this.route=b;this.formBuilder=D;this.roleService=vi}loading$;itemsPerPage=10;paginateData$;paginateData;totaElement=0;pageEvent;searchCtrl;roleCtrl;statusCtrl;users$;roles$;currentSortBy="created_at";sortDirection="desc";userRole=he;ngOnInit(){this.loading$=this.userService.loading$,this.users$=this.userService.users$,this.roles$=this.userService.roles$,this.paginateData$=this.userService.paginateData$,this.initFormControls(),this.setupFilterSubscriptions(),this.loadInitialData()}initFormControls(){this.searchCtrl=this.formBuilder.control(""),this.roleCtrl=this.formBuilder.control(""),this.statusCtrl=this.formBuilder.control("")}setupFilterSubscriptions(){this.searchCtrl.valueChanges.pipe(ye(300),Ee()).subscribe(()=>{this.applyFilters()}),this.roleCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.statusCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.paginateData$.subscribe(e=>{this.paginateData=e,this.totaElement=e.total??0})}loadInitialData(){this.userService.getUserFromServer(),this.applyFilters()}getSearchOptions(){let e=[];return this.searchCtrl.value&&e.push(Je(this.searchCtrl.value)),this.roleCtrl.value&&e.push(Q("role_id",this.roleCtrl.value)),this.statusCtrl.value!==""&&e.push(Q("is_admin",this.statusCtrl.value)),e.push(Q("sort_by",this.currentSortBy)),e.push(Q("sort_direction",this.sortDirection)),e}applyFilters(){this.paginateData.current_page=1,this.userService.getUserFromServer(this.paginateData,this.getSearchOptions())}pageChange(e){return this.paginateData.current_page=e.pageIndex+1,this.paginateData.per_page=e.pageSize,this.userService.getUserFromServer(this.paginateData,this.getSearchOptions()),e}sortBy(e){this.currentSortBy===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=e,this.sortDirection="desc"),this.applyFilters()}getSortIcon(e){return this.currentSortBy!==e?"fas fa-sort text-secondary":this.sortDirection==="asc"?"fas fa-sort-up text-primary":"fas fa-sort-down text-primary"}trackByUserId(e,o){return o.id}openCreateModal(){this.modalService.open(M,{size:"lg",backdrop:"static",keyboard:!1}).result.then(()=>{this.applyFilters()}).catch(()=>{})}openEditModal(e){let o=this.modalService.open(M,{size:"lg",backdrop:"static",keyboard:!1});o.componentInstance.userToEdit=e,o.result.then(()=>{this.applyFilters()}).catch(()=>{})}goToDetail(e){this.router.navigate(["/admin/users/detail",e.id])}goToEdit(e){this.openEditModal(e)}resetFilters(){this.searchCtrl.setValue(""),this.roleCtrl.setValue(""),this.statusCtrl.setValue(""),this.applyFilters()}static \u0275fac=function(o){return new(o||i)(g(z),g(I),g(de),g(R),g(q),g(pe),g(J))};static \u0275cmp=A({type:i,selectors:[["app-list-user"]],standalone:!1,features:[te],decls:121,vars:98,consts:[["paginator",""],["nameOption","Users"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],["class","btn btn-primary btn-sm mb-0",3,"click",4,"hasRole"],["class","alert alert-info py-2 px-3 mb-0",4,"cannotAccess"],[1,"col-12"],[1,"card"],[1,"card-body","p-3"],[1,"row","align-items-center"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group","mb-0"],[1,"form-label","text-xs"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"col-lg-3","col-md-6","col-12"],[1,"form-select",3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","1"],["value","0"],[1,"col-lg-2","col-md-6","col-12"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"fas","fa-sync-alt","me-2"],[1,"row"],[1,"card-header","pb-0"],[1,"d-lg-flex"],[1,"mb-0"],[1,"text-sm","mb-0"],[1,"card-body","px-0","pb-0"],[1,"table-responsive"],["id","users-list",1,"table","table-flush"],[1,"thead-light"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"btn","btn-sm","p-0","text-secondary",3,"click"],[4,"ngIf"],["class","cursor-pointer hover-shadow",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","card-footer",4,"ngIf"],[1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-plus","me-2"],[1,"alert","alert-info","py-2","px-3","mb-0"],[1,"fas","fa-info-circle","me-1"],[3,"value"],["colspan","6",1,"text-center","py-4"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"visually-hidden"],[1,"ms-2"],[1,"fas","fa-users","fa-3x","text-secondary","mb-3"],[1,"text-secondary","mb-0"],[1,"cursor-pointer","hover-shadow",3,"click"],[1,"text-sm"],[1,"avatar","avatar-sm","bg-gradient-primary","rounded-circle","me-3"],[1,"fas","fa-user","text-white"],[1,"text-dark","font-weight-bold"],[1,"text-dark"],["class","text-xs text-success",4,"ngIf"],["class","text-xs text-warning",4,"ngIf"],[1,"d-flex","flex-wrap"],["class","badge bg-gradient-info me-1 mb-1",4,"ngFor","ngForOf"],["class","text-muted",4,"ngIf"],[1,"btn","btn-link","text-secondary","ps-1","pe-1","mb-0",3,"click","title"],[1,"fas","fa-eye","text-xs"],[1,"fas","fa-edit","text-xs"],[1,"text-xs","text-success"],[1,"fas","fa-check-circle","me-1"],[1,"text-xs","text-warning"],[1,"fas","fa-exclamation-circle","me-1"],[1,"badge","bg-gradient-info","me-1","mb-1"],[1,"text-muted"],[1,"card-footer"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"text-sm","text-secondary"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(o,d){if(o&1&&(r(0,"app-base",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),s(5),a(6,"translate"),n(),r(7,"span",6),s(8),a(9,"async"),a(10,"translate"),n()(),r(11,"p",7),s(12),a(13,"translate"),n()(),r(14,"div",8),f(15,Qt,4,3,"button",9)(16,Wt,5,3,"div",10),n()(),r(17,"div",2)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"label",17),s(25),a(26,"translate"),n(),r(27,"div",18)(28,"span",19),v(29,"i",20),n(),v(30,"input",21),a(31,"translate"),n()()(),r(32,"div",22)(33,"div",16)(34,"label",17),s(35),a(36,"translate"),n(),r(37,"select",23)(38,"option",24),s(39),a(40,"translate"),n(),f(41,Xt,2,2,"option",25),a(42,"async"),n()()(),r(43,"div",22)(44,"div",16)(45,"label",17),s(46),a(47,"translate"),n(),r(48,"select",23)(49,"option",24),s(50),a(51,"translate"),n(),r(52,"option",26),s(53),a(54,"translate"),n(),r(55,"option",27),s(56),a(57,"translate"),n()()()(),r(58,"div",28)(59,"div",16)(60,"label",17),s(61,"\xA0"),n(),r(62,"button",29),h("click",function(){return d.resetFilters()}),v(63,"i",30),s(64),a(65,"translate"),n()()()()()()()(),r(66,"div",31)(67,"div",11)(68,"div",12)(69,"div",32)(70,"div",33)(71,"div")(72,"h5",34),s(73),a(74,"translate"),n(),r(75,"p",35),s(76),a(77,"translate"),n()()()(),r(78,"div",36)(79,"div",37)(80,"table",38)(81,"thead",39)(82,"tr")(83,"th",40)(84,"button",41),h("click",function(){return d.sortBy("first_name")}),s(85),a(86,"translate"),v(87,"i"),n()(),r(88,"th",40)(89,"button",41),h("click",function(){return d.sortBy("email")}),s(90),a(91,"translate"),v(92,"i"),n()(),r(93,"th",40),s(94),a(95,"translate"),n(),r(96,"th",40)(97,"button",41),h("click",function(){return d.sortBy("is_admin")}),s(98),a(99,"translate"),v(100,"i"),n()(),r(101,"th",40)(102,"button",41),h("click",function(){return d.sortBy("created_at")}),s(103),a(104,"translate"),v(105,"i"),n()(),r(106,"th",40),s(107),a(108,"translate"),n()()(),r(109,"tbody"),f(110,Yt,9,6,"tr",42),a(111,"async"),f(112,Zt,6,3,"tr",42),a(113,"async"),a(114,"async"),f(115,ni,34,24,"tr",43),a(116,"async"),n()()()(),f(117,ai,16,26,"div",44),a(118,"async"),a(119,"async"),a(120,"async"),n()()()()),o&2){let _,b;t(5),c(l(6,40,"Users")),t(3),L("",((_=l(9,42,d.users$))==null?null:_.length)||0," ",l(10,44,"items"),""),t(4),c(l(13,46,"ManageSystemUsers")),t(3),m("hasRole",d.userRole.SUPER_ADMIN),t(),m("cannotAccess",d.userRole.SUPER_ADMIN),t(9),c(l(26,48,"Search")),t(5),x("placeholder",l(31,50,"SearchByNameOrEmail")),m("formControl",d.searchCtrl),t(5),c(l(36,52,"Role")),t(2),m("formControl",d.roleCtrl),t(2),c(l(40,54,"All")),t(2),m("ngForOf",l(42,56,d.roles$)),t(5),c(l(47,58,"Status")),t(2),m("formControl",d.statusCtrl),t(2),c(l(51,60,"All")),t(3),c(l(54,62,"Admin")),t(3),c(l(57,64,"User")),t(8),u(" ",l(65,66,"Reset")," "),t(9),c(l(74,68,"UsersList")),t(3),c(l(77,70,"ViewAllSystemUsers")),t(9),u(" ",l(86,72,"Name")," "),t(2),w(d.getSortIcon("first_name")),t(3),u(" ",l(91,74,"Email")," "),t(2),w(d.getSortIcon("email")),t(2),u(" ",l(95,76,"Roles")," "),t(4),u(" ",l(99,78,"Status")," "),t(2),w(d.getSortIcon("is_admin")),t(3),u(" ",l(104,80,"CreatedAt")," "),t(2),w(d.getSortIcon("created_at")),t(2),u(" ",l(108,82,"Actions")," "),t(3),m("ngIf",l(111,84,d.loading$)),t(2),m("ngIf",!l(113,86,d.loading$)&&((b=l(114,88,d.users$))==null?null:b.length)===0),t(3),m("ngForOf",l(116,90,d.users$))("ngForTrackBy",d.trackByUserId),t(2),m("ngIf",!l(118,92,d.loading$)&&l(119,94,d.users$)&&l(120,96,d.users$).length>0)}},dependencies:[P,V,oe,se,ne,le,ae,Pe,F,Ye,me,ce,j,ie,H],encapsulation:2})};function li(i,p){if(i&1){let e=T();r(0,"button",11),h("click",function(){y(e);let d=C();return E(d.goToEdit())}),v(1,"i",12),s(2),a(3,"translate"),n()}i&2&&(t(2),u(" ",l(3,1,"EditUser")," "))}function oi(i,p){i&1&&(r(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17)(5,"span",18),s(6),a(7,"translate"),n()(),r(8,"p",19),s(9),a(10,"translate"),n()()()()()),i&2&&(t(6),u("",l(7,2,"Loading"),"..."),t(3),c(l(10,4,"LoadingUserDetails")))}function si(i,p){if(i&1){let e=T();r(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16),v(4,"i",20),r(5,"h5",21),s(6),a(7,"translate"),n(),r(8,"p",22),s(9),a(10,"translate"),n(),r(11,"button",23),h("click",function(){y(e);let d=C();return E(d.goBack())}),v(12,"i",24),s(13),a(14,"translate"),n()()()()()}i&2&&(t(6),c(l(7,3,"UserNotFound")),t(3),c(l(10,5,"UserNotFoundMessage")),t(4),u(" ",l(14,7,"BackToUsers")," "))}function pi(i,p){if(i&1&&(r(0,"div",58)(1,"div",59)(2,"div",60)(3,"div",3)(4,"div",61),v(5,"i",62),n(),r(6,"div")(7,"h6",28),s(8),n(),r(9,"p",49),s(10),n()()(),r(11,"div",63)(12,"small",22),s(13),a(14,"translate"),a(15,"date"),n()()()()()),i&2){let e=p.$implicit;t(8),c(e.name),t(2),c(e.guard_name),t(3),L(" ",l(14,4,"CreatedAt"),": ",B(15,6,e.created_at,"short")," ")}}function di(i,p){if(i&1&&(r(0,"div",56),f(1,pi,16,9,"div",57),n()),i&2){let e=C(2);t(),m("ngForOf",e.user.roles)}}function mi(i,p){i&1&&(r(0,"div",64),v(1,"i",65),r(2,"p",66),s(3),a(4,"translate"),n()()),i&2&&(t(3),c(l(4,1,"NoRolesAssigned")))}function ci(i,p){if(i&1&&(r(0,"div",13)(1,"div",25)(2,"div",26)(3,"div",27)(4,"h6",28),s(5),a(6,"translate"),n()(),r(7,"div",29)(8,"div",30)(9,"div",31),v(10,"i",32),n(),r(11,"h5",28),s(12),n(),r(13,"span"),s(14),a(15,"translate"),n()(),r(16,"div",33)(17,"span",34),s(18),a(19,"translate"),n(),r(20,"span",35),s(21),n()(),r(22,"div",33)(23,"span",34),s(24),a(25,"translate"),n(),r(26,"span",36),v(27,"i",37),s(28),a(29,"translate"),n()(),r(30,"div",33)(31,"span",34),s(32),a(33,"translate"),n(),r(34,"span",35),s(35),a(36,"translate"),a(37,"translate"),n()(),r(38,"div",38)(39,"span",34),s(40),a(41,"translate"),n(),r(42,"span",35),s(43),a(44,"date"),n()()()()(),r(45,"div",39)(46,"div",26)(47,"div",27)(48,"h6",28),s(49),a(50,"translate"),n()(),r(51,"div",29)(52,"div",13)(53,"div",14)(54,"h6",40),s(55),a(56,"translate"),n(),f(57,di,2,1,"div",41)(58,mi,5,3,"div",42),n()()()()(),r(59,"div",43)(60,"div",15)(61,"div",27)(62,"h6",28),s(63),a(64,"translate"),n()(),r(65,"div",29)(66,"div",13)(67,"div",44)(68,"div",45)(69,"div",46)(70,"div",47),v(71,"i",48),n(),r(72,"h6",28),s(73),a(74,"date"),n(),r(75,"p",49),s(76),a(77,"translate"),n()()()(),r(78,"div",44)(79,"div",45)(80,"div",46)(81,"div",50),v(82,"i",51),n(),r(83,"h6",28),s(84),a(85,"date"),n(),r(86,"p",49),s(87),a(88,"translate"),n()()()(),r(89,"div",44)(90,"div",45)(91,"div",46)(92,"div",52),v(93,"i",53),n(),r(94,"h6",28),s(95),a(96,"date"),a(97,"translate"),n(),r(98,"p",49),s(99),a(100,"translate"),n()()()(),r(101,"div",44)(102,"div",45)(103,"div",46)(104,"div",54),v(105,"i",55),n(),r(106,"h6",28),s(107),n(),r(108,"p",49),s(109),a(110,"translate"),n()()()()()()()()()),i&2){let e=C();t(5),c(l(6,29,"BasicInformation")),t(7),L("",e.user.first_name," ",e.user.last_name,""),t(),w(e.getStatusClass()),t(),c(l(15,31,e.getStatusLabel())),t(4),u("",l(19,33,"Email"),":"),t(3),c(e.user.email),t(3),u("",l(25,35,"EmailStatus"),":"),t(2),w(e.getVerificationClass()),t(2),u(" ",l(29,37,e.getVerificationStatus())," "),t(4),u("",l(33,39,"UserType"),":"),t(3),u(" ",e.user.is_admin?l(36,41,"Administrator"):l(37,43,"User")," "),t(5),u("",l(41,45,"MemberSince"),":"),t(3),c(B(44,47,e.user.created_at,"mediumDate")),t(6),c(l(50,50,"RolesAndPermissions")),t(6),c(l(56,52,"AssignedRoles")),t(2),m("ngIf",e.user.roles&&e.user.roles.length>0),t(),m("ngIf",!e.user.roles||e.user.roles.length===0),t(5),c(l(64,54,"AccountActivity")),t(10),c(B(74,56,e.user.created_at,"mediumDate")),t(3),c(l(77,59,"AccountCreated")),t(8),c(B(85,61,e.user.updated_at,"mediumDate")),t(3),c(l(88,64,"LastUpdated")),t(8),u(" ",e.user.email_verified_at?B(96,66,e.user.email_verified_at,"mediumDate"):l(97,69,"NotVerified")," "),t(4),c(l(100,71,"EmailVerified")),t(8),c(e.user.roles.length||0),t(2),c(l(110,73,"AssignedRoles"))}}var ve=class i extends F{constructor(e,o,d,_,b){super();this.route=e;this.router=o;this.userService=d;this.modalService=_;this.translateService=b;this.loading$=this.userService.loading$,this.error$=this.userService.error$}destroy$=new $;user=null;loading$;error$;userId=null;ngOnInit(){this.userId=this.route.snapshot.paramMap.get("id"),this.userId&&this.loadUserDetail()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}goToEdit(){let e=this.modalService.open(M,{size:"lg",backdrop:"static",keyboard:!1});e.componentInstance.userToEdit=this.user,e.result.then(()=>{this.loadUserDetail()}).catch(()=>{})}loadUserDetail(){this.userId&&this.userService.getUserDetail(this.userId).pipe(O(this.destroy$)).subscribe(e=>{this.user=e})}goBack(){this.router.navigate(["/admin/users"])}getStatusLabel(){return this.user?this.user.is_admin?"Administrator":"Regular User":""}getStatusClass(){return this.user?this.user.is_admin?"badge bg-gradient-success":"badge bg-gradient-info":""}getVerificationStatus(){return this.user?this.user.email_verified_at?"Verified":"Not Verified":""}getVerificationClass(){return this.user?this.user.email_verified_at?"text-success":"text-warning":""}static \u0275fac=function(o){return new(o||i)(g(q),g(R),g(I),g(de),g(Me))};static \u0275cmp=A({type:i,selectors:[["app-detail-user"]],standalone:!1,features:[te],decls:21,vars:16,consts:[["nameOption","UserDetail"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"btn","btn-link","text-dark","p-0","me-3",3,"click"],[1,"fas","fa-arrow-left","fa-lg"],[1,"mb-0","text-dark"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],["class","btn btn-primary btn-sm mb-0",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-edit","me-2"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body","text-center","py-5"],["role","status",1,"spinner-border","spinner-border-lg","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-secondary"],[1,"fas","fa-user-slash","fa-3x","text-secondary","mb-3"],[1,"text-secondary"],[1,"text-muted"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-arrow-left","me-2"],[1,"col-xl-4","col-lg-5","col-md-6","col-12","mb-4"],[1,"card","h-100"],[1,"card-header","pb-0"],[1,"mb-0"],[1,"card-body"],[1,"text-center","mb-4"],[1,"avatar","avatar-xl","bg-gradient-primary","rounded-circle","mx-auto","mb-3"],[1,"fas","fa-user","fa-2x","text-white"],[1,"d-flex","justify-content-between","border-bottom","py-2"],[1,"text-sm","text-secondary"],[1,"text-sm","font-weight-bold"],[1,"text-sm"],[1,"fas","fa-circle","me-1",2,"font-size","8px"],[1,"d-flex","justify-content-between","py-2"],[1,"col-xl-8","col-lg-7","col-md-6","col-12","mb-4"],[1,"text-sm","text-uppercase","text-secondary","mb-3"],["class","d-flex flex-wrap",4,"ngIf"],["class","text-center py-4",4,"ngIf"],[1,"col-12","mb-4"],[1,"col-lg-3","col-md-6","col-12"],[1,"card","border","mb-3"],[1,"card-body","text-center","p-3"],[1,"avatar","avatar-sm","bg-gradient-primary","rounded-circle","mx-auto","mb-2"],[1,"fas","fa-calendar-plus","text-white"],[1,"text-xs","text-secondary","mb-0"],[1,"avatar","avatar-sm","bg-gradient-info","rounded-circle","mx-auto","mb-2"],[1,"fas","fa-sync","text-white"],[1,"avatar","avatar-sm","bg-gradient-success","rounded-circle","mx-auto","mb-2"],[1,"fas","fa-check-circle","text-white"],[1,"avatar","avatar-sm","bg-gradient-warning","rounded-circle","mx-auto","mb-2"],[1,"fas","fa-shield-alt","text-white"],[1,"d-flex","flex-wrap"],["class","me-3 mb-3",4,"ngFor","ngForOf"],[1,"me-3","mb-3"],[1,"card","border"],[1,"card-body","p-3"],[1,"avatar","avatar-sm","bg-gradient-info","rounded-circle","me-3"],[1,"fas","fa-user-tag","text-white"],[1,"mt-2"],[1,"text-center","py-4"],[1,"fas","fa-user-times","fa-2x","text-secondary","mb-3"],[1,"text-secondary","mb-0"]],template:function(o,d){o&1&&(r(0,"app-base",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),h("click",function(){return d.goBack()}),v(5,"i",5),n(),r(6,"div")(7,"h4",6),s(8),a(9,"translate"),n(),r(10,"p",7),s(11),a(12,"translate"),n()()()(),r(13,"div",8),f(14,li,4,3,"button",9),n()(),f(15,oi,11,6,"div",10),a(16,"async"),f(17,si,15,9,"div",10),a(18,"async"),f(19,ci,111,75,"div",10),a(20,"async"),n()),o&2&&(t(8),c(l(9,6,"UserDetails")),t(3),c(l(12,8,"ViewUserInformation")),t(3),m("ngIf",d.user),t(),m("ngIf",l(16,10,d.loading$)),t(2),m("ngIf",!l(18,12,d.loading$)&&!d.user),t(2),m("ngIf",!l(20,14,d.loading$)&&d.user))},dependencies:[P,V,F,j,ie,H],encapsulation:2})};var ui=[{path:"",component:ue,canActivate:[xe],data:{roles:["SuperAdmin"]}},{path:"detail/:id",component:ve,canActivate:[xe],data:{roles:["SuperAdmin"]}}],fe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=Z({type:i});static \u0275inj=W({imports:[Ce.forChild(ui),Ce]})};var pt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=Z({type:i});static \u0275inj=W({providers:[z,I],imports:[Te,qe,Ge,fe,tt,Ze,et,it,De.forRoot({loader:{provide:Ne,useFactory:rt,deps:[re]}}),Xe,He]})};export{pt as UsersModule};
