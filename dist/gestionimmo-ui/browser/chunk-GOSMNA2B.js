import{a as tt,c as Ui,d as P}from"./chunk-OFVNMPPK.js";import{a as je,b as H,c as et,d as se,e as B,g as Ge,h as qe,i as Rt,j as Ue,k as Hi}from"./chunk-DE55SL3I.js";import{$ as M,$a as Se,A as Pt,Aa as Le,Ab as Bi,Ba as F,Bc as V,C as ut,Cb as L,Cc as Nt,Da as At,Db as Fi,Dc as ji,E as Pe,Ea as Y,Eb as D,Ec as zi,F as ft,Fa as U,Fc as Re,Ga as K,Gc as Gi,H as ge,Ha as He,Ia as a,Ic as it,Ja as u,Jc as ze,Ka as d,Kb as Oi,Kc as qi,L as li,La as I,Lc as St,M as x,Ma as le,Mb as wi,Mc as Ki,N as y,Nc as Qi,O as si,Oa as vi,Oc as Yi,P as mi,Pa as bi,Pb as $t,Pc as Xi,Q as ht,Qa as _i,Qb as Mi,R as ci,Ra as xi,Rb as Ti,Rc as Wi,S as W,Sa as vt,Sb as Di,Sc as Zi,T as pi,Ta as J,U as ot,Ua as lt,V as di,Va as yi,Vb as Pi,Wa as Ci,X as t,Xa as r,Ya as s,Yb as Ai,Z as C,Za as j,aa as Ae,ab as Lt,ba as gt,bb as Si,ca as Z,cb as bt,cc as yt,da as g,db as Ve,eb as Ei,ec as z,f as ei,fa as Ke,fc as Li,g as re,ga as h,gc as A,ha as w,hb as _t,hc as R,ia as O,ib as ve,ic as be,j as ti,ja as Xe,jb as ee,k as dt,kc as Vi,l as ii,la as E,lb as T,ma as ui,mc as _e,na as rt,nb as X,nc as $i,o as ni,oa as $,oc as te,pa as N,pb as xt,pc as xe,qa as n,qc as ye,ra as i,rb as Ii,rc as ie,s as fe,sa as p,sc as ne,t as ai,ta as fi,tb as ki,tc as ae,u as oi,ua as hi,ub as Ze,uc as Ni,v as he,va as k,vb as $e,vc as Ri,wa as gi,wb as Je,wc as G,x as ri,xa as b,xb as Vt,y as Dt,ya as v,yc as Ct,z as De,za as We,zc as Ne}from"./chunk-2VB7ZOXT.js";var Ji=[{name:"CAMEROUN",value:"CM"},{name:"TCHAD",value:"TD"}];var pn=["mat-internal-form-field",""],dn=["*"],en=(()=>{class o{labelPosition;static \u0275fac=function(l){return new(l||o)};static \u0275cmp=M({type:o,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(l,m){l&2&&w("mdc-form-field--align-end",m.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:pn,ngContentSelectors:dn,decls:1,vars:0,template:function(l,m){l&1&&(We(),Le(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return o})();var tn=new Si("19.2.14");var un=["input"],fn=["label"],hn=["*"],gn=new ft("mat-checkbox-default-options",{providedIn:"root",factory:an});function an(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Q=function(o){return o[o.Init=0]="Init",o[o.Checked=1]="Checked",o[o.Unchecked=2]="Unchecked",o[o.Indeterminate=3]="Indeterminate",o}(Q||{}),vn={provide:yt,useExisting:ut(()=>zt),multi:!0},jt=class{source;checked},nn=an(),zt=(()=>{class o{_elementRef=ge(ot);_changeDetectorRef=ge(bt);_ngZone=ge(pi);_animationMode=ge(di,{optional:!0});_options=ge(gn,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let l=new jt;return l.source=this,l.checked=e,l}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new W;indeterminateChange=new W;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Q.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){ge(Oi).load(Ti);let e=ge(new ci("tabindex"),{optional:!0});this._options=this._options||nn,this.color=this._options.color||nn.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=ge(wi).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let l=e!=this._indeterminate;this._indeterminate=e,l&&(this._indeterminate?this._transitionCheckState(Q.Indeterminate):this._transitionCheckState(this.checked?Q.Checked:Q.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let l=this._currentCheckState,m=this._getAnimationTargetElement();if(!(l===e||!m)&&(this._currentAnimationClass&&m.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(l,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){m.classList.add(this._currentAnimationClass);let f=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{m.classList.remove(f)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Q.Checked:Q.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,l){if(this._animationMode==="NoopAnimations")return"";switch(e){case Q.Init:if(l===Q.Checked)return this._animationClasses.uncheckedToChecked;if(l==Q.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Q.Unchecked:return l===Q.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Q.Checked:return l===Q.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Q.Indeterminate:return l===Q.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let l=this._inputElement;l&&(l.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(l){return new(l||o)};static \u0275cmp=M({type:o,selectors:[["mat-checkbox"]],viewQuery:function(l,m){if(l&1&&(Y(un,5),Y(fn,5)),l&2){let f;U(f=K())&&(m._inputElement=f.first),U(f=K())&&(m._labelElement=f.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(l,m){l&2&&(gi("id",m.id),Ke("tabindex",null)("aria-label",null)("aria-labelledby",null),O(m.color?"mat-"+m.color:"mat-accent"),w("_mat-animation-noopable",m._animationMode==="NoopAnimations")("mdc-checkbox--disabled",m.disabled)("mat-mdc-checkbox-disabled",m.disabled)("mat-mdc-checkbox-checked",m.checked)("mat-mdc-checkbox-disabled-interactive",m.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",Ve],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",Ve],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Ve],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Ei(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ve],checked:[2,"checked","checked",Ve],disabled:[2,"disabled","disabled",Ve],indeterminate:[2,"indeterminate","indeterminate",Ve]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[vt([vn,{provide:Li,useExisting:o,multi:!0}]),li],ngContentSelectors:hn,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(l,m){if(l&1){let f=k();We(),n(0,"div",3),b("click",function(S){return x(f),y(m._preventBubblingFromLabel(S))}),n(1,"div",4,0)(3,"div",5),b("click",function(){return x(f),y(m._onTouchTargetClick())}),i(),n(4,"input",6,1),b("blur",function(){return x(f),y(m._onBlur())})("click",function(){return x(f),y(m._onInputClick())})("change",function(S){return x(f),y(m._onInteractionEvent(S))}),i(),p(6,"div",7),n(7,"div",8),si(),n(8,"svg",9),p(9,"path",10),i(),mi(),p(10,"div",11),i(),p(11,"div",12),i(),n(12,"label",13,2),Le(14),i()()}if(l&2){let f=He(2);h("labelPosition",m.labelPosition),t(4),w("mdc-checkbox--selected",m.checked),h("checked",m.checked)("indeterminate",m.indeterminate)("disabled",m.disabled&&!m.disabledInteractive)("id",m.inputId)("required",m.required)("tabIndex",m.disabled&&!m.disabledInteractive?-1:m.tabIndex),Ke("aria-label",m.ariaLabel||null)("aria-labelledby",m.ariaLabelledby)("aria-describedby",m.ariaDescribedby)("aria-checked",m.indeterminate?"mixed":null)("aria-controls",m.ariaControls)("aria-disabled",m.disabled&&m.disabledInteractive?!0:null)("aria-expanded",m.ariaExpanded)("aria-owns",m.ariaOwns)("name",m.name)("value",m.value),t(7),h("matRippleTrigger",f)("matRippleDisabled",m.disableRipple||m.disabled)("matRippleCentered",!0),t(),h("for",m.inputId)}},dependencies:[Mi,en],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return o})();var on=(()=>{class o{get vertical(){return this._vertical}set vertical(e){this._vertical=$t(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=$t(e)}_inset=!1;static \u0275fac=function(l){return new(l||o)};static \u0275cmp=M({type:o,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(l,m){l&2&&(Ke("aria-orientation",m.vertical?"vertical":"horizontal"),w("mat-divider-vertical",m.vertical)("mat-divider-horizontal",!m.vertical)("mat-divider-inset",m.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(l,m){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return o})();var bn=["searchSelectInput"],_n=["innerSelectSearch"],xn=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]],[["","ngxMatSelectNoEntriesFound",""]]],yn=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]","[ngxMatSelectNoEntriesFound]"];function Cn(o,c){if(o&1){let e=k();n(0,"mat-checkbox",10),b("change",function(m){x(e);let f=v();return y(f._emitSelectAllBooleanToParent(m.checked))}),i()}if(o&2){let e=v();h("color",e.matFormField==null?null:e.matFormField.color)("checked",e.toggleAllCheckboxChecked)("indeterminate",e.toggleAllCheckboxIndeterminate)("matTooltip",e.toggleAllCheckboxTooltipMessage)("matTooltipPosition",e.toggleAllCheckboxTooltipPosition)}}function Sn(o,c){o&1&&p(0,"mat-spinner",7)}function En(o,c){o&1&&Le(0,1)}function In(o,c){if(o&1&&p(0,"mat-icon",12),o&2){let e=v(2);h("svgIcon",e.closeSvgIcon)}}function kn(o,c){if(o&1&&(n(0,"mat-icon"),a(1),i()),o&2){let e=v(2);t(),d(" ",e.closeIcon," ")}}function Bn(o,c){if(o&1){let e=k();n(0,"button",11),b("click",function(){x(e);let m=v();return y(m._reset(!0))}),g(1,En,1,0)(2,In,1,1,"mat-icon",12)(3,kn,2,1,"mat-icon"),i()}if(o&2){let e=v();t(),E(e.clearIcon?1:e.closeSvgIcon?2:3)}}function Fn(o,c){o&1&&Le(0,2)}function On(o,c){if(o&1&&a(0),o&2){let e=v(2);d(" ",e.noEntriesFoundLabel," ")}}function wn(o,c){if(o&1&&(n(0,"div",9),g(1,Fn,1,0)(2,On,1,1),i()),o&2){let e=v();t(),E(e.noEntriesFound?1:2)}}var Mn=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275dir=gt({type:o,selectors:[["","ngxMatSelectSearchClear",""]]})}return o})(),Tn=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],Dn=new ft("mat-selectsearch-default-options"),Pn=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275dir=gt({type:o,selectors:[["","ngxMatSelectNoEntriesFound",""]]})}return o})(),An=(()=>{class o{matSelect;changeDetectorRef;_viewportRuler;matOption;matFormField;placeholderLabel="Suche";type="text";closeIcon="close";closeSvgIcon;noEntriesFoundLabel="Keine Optionen gefunden";clearSearchInput=!0;searching=!1;disableInitialFocus=!1;enableClearOnEscapePressed=!1;preventHomeEndKeyPropagation=!1;disableScrollToActiveOnOptionsChanged=!1;ariaLabel="dropdown search";showToggleAllCheckbox=!1;toggleAllCheckboxChecked=!1;toggleAllCheckboxIndeterminate=!1;toggleAllCheckboxTooltipMessage="";toggleAllCheckboxTooltipPosition="below";hideClearSearchButton=!1;alwaysRestoreSelectedOptionsMulti=!1;recreateValuesArray=!1;toggleAll=new W;searchSelectInput;innerSelectSearch;clearIcon;noEntriesFound;get value(){return this._formControl.value}_lastExternalInputValue;onTouched=()=>{};set _options(e){this._options$.next(e)}get _options(){return this._options$.getValue()}_options$=new re(null);optionsList$=this._options$.pipe(Dt(e=>e?e.changes.pipe(dt(l=>l.toArray()),ri(e.toArray())):ti(null)));optionsLength$=this.optionsList$.pipe(dt(e=>e?e.length:0));previousSelectedValues;_formControl=new Vi("",{nonNullable:!0});_showNoEntriesFound$=ii([this._formControl.valueChanges,this.optionsLength$]).pipe(dt(([e,l])=>!!(this.noEntriesFoundLabel&&e&&l===this.getOptionsLengthOffset())));_onDestroy=new ei;activeDescendant;constructor(e,l,m,f,_,S){this.matSelect=e,this.changeDetectorRef=l,this._viewportRuler=m,this.matOption=f,this.matFormField=_,this.applyDefaultOptions(S)}applyDefaultOptions(e){if(e)for(let l of Tn)Object.prototype.hasOwnProperty.call(e,l)&&(this[l]=e[l])}ngOnInit(){this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search"),this.matOption._getHostElement().setAttribute("role","presentation")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe(oi(1),De(this._onDestroy)).subscribe(e=>{e?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe(ai(1),Dt(()=>{this._options=this.matSelect.options;let e=this._options.toArray()[this.getOptionsLengthOffset()];return this._options.changes.pipe(Pt(()=>{setTimeout(()=>{let l=this._options.toArray(),m=l[this.getOptionsLengthOffset()],f=this.matSelect._keyManager;f&&this.matSelect.panelOpen&&m&&((!e||!this.matSelect.compareWith(e.value,m.value)||!f.activeItem||!l.find(S=>this.matSelect.compareWith(S.value,f.activeItem?.value)))&&f.setActiveItem(this.getOptionsLengthOffset()),setTimeout(()=>{this.updateInputWidth()})),e=m})}))})).pipe(De(this._onDestroy)).subscribe(),this._showNoEntriesFound$.pipe(De(this._onDestroy)).subscribe(e=>{this.matOption&&(e?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe(De(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe(De(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(e){this.toggleAll.emit(e)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(e){(e.key&&e.key.length===1||this.preventHomeEndKeyPropagation&&(e.key==="Home"||e.key==="End"))&&e.stopPropagation(),this.matSelect.multiple&&e.key&&e.key==="Enter"&&setTimeout(()=>this._focus()),this.enableClearOnEscapePressed&&e.key==="Escape"&&this.value&&(this._reset(!0),e.stopPropagation())}_handleKeyup(e){if(e.key==="ArrowUp"||e.key==="ArrowDown"){let l=this.matSelect._getAriaActiveDescendant(),m=this._options.toArray().findIndex(f=>f.id===l);m!==-1&&(this.unselectActiveDescendant(),this.activeDescendant=this._options.toArray()[m]._getHostElement(),this.activeDescendant.setAttribute("aria-selected","true"),this.searchSelectInput.nativeElement.setAttribute("aria-activedescendant",l))}}writeValue(e){this._lastExternalInputValue=e,this._formControl.setValue(e),this.changeDetectorRef.markForCheck()}onBlur(){this.unselectActiveDescendant(),this.onTouched()}registerOnChange(e){this._formControl.valueChanges.pipe(ni(l=>l!==this._lastExternalInputValue),Pt(()=>this._lastExternalInputValue=void 0),De(this._onDestroy)).subscribe(e)}registerOnTouched(e){this.onTouched=e}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;let e=this.matSelect.panel.nativeElement,l=e.scrollTop;this.searchSelectInput.nativeElement.focus(),e.scrollTop=l}_reset(e){this._formControl.setValue(""),e&&this._focus()}initMultipleHandling(){if(!this.matSelect.ngControl){this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true");return}this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges&&this.matSelect.ngControl.valueChanges.pipe(De(this._onDestroy)).subscribe(e=>{let l=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!e||!Array.isArray(e))&&(e=[]);let m=this.matSelect.options.map(f=>f.value);this.previousSelectedValues.forEach(f=>{!e.some(_=>this.matSelect.compareWith(_,f))&&!m.some(_=>this.matSelect.compareWith(_,f))&&(this.recreateValuesArray?e=[...e,f]:e.push(f),l=!0)})}this.previousSelectedValues=e,l&&this.matSelect._onChange(e)})}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let e=this.innerSelectSearch.nativeElement,l=null;for(;e&&e.parentElement;)if(e=e.parentElement,e.classList.contains("mat-select-panel")){l=e;break}l&&(this.innerSelectSearch.nativeElement.style.width=l.clientWidth+"px")}getOptionsLengthOffset(){return this.matOption?1:0}unselectActiveDescendant(){this.activeDescendant?.removeAttribute("aria-selected"),this.searchSelectInput.nativeElement.removeAttribute("aria-activedescendant")}static \u0275fac=function(l){return new(l||o)(C(Re),C(bt),C(Ai),C(Nt,8),C(ji,8),C(Dn,8))};static \u0275cmp=M({type:o,selectors:[["ngx-mat-select-search"]],contentQueries:function(l,m,f){if(l&1&&(At(f,Mn,5),At(f,Pn,5)),l&2){let _;U(_=K())&&(m.clearIcon=_.first),U(_=K())&&(m.noEntriesFound=_.first)}},viewQuery:function(l,m){if(l&1&&(Y(bn,7,ot),Y(_n,7,ot)),l&2){let f;U(f=K())&&(m.searchSelectInput=f.first),U(f=K())&&(m.innerSelectSearch=f.first)}},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toggleAllCheckboxTooltipPosition:"toggleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti",recreateValuesArray:"recreateValuesArray"},outputs:{toggleAll:"toggleAll"},features:[vt([{provide:yt,useExisting:ut(()=>o),multi:!0}])],ngContentSelectors:yn,decls:13,vars:14,consts:[["innerSelectSearch",""],["searchSelectInput",""],["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header"],[1,"mat-select-search-inner-row"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"color","checked","indeterminate","matTooltip","matTooltipPosition"],["autocomplete","off",1,"mat-select-search-input",3,"keydown","keyup","blur","type","formControl","placeholder"],["diameter","16",1,"mat-select-search-spinner"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear"],[1,"mat-select-search-no-entries-found"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"change","color","checked","indeterminate","matTooltip","matTooltipPosition"],["mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[3,"svgIcon"]],template:function(l,m){if(l&1){let f=k();We(xn),p(0,"input",2),n(1,"div",3,0)(3,"div",4),g(4,Cn,1,5,"mat-checkbox",5),n(5,"input",6,1),b("keydown",function(S){return x(f),y(m._handleKeydown(S))})("keyup",function(S){return x(f),y(m._handleKeyup(S))})("blur",function(){return x(f),y(m.onBlur())}),i(),g(7,Sn,1,0,"mat-spinner",7)(8,Bn,4,1,"button",8),Le(9),i(),p(10,"mat-divider"),i(),g(11,wn,3,1,"div",9),r(12,"async")}l&2&&(t(),w("mat-select-search-inner-multiple",m.matSelect.multiple)("mat-select-search-inner-toggle-all",m._isToggleAllCheckboxVisible()),t(3),E(m._isToggleAllCheckboxVisible()?4:-1),t(),h("type",m.type)("formControl",m._formControl)("placeholder",m.placeholderLabel),Ke("aria-label",m.ariaLabel),t(2),E(m.searching?7:-1),t(),E(!m.hideClearSearchButton&&m.value&&!m.searching?8:-1),t(3),E(s(12,12,m._showNoEntriesFound$)?11:-1))},dependencies:[T,Ct,z,R,te,zt,on,Rt,Qi,Yi,Pi,Di],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;z-index:100;font-size:inherit;box-shadow:none;background-color:var(--mat-sys-surface-container, var(--mat-select-panel-background-color, white))}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;border:none;font-family:inherit;font-size:inherit;color:currentColor;outline:none;background-color:var(--mat-sys-surface-container, var(--mat-select-panel-background-color, white));padding:0 44px 0 16px;height:47px;line-height:47px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-input[_ngcontent-%COMP%]::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-left:5px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding-top:8px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:0}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search{position:sticky;top:-8px;z-index:1;opacity:1;margin-top:-8px;pointer-events:all}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search mat-pseudo-checkbox{display:none}  .mat-mdc-option[aria-disabled=true].contains-mat-select-search .mdc-list-item__primary-text{opacity:1}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:5px}"],changeDetection:0})}return o})(),nt="8.0.2",rn=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275mod=Ae({type:o});static \u0275inj=Pe({imports:[An]})}return o})();var Ln=["singleSelect"],Vn=(o,c)=>c.value;function $n(o,c){if(o&1&&(n(0,"div",42)(1,"div",2),p(2,"i",43),n(3,"span"),a(4),i()(),p(5,"button",44),i()),o&2){let e=v();t(4),u(e.message)}}function Nn(o,c){o&1&&g(0,$n,6,1,"div",42),o&2&&E(c.status?0:-1)}function Rn(o,c){if(o&1&&(n(0,"div",20),p(1,"i",45),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("name"))," ")}}function jn(o,c){if(o&1&&(n(0,"option",26),a(1),i()),o&2){let e=c.$implicit;h("value",e.value),t(),d(" ",e.name," ")}}function zn(o,c){if(o&1&&(n(0,"div",20),p(1,"i",45),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("country"))," ")}}function Gn(o,c){if(o&1&&(n(0,"div",20),p(1,"i",45),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("city"))," ")}}function qn(o,c){if(o&1&&(n(0,"div",20),p(1,"i",45),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("nb_etage"))," ")}}function Un(o,c){o&1&&(n(0,"div",40)(1,"span",46),a(2),r(3,"translate"),i()()),o&2&&(t(2),u(s(3,1,"Loading")))}function Kn(o,c){if(o&1&&p(0,"i",47),o&2){let e=v();O(e.buildingId?"fa-edit":"fa-plus")}}var Qe=class o{constructor(c,e,l,m){this.languageSservice=c;this.activeModal=e;this.formBuilder=l;this.employeeService=m}realod=new W;singleSelect=new Re;matSelectSearchVersion=nt;version=tn;buildingId;loading$;employeeForm;btnSubmit=!1;error$;confirmSubmit$;countries=Ji;ngOnInit(){this.loading$=this.employeeService.loading$,this.initForm()}confirm(){this.activeModal&&this.activeModal.close()}dismiss(){this.activeModal&&this.activeModal.dismiss()}initForm(){this.error$=this.employeeService.error$,this.confirmSubmit$=this.employeeService.confirmSubmit$,this.confirmSubmit$.subscribe(c=>{this.btnSubmit&&c&&(this.realod.emit(!0),this.dismiss())}),this.employeeForm=this.formBuilder.group({name:["",A.required],country:["",A.required],city:["",A.required],nb_etage:["",A.required]}),this.buildingId&&this.employeeService.getBuildingDetailFromServer(this.buildingId).subscribe(e=>{this.employeeForm.patchValue(e),this.employeeForm.patchValue({country:e.country})})}submitForm(){this.employeeForm.valid?(this.btnSubmit=!0,console.log(this.employeeForm.value),this.buildingId?this.employeeService.updateBuilding(this.employeeForm,this.buildingId):this.employeeService.createBuilding(this.employeeForm)):(console.log(this.employeeForm.value),console.log("un bon autre"),this.btnSubmit=!0)}getFormControlErrorText(c){return c?.hasError("required")?this.languageSservice.instant("FieldRequired"):c?.hasError("email")?this.languageSservice.instant("ValidEmailRequired"):c?.hasError("minlength")?this.languageSservice.instant("PhoneNumberTooShort"):c?.hasError("maxlength")?this.languageSservice.instant("PhoneNumberTooLong"):""}static \u0275fac=function(e){return new(e||o)(C(D),C(je,8),C(G),C(P))};static \u0275cmp=M({type:o,selectors:[["app-create-building"]],viewQuery:function(e,l){if(e&1&&Y(Ln,5),e&2){let m;U(m=K())&&(l.singleSelect=m.first)}},outputs:{realod:"realod"},standalone:!1,decls:95,vars:71,consts:[[1,"modal-content"],[1,"modal-header","bg-gradient-primary","text-white","border-0"],[1,"d-flex","align-items-center"],[1,"icon","icon-shape","icon-sm","bg-white","text-primary","rounded-circle","me-3"],[1,"fas","fa-building"],[1,"modal-title","mb-0","text-white"],[1,"text-white-50","mb-0","text-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"row"],[1,"col-12","mb-4"],[1,"form-group"],[1,"form-label","text-dark","font-weight-bold"],[1,"fas","fa-building","text-primary","me-2"],[1,"text-danger"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"fas","fa-tag","text-muted"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"invalid-feedback","d-block"],[1,"col-md-6","mb-4"],[1,"fas","fa-globe","text-primary","me-2"],[1,"fas","fa-flag","text-muted"],["formControlName","country",1,"form-select"],["value","","disabled","","selected",""],[3,"value"],[1,"fas","fa-city","text-primary","me-2"],[1,"fas","fa-map-marker-alt","text-muted"],["type","text","id","city","formControlName","city",1,"form-control",3,"placeholder"],[1,"fas","fa-layer-group","text-primary","me-2"],[1,"fas","fa-sort-numeric-up","text-muted"],["type","number","id","nb_etage","formControlName","nb_etage","min","1","max","100",1,"form-control",3,"placeholder"],[1,"form-text","text-muted"],[1,"fas","fa-info-circle","me-1"],[1,"modal-footer","bg-light","border-0"],[1,"d-flex","w-100","gap-2"],["type","button",1,"btn","btn-outline-secondary","flex-fill",3,"click"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","flex-fill",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"me-2",3,"class"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"fas","fa-exclamation-circle","me-1"],[1,"visually-hidden"],[1,"me-2"]],template:function(e,l){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"i",4),i(),n(5,"div")(6,"h5",5),a(7),r(8,"translate"),r(9,"translate"),i(),n(10,"p",6),a(11),r(12,"translate"),i()()(),n(13,"button",7),b("click",function(){return l.dismiss()}),i()(),n(14,"div",8),g(15,Nn,1,1),r(16,"async"),n(17,"form",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label",13),p(22,"i",14),a(23),r(24,"translate"),n(25,"span",15),a(26,"*"),i()(),n(27,"div",16)(28,"span",17),p(29,"i",18),i(),p(30,"input",19),r(31,"translate"),i(),g(32,Rn,3,1,"div",20),i()(),n(33,"div",21)(34,"div",12)(35,"label",13),p(36,"i",22),a(37),r(38,"translate"),n(39,"span",15),a(40,"*"),i()(),n(41,"div",16)(42,"span",17),p(43,"i",23),i(),n(44,"select",24)(45,"option",25),a(46),r(47,"translate"),i(),$(48,jn,2,2,"option",26,Vn),i()(),g(50,zn,3,1,"div",20),i()(),n(51,"div",21)(52,"div",12)(53,"label",13),p(54,"i",27),a(55),r(56,"translate"),n(57,"span",15),a(58,"*"),i()(),n(59,"div",16)(60,"span",17),p(61,"i",28),i(),p(62,"input",29),r(63,"translate"),i(),g(64,Gn,3,1,"div",20),i()(),n(65,"div",11)(66,"div",12)(67,"label",13),p(68,"i",30),a(69),r(70,"translate"),n(71,"span",15),a(72,"*"),i()(),n(73,"div",16)(74,"span",17),p(75,"i",31),i(),p(76,"input",32),r(77,"translate"),i(),g(78,qn,3,1,"div",20),n(79,"div",33),p(80,"i",34),a(81),r(82,"translate"),i()()()()()(),n(83,"div",35)(84,"div",36)(85,"button",37),b("click",function(){return l.dismiss()}),p(86,"i",38),a(87),r(88,"translate"),i(),n(89,"button",39),b("click",function(){return l.submitForm()}),g(90,Un,4,3,"div",40),r(91,"async"),g(92,Kn,1,2,"i",41),a(93),r(94,"translate"),i()()()()),e&2){let m,f,_,S,oe,Ie,ke,Be,Fe,Oe,we,Me,Te;t(7),I(" ",l.buildingId?"Update":s(8,39,"Create")," ",s(9,41,"Building")," "),t(4),d(" ",l.buildingId?"ModifyBuildingDetails":s(12,43,"AddNewBuildingToSystem")," "),t(4),E((m=s(16,45,l.error$))?15:-1,m),t(2),h("formGroup",l.employeeForm),t(6),d(" ",s(24,47,"BuildingName")," "),t(7),w("is-invalid",l.btnSubmit&&((f=l.employeeForm.get("name"))==null?null:f.invalid))("is-valid",(_=l.employeeForm.get("name"))==null?null:_.valid),F("placeholder",s(31,49,"EnterBuildingName")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((S=l.employeeForm.get("name"))!=null&&S.invalid)?32:-1),t(5),d(" ",s(38,51,"Country")," "),t(7),w("is-invalid",l.btnSubmit&&((oe=l.employeeForm.get("country"))==null?null:oe.invalid))("is-valid",(Ie=l.employeeForm.get("country"))==null?null:Ie.valid),t(2),u(s(47,53,"SelectCountry")),t(2),N(l.countries),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((ke=l.employeeForm.get("country"))!=null&&ke.invalid)?50:-1),t(5),d(" ",s(56,55,"City")," "),t(7),w("is-invalid",l.btnSubmit&&((Be=l.employeeForm.get("city"))==null?null:Be.invalid))("is-valid",(Fe=l.employeeForm.get("city"))==null?null:Fe.valid),F("placeholder",s(63,57,"EnterCityName")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((Oe=l.employeeForm.get("city"))!=null&&Oe.invalid)?64:-1),t(5),d(" ",s(70,59,"NumberOfFloors")," "),t(7),w("is-invalid",l.btnSubmit&&((we=l.employeeForm.get("nb_etage"))==null?null:we.invalid))("is-valid",(Me=l.employeeForm.get("nb_etage"))==null?null:Me.valid),F("placeholder",s(77,61,"EnterNumberOfFloors")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((Te=l.employeeForm.get("nb_etage"))!=null&&Te.invalid)?78:-1),t(3),d(" ",s(82,63,"EnterValidNumberOfFloors")," "),t(6),d(" ",s(88,65,"Cancel")," "),t(2),O(l.buildingId?"btn-warning":"btn-primary"),t(),E(s(91,67,l.loading$)?90:92),t(3),d(" ",l.buildingId?"Update":s(94,69,"Create")," ")}},dependencies:[_e,ne,ae,z,$i,ie,R,be,Ri,Ni,xe,ye,T,L],encapsulation:2})};var Hn=()=>[],Qn=(o,c)=>c.id;function Yn(o,c){if(o&1&&(n(0,"option",26),a(1),i()),o&2){let e=c.$implicit;h("value",e),t(),u(e)}}function Xn(o,c){if(o&1&&(n(0,"option",26),a(1),i()),o&2){let e=c.$implicit;h("value",e),t(),u(e)}}function Wn(o,c){o&1&&p(0,"app-custom-spinner")}function Zn(o,c){if(o&1){let e=k();n(0,"li")(1,"a",74),b("click",function(){x(e);let m=v().$implicit,f=v(2);return y(f.deleteBuilding(m.id))}),p(2,"i",75),a(3),r(4,"translate"),i()()}o&2&&(t(3),d("",s(4,1,"Delete")," "))}function Jn(o,c){if(o&1){let e=k();n(0,"tr",48)(1,"td",49),p(2,"input",39),i(),n(3,"td")(4,"div",50)(5,"div",51)(6,"h6",52),a(7),i(),n(8,"p",53),p(9,"i",54),a(10),i()()()(),n(11,"td",49)(12,"div",51)(13,"span",55),p(14,"i",56),a(15),i(),n(16,"span",55),p(17,"i",57),a(18),i()()(),n(19,"td",58)(20,"span",59),a(21),r(22,"translate"),i()(),n(23,"td",58)(24,"div",60)(25,"div",61)(26,"div",62),a(27),i()(),n(28,"div",63)(29,"h6",64),a(30),i()()()(),n(31,"td",58)(32,"span",55),a(33),r(34,"date"),i()(),n(35,"td",58)(36,"div",65)(37,"button",66),p(38,"i",67),i(),n(39,"ul",68)(40,"li")(41,"a",69),b("click",function(){let m=x(e).$implicit,f=v(2);return y(f.viewDetails(m.id))}),p(42,"i",70),a(43),r(44,"translate"),i()(),n(45,"li")(46,"a",69),b("click",function(){let m=x(e).$implicit,f=v(2);return y(f.updateBuilding(m.id))}),p(47,"i",71),a(48),r(49,"translate"),i()(),n(50,"li"),p(51,"hr",72),i(),g(52,Zn,5,3,"li",73),i()()()()}if(o&2){let e=c.$implicit,l=c.$index,m=v(2);t(7),u(e.name),t(3),d("Building #",l+1," "),t(5),d("",e.country," "),t(3),d("",e.city," "),t(3),I("",e.nb_etage," ",s(22,13,"floors"),""),t(6),I(" ",e.user.first_name.charAt(0),"",e.user.last_name.charAt(0)||e.user.first_name.charAt(1)||""," "),t(3),u(e.user.first_name),t(3),u(j(34,15,e.created_at,"shortDate")),t(10),d("",s(44,18,"View")," "),t(5),d("",s(49,20,"Edit")," "),t(4),h("ngIf",m.havePermission(m.UserRole.SUPER_ADMIN))}}function ea(o,c){o&1&&$(0,Jn,53,22,"tr",48,Qn),o&2&&N(c)}function ta(o,c){if(o&1){let e=k();n(0,"tr")(1,"td",76)(2,"div",77),p(3,"i",78),n(4,"h6",79),a(5),r(6,"translate"),i(),n(7,"p",46),a(8),r(9,"translate"),i(),n(10,"button",80),b("click",function(){x(e);let m=v();return y(m.createBuilding())}),p(11,"i",11),a(12),r(13,"translate"),i()()()()}o&2&&(t(5),u(s(6,3,"NoDataFound")),t(3),u(s(9,5,"NoBuildingsAvailable")),t(4),d("",s(13,7,"AddFirst")," "))}var Et=class o extends V{constructor(e,l,m,f,_){super();this.languageService=e;this.employeeService=l;this.modalService=m;this.formBuilder=f;this.exportService=_;console.log("init constructor")}loading$;itemsPerPage=10;paginateData$;paginateData;totaElement=0;pageEvent;pageArray=[];itemsPerPage$=new re(this.itemsPerPage);page$=new re(1);buildings$;searchCtrl;countryCtrl;cityCtrl;currentSortBy="created_at";sortDirection="desc";availableCountries=[];availableCities=[];ngOnInit(){console.log("init"),this.loading$=this.employeeService.loading$,this.buildings$=this.employeeService.buildings$,this.paginateData$=this.employeeService.paginateData$,this.searchCtrl=this.formBuilder.control(""),this.countryCtrl=this.formBuilder.control(""),this.cityCtrl=this.formBuilder.control(""),this.paginateData$.subscribe(e=>{this.paginateData=e,this.totaElement=e.total??0,this.changeChoiceItemPage()}),this.employeeService.getBuildingsFromServer({current_page:1,per_page:this.itemsPerPage}),this.initSearchFilter(),this.loadFilterData()}getBuildingSearchOptions(e=[]){this.employeeService.getBuildingsFromServer(this.paginateData,e)}initSearchFilter(){this.searchCtrl.valueChanges.pipe(fe(300),he()).subscribe(()=>{this.applyFilters()}),this.countryCtrl.valueChanges.subscribe(()=>{this.applyFilters(),this.updateCitiesForCountry()}),this.cityCtrl.valueChanges.subscribe(()=>{this.applyFilters()})}loadFilterData(){this.buildings$.subscribe(e=>{e&&(this.availableCountries=[...new Set(e.map(l=>l.country))].filter(Boolean),this.availableCities=[...new Set(e.map(l=>l.city))].filter(Boolean))})}updateCitiesForCountry(){let e=this.countryCtrl.value;e?this.buildings$.subscribe(l=>{l&&(this.availableCities=[...new Set(l.filter(m=>m.country===e).map(m=>m.city))].filter(Boolean))}):this.loadFilterData()}createBuilding(){let e=this.modalService.open(Qe,{centered:!0,backdrop:"static"});var l;l=e.componentInstance.realod,l.subscribe(m=>{m&&this.employeeService.getBuildingsFromServer(this.paginateData)})}updateBuilding(e){let l=this.modalService.open(Qe,{centered:!0,backdrop:"static"});l.componentInstance.buildingId=e;var m;m=l.componentInstance.realod,m.subscribe(f=>{f&&this.employeeService.getBuildingsFromServer(this.paginateData)})}onSearch(e){}onFilterByCountry(e){}onFilterByCity(e){}resetFilters(){this.searchCtrl.setValue(""),this.countryCtrl.setValue(""),this.cityCtrl.setValue(""),this.currentSortBy="created_at",this.sortDirection="desc",this.applyFilters()}viewDetails(e){console.log("Voir d\xE9tails du building:",e)}deleteBuilding(e){this.employeeService.deleteBuilding(e)}sortBy(e){this.currentSortBy===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=e,this.sortDirection="asc"),this.applyFilters()}getSortIcon(e){return this.currentSortBy!==e?"fas fa-sort text-muted":this.sortDirection==="asc"?"fas fa-sort-up text-primary":"fas fa-sort-down text-primary"}applyFilters(){let e=[];this.searchCtrl.value&&e.push(se(this.searchCtrl.value)),this.countryCtrl.value&&e.push(B("country",this.countryCtrl.value)),this.cityCtrl.value&&e.push(B("city",this.cityCtrl.value)),e.push(B("sort_by",this.currentSortBy)),e.push(B("sort_direction",this.sortDirection)),this.getBuildingSearchOptions(e)}pageChange(e){return this.paginateData.current_page=e.pageIndex+1,this.paginateData.per_page=e.pageSize,this.applyFilters(),console.log(this.paginateData),e}changeChoiceItemPage(){let e=[];if(console.log(this.pageArray),this.totaElement<=2)console.log("total",this.totaElement),e.push(this.totaElement);else{for(let l=1;l<this.totaElement/2;l++)e.push(l*2);this.totaElement%2>0&&e.push(this.totaElement)}console.log(e),this.pageArray=e}exportColumns=[{key:"name",label:"Nom",translateKey:"export.name"},{key:"country",label:"Pays",translateKey:"export.country"},{key:"city",label:"Ville",translateKey:"export.city"},{key:"nb_etage",label:"Nombre d'\xC9tages",translateKey:"export.nbFloors"},{key:"user.first_name",label:"Cr\xE9\xE9 par (Pr\xE9nom)",translateKey:"export.createdByFirstName"},{key:"user.last_name",label:"Cr\xE9\xE9 par (Nom)",translateKey:"export.createdByLastName"},{key:"created_at",label:"Date de Cr\xE9ation",translateKey:"export.createdAt"}];onBeforeExport(e){console.log(`D\xE9but de l'export ${e.format} avec ${e.data.length} \xE9l\xE9ments`),console.log("Donn\xE9es \xE0 exporter:",e.data)}onAfterExport(e){e.success?console.log(`Export ${e.format} r\xE9ussi`):console.error(`Erreur lors de l'export ${e.format}`)}static \u0275fac=function(l){return new(l||o)(C(D),C(P),C(H),C(G),C(Ge))};static \u0275cmp=M({type:o,selectors:[["app-list-building"]],standalone:!1,features:[Z],decls:120,vars:95,consts:[["paginator",""],["nameOption","Building"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[1,"me-2",3,"beforeExport","afterExport","data","columns","filename","title"],[1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-plus","me-2"],[1,"col-12"],[1,"card"],[1,"card-body","p-3"],[1,"row","align-items-center"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group","mb-0"],[1,"form-label","text-xs"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"col-lg-3","col-md-6","col-12"],[1,"form-select",3,"formControl"],["value",""],[3,"value"],[1,"col-lg-2","col-md-6","col-12"],[1,"form-label","text-xs","opacity-0"],[1,"btn","btn-outline-secondary","btn-sm","w-100",3,"click","title"],[1,"fas","fa-undo"],[1,"row"],[1,"card-header","pb-0"],[1,"col-lg-6","col-7"],[1,"mb-0"],[1,"card-body","px-0","pt-0","pb-2"],[1,"table-responsive","p-0"],[1,"table","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-2"],["type","checkbox",1,"form-check-input"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"ms-1"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"text-sm","text-secondary"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"hover-row"],[1,"ps-2"],[1,"d-flex","px-2","py-1"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-0","text-sm"],[1,"text-xs","text-secondary","mb-0"],[1,"fas","fa-building","me-1"],[1,"text-xs","text-secondary"],[1,"fas","fa-globe","me-1"],[1,"fas","fa-map-marker-alt","me-1"],[1,"text-center"],[1,"badge","badge-sm","bg-gradient-info"],[1,"d-flex","align-items-center","justify-content-center"],[1,"avatar","avatar-xs","me-2"],[1,"avatar-initial","rounded-circle","bg-gradient-primary"],[1,"d-flex","flex-column"],[1,"mb-0","text-xs"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-link","text-secondary","p-0","dropdown-toggle"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-eye","me-2"],[1,"fas","fa-edit","me-2"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["colspan","7",1,"text-center","py-4"],[1,"d-flex","flex-column","align-items-center"],[1,"fas","fa-building","text-muted","mb-3",2,"font-size","3rem"],[1,"text-muted","mb-2"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(l,m){if(l&1){let f=k();n(0,"app-base",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),a(5),r(6,"translate"),i(),n(7,"span",6),a(8),r(9,"async"),r(10,"translate"),i()(),n(11,"p",7),a(12),r(13,"translate"),i()(),n(14,"div",8)(15,"app-export-buttons",9),r(16,"async"),b("beforeExport",function(S){return x(f),y(m.onBeforeExport(S))})("afterExport",function(S){return x(f),y(m.onAfterExport(S))}),i(),n(17,"button",10),b("click",function(){return x(f),y(m.createBuilding())}),p(18,"i",11),a(19),r(20,"translate"),r(21,"translate"),i()()(),n(22,"div",2)(23,"div",12)(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16)(28,"div",17)(29,"label",18),a(30),r(31,"translate"),i(),n(32,"div",19)(33,"span",20),p(34,"i",21),i(),p(35,"input",22),r(36,"translate"),i()()(),n(37,"div",23)(38,"div",17)(39,"label",18),a(40),r(41,"translate"),i(),n(42,"select",24)(43,"option",25),a(44),r(45,"translate"),i(),$(46,Yn,2,2,"option",26,rt),i()()(),n(48,"div",23)(49,"div",17)(50,"label",18),a(51),r(52,"translate"),i(),n(53,"select",24)(54,"option",25),a(55),r(56,"translate"),i(),$(57,Xn,2,2,"option",26,rt),i()()(),n(59,"div",27)(60,"div",17)(61,"label",28),a(62,"Action"),i(),n(63,"button",29),r(64,"translate"),b("click",function(){return x(f),y(m.resetFilters())}),p(65,"i",30),i()()()()()()()(),n(66,"div",31)(67,"div",12)(68,"div",13)(69,"div",32)(70,"div",15)(71,"div",33)(72,"h6",34),a(73),r(74,"translate"),i()()()(),n(75,"div",35),g(76,Wn,1,0,"app-custom-spinner"),r(77,"async"),n(78,"div",36)(79,"table",37)(80,"thead")(81,"tr")(82,"th",38),p(83,"input",39),i(),n(84,"th",40),b("click",function(){return x(f),y(m.sortBy("name"))}),a(85),r(86,"translate"),p(87,"i",41),i(),n(88,"th",38),a(89),r(90,"translate"),i(),n(91,"th",42),b("click",function(){return x(f),y(m.sortBy("nb_etage"))}),a(92),r(93,"translate"),p(94,"i",41),i(),n(95,"th",43),a(96),r(97,"translate"),i(),n(98,"th",42),b("click",function(){return x(f),y(m.sortBy("created_at"))}),a(99),r(100,"translate"),p(101,"i",41),i(),n(102,"th",43),a(103),r(104,"translate"),i()()(),n(105,"tbody"),g(106,ea,2,0),r(107,"async"),g(108,ta,14,9,"tr"),i()()(),n(109,"div",44)(110,"div",45)(111,"div",4)(112,"span",46),a(113),r(114,"translate"),r(115,"async"),r(116,"translate"),i()()(),n(117,"div",45)(118,"mat-paginator",47,0),b("page",function(S){return x(f),y(m.pageEvent=m.pageChange(S))}),i()()()()()()()()}if(l&2){let f,_,S;t(5),u(s(6,42,"Building")),t(3),I("",((f=s(9,44,m.buildings$))==null?null:f.length)||0," ",s(10,46,"items"),""),t(4),u(s(13,48,"ManageYourBuildings")),t(3),h("data",s(16,50,m.buildings$)||J(94,Hn))("columns",m.exportColumns)("filename",m.languageService.instant("export.filename.buildings"))("title",m.languageService.instant("export.title.buildings")),t(4),I(" ",s(20,52,"Add")," ",s(21,54,"Building")," "),t(11),u(s(31,56,"Search")),t(5),F("placeholder",s(36,58,"SearchByName")),h("formControl",m.searchCtrl),t(5),u(s(41,60,"Country")),t(2),h("formControl",m.countryCtrl),t(2),u(s(45,62,"All")),t(2),N(m.availableCountries),t(5),u(s(52,64,"City")),t(2),h("formControl",m.cityCtrl),t(2),u(s(56,66,"All")),t(2),N(m.availableCities),t(6),F("title",s(64,68,"ResetFilters")),t(10),u(s(74,70,"BuildingsList")),t(3),E(s(77,72,m.loading$)?76:-1),t(9),d(" ",s(86,74,"Building")," "),t(2),O(m.getSortIcon("name")),t(2),d(" ",s(90,76,"Location")," "),t(3),d(" ",s(93,78,"Floors")," "),t(2),O(m.getSortIcon("nb_etage")),t(2),d(" ",s(97,80,"CreatedBy")," "),t(3),d(" ",s(100,82,"CreatedAt")," "),t(2),O(m.getSortIcon("created_at")),t(2),d(" ",s(104,84,"Actions")," "),t(3),E((_=s(107,86,m.buildings$))?106:108,_),t(7),le(" ",s(114,88,"Showing")," ",((S=s(115,90,m.buildings$))==null?null:S.length)||0," ",s(116,92,"entries")," "),t(5),h("length",m.totaElement)("pageSize",m.itemsPerPage)("pageSizeOptions",m.pageArray)("showFirstLastButtons",!0)}},dependencies:[ee,ne,ae,z,ie,R,te,V,Ne,qe,Ue,T,X,L],styles:[".hover-row[_ngcontent-%COMP%]{transition:all .3s ease}.hover-row[_ngcontent-%COMP%]:hover{background-color:#00000005;transform:translateY(-1px);box-shadow:0 2px 4px #0000000d}.badge-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem;border-radius:.375rem}.avatar-initial[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600;color:#fff;text-transform:uppercase}.badge.bg-gradient-info[_ngcontent-%COMP%]{background:linear-gradient(87deg,#11cdef 0,#1171ef)}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-menu[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-radius:.5rem}.dropdown-item[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem;transition:all .2s ease}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:translate(2px)}.dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background-color:#fff5f5;color:#dc3545}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1rem;text-align:center}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-weight:500;color:#6c757d}.input-group-text[_ngcontent-%COMP%]{background-color:#f8f9fa;border-color:#dee2e6;color:#6c757d}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#344767;box-shadow:0 0 0 .2rem #34476740}.text-center[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{opacity:.5}.cursor-pointer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .2s ease}.cursor-pointer[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translateY(-1px)}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{border:none}.dropdown-menu[_ngcontent-%COMP%]{min-width:160px}.badge[_ngcontent-%COMP%]{font-size:.7rem}}.card-header[_ngcontent-%COMP%]   app-custom-spinner[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.mat-paginator[_ngcontent-%COMP%]{background:transparent;border:none}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#344767;border-color:#344767}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#344767;box-shadow:0 0 0 .25rem #34476740}.bg-gradient-secondary[_ngcontent-%COMP%]{background:linear-gradient(87deg,#6c757d 0,#8fa0a3)}.bg-gradient-primary[_ngcontent-%COMP%]{background:linear-gradient(87deg,#344767 0,#5a6c82)}.btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34476740}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d;margin-right:.5rem}"]})};var ia=["singleSelect"];function na(o,c){if(o&1&&(n(0,"div",41)(1,"div",2),p(2,"i",42),n(3,"span"),a(4),i()(),p(5,"button",43),i()),o&2){let e=v();t(4),u(e.message)}}function aa(o,c){o&1&&g(0,na,6,1,"div",41),o&2&&E(c.status?0:-1)}function oa(o,c){if(o&1&&(n(0,"div",20),p(1,"i",44),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("name"))," ")}}function ra(o,c){if(o&1&&(n(0,"div",20),p(1,"i",44),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("num_office"))," ")}}function la(o,c){if(o&1&&(n(0,"div",20),p(1,"i",44),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("num_etage"))," ")}}function sa(o,c){if(o&1&&(n(0,"ng-option",45)(1,"div",2),p(2,"i",28),n(3,"div")(4,"div",46),a(5),i(),n(6,"small",47),p(7,"i",48),a(8),i()()()()),o&2){let e=c.$implicit;h("value",e.id),t(5),u(e.name),t(3),I(" ",e.city,", ",e.country," ")}}function ma(o,c){if(o&1&&(n(0,"div",20),p(1,"i",44),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("building_id"))," ")}}function ca(o,c){o&1&&(n(0,"div",39)(1,"span",49),a(2),r(3,"translate"),i()()),o&2&&(t(2),u(s(3,1,"Loading")))}function pa(o,c){if(o&1&&p(0,"i",50),o&2){let e=v();O(e.officeId?"fa-edit":"fa-plus")}}var Ye=class o{constructor(c,e,l,m,f,_){this.injector=c;this.languageSservice=e;this.activeModal=l;this.formBuilder=m;this.employeeService=f;this.modalService=_;this.addTagNowRef=this.addCustomItem.bind(this)}realod=new W;singleSelect=new Re;matSelectSearchVersion=nt;options=[{id:1,name:"Option 1"},{id:2,name:"Option 2"},{id:3,name:"Option 3"}];selectedOption=null;officeId;loading$;employeeForm;buildings$;btnSubmit=!1;buildingCtrl;error$;confirmSubmit$;buildingsData;numEtageCtl;addTagNowRef;ngOnInit(){this.loading$=this.employeeService.loading$,this.buildings$=this.employeeService.buildings$,this.buildings$.subscribe(c=>{this.buildingsData=c}),this.employeeService.getBuildingsFromServer(),this.initForm()}confirm(){this.activeModal&&this.activeModal.close()}dismiss(){this.activeModal&&this.activeModal.dismiss()}addCustomItem(){let c=this.modalService.open(Qe,{centered:!0,backdrop:"static"});var e;e=c.componentInstance.realod,e.subscribe(l=>{l&&this.employeeService.getBuildingsFromServer()})}initForm(){this.error$=this.employeeService.error$,this.confirmSubmit$=this.employeeService.confirmSubmit$,this.confirmSubmit$.subscribe(c=>{this.btnSubmit&&c&&(this.realod.emit(!0),this.dismiss())}),this.buildingCtrl=this.formBuilder.control(""),this.numEtageCtl=this.formBuilder.control(0,[A.required]),this.employeeForm=this.formBuilder.group({name:["",A.required],building_id:["",A.required],num_office:["",A.required],num_etage:this.numEtageCtl}),this.officeId&&this.employeeService.getOfficeDetailFromServer(this.officeId).subscribe(e=>{this.employeeForm.patchValue(e)})}selectBuilding(c){console.log(c.target.value),this.numEtageCtl.addValidators([A.max(this.buildingsData.find(e=>e.id==c.target.value)?.nb_etage??5)])}submitForm(){this.employeeForm.valid?(this.btnSubmit=!0,console.log(this.employeeForm.value),this.officeId?this.employeeService.updateOffice(this.employeeForm,this.officeId):this.employeeService.createOffice(this.employeeForm)):(console.log(this.employeeForm.value),console.log("un bon autre"),this.btnSubmit=!0)}getFormControlErrorText(c){if(c?.hasError("required"))return this.languageSservice.instant("FieldRequired");if(c?.hasError("email"))return this.languageSservice.instant("ValidEmailRequired");if(c?.hasError("minlength"))return this.languageSservice.instant("PhoneNumberTooShort");if(c?.hasError("maxlength"))return this.languageSservice.instant("PhoneNumberTooLong");if(c?.hasError("max")){let e=this.buildingsData.find(l=>l.id==this.employeeForm?.get("building_id")?.value)?.nb_etage;return this.languageSservice.instant("FloorNumberTooHigh").replace("{max}",e?.toString()||"")}else return""}static \u0275fac=function(e){return new(e||o)(C(ht),C(D),C(je,8),C(G),C(P),C(H))};static \u0275cmp=M({type:o,selectors:[["app-create-office"]],viewQuery:function(e,l){if(e&1&&Y(ia,5),e&2){let m;U(m=K())&&(l.singleSelect=m.first)}},outputs:{realod:"realod"},standalone:!1,decls:92,vars:82,consts:[[1,"modal-content"],[1,"modal-header","bg-gradient-primary","text-white","border-0"],[1,"d-flex","align-items-center"],[1,"icon","icon-shape","icon-sm","bg-white","text-primary","rounded-circle","me-3"],[1,"fas","fa-door-open"],[1,"modal-title","mb-0","text-white"],[1,"text-white-50","mb-0","text-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"row"],[1,"col-12","mb-4"],[1,"form-group"],[1,"form-label","text-dark","font-weight-bold"],[1,"fas","fa-door-open","text-primary","me-2"],[1,"text-danger"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"fas","fa-tag","text-muted"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],[1,"invalid-feedback","d-block"],[1,"col-md-6","mb-4"],[1,"fas","fa-hashtag","text-primary","me-2"],[1,"fas","fa-sort-numeric-up","text-muted"],["type","text","id","num_office","formControlName","num_office",1,"form-control",3,"placeholder"],[1,"fas","fa-layer-group","text-primary","me-2"],[1,"fas","fa-arrows-alt-v","text-muted"],["type","text","id","num_etage","formControlName","num_etage",1,"form-control",3,"placeholder"],[1,"fas","fa-building","text-primary","me-2"],[1,"position-relative"],["bindLabel","name","bindValue","id","formControlName","building_id",3,"ngModelChange","items","addTag","ngModel","closeOnSelect","searchable","clearable","placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"form-text","text-muted"],[1,"fas","fa-info-circle","me-1"],[1,"modal-footer","bg-light","border-0"],[1,"d-flex","w-100","gap-2"],["type","button",1,"btn","btn-outline-secondary","flex-fill",3,"click"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","flex-fill",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"me-2",3,"class"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"fas","fa-exclamation-circle","me-1"],[3,"value"],[1,"fw-bold"],[1,"text-muted"],[1,"fas","fa-map-marker-alt","me-1"],[1,"visually-hidden"],[1,"me-2"]],template:function(e,l){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"i",4),i(),n(5,"div")(6,"h5",5),a(7),r(8,"translate"),r(9,"translate"),i(),n(10,"p",6),a(11),r(12,"translate"),i()()(),n(13,"button",7),b("click",function(){return l.dismiss()}),i()(),n(14,"div",8),g(15,aa,1,1),r(16,"async"),n(17,"form",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label",13),p(22,"i",14),a(23),r(24,"translate"),n(25,"span",15),a(26,"*"),i()(),n(27,"div",16)(28,"span",17),p(29,"i",18),i(),p(30,"input",19),r(31,"translate"),i(),g(32,oa,3,1,"div",20),i()(),n(33,"div",21)(34,"div",12)(35,"label",13),p(36,"i",22),a(37),r(38,"translate"),n(39,"span",15),a(40,"*"),i()(),n(41,"div",16)(42,"span",17),p(43,"i",23),i(),p(44,"input",24),r(45,"translate"),i(),g(46,ra,3,1,"div",20),i()(),n(47,"div",21)(48,"div",12)(49,"label",13),p(50,"i",25),a(51),r(52,"translate"),n(53,"span",15),a(54,"*"),i()(),n(55,"div",16)(56,"span",17),p(57,"i",26),i(),p(58,"input",27),r(59,"translate"),i(),g(60,la,3,1,"div",20),i()(),n(61,"div",11)(62,"div",12)(63,"label",13),p(64,"i",28),a(65),r(66,"translate"),n(67,"span",15),a(68,"*"),i()(),n(69,"div",29)(70,"ng-select",30),r(71,"translate"),r(72,"async"),xi("ngModelChange",function(f){return _i(l.selectedOption,f)||(l.selectedOption=f),f}),g(73,sa,9,4,"ng-option",31),r(74,"async"),i()(),g(75,ma,3,1,"div",20),n(76,"div",32),p(77,"i",33),a(78),r(79,"translate"),i()()()()()(),n(80,"div",34)(81,"div",35)(82,"button",36),b("click",function(){return l.dismiss()}),p(83,"i",37),a(84),r(85,"translate"),i(),n(86,"button",38),b("click",function(){return l.submitForm()}),g(87,ca,4,3,"div",39),r(88,"async"),g(89,pa,1,2,"i",40),a(90),r(91,"translate"),i()()()()),e&2){let m,f,_,S,oe,Ie,ke,Be,Fe,Oe,we,Me,Te;t(7),I(" ",l.officeId?"Update":s(8,46,"Create")," ",s(9,48,"Office")," "),t(4),d(" ",l.officeId?"ModifyOfficeDetails":s(12,50,"AddNewOfficeToSystem")," "),t(4),E((m=s(16,52,l.error$))?15:-1,m),t(2),h("formGroup",l.employeeForm),t(6),d(" ",s(24,54,"OfficeName")," "),t(7),w("is-invalid",l.btnSubmit&&((f=l.employeeForm.get("name"))==null?null:f.invalid))("is-valid",(_=l.employeeForm.get("name"))==null?null:_.valid),F("placeholder",s(31,56,"EnterOfficeName")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((S=l.employeeForm.get("name"))!=null&&S.invalid)?32:-1),t(5),d(" ",s(38,58,"OfficeNumber")," "),t(7),w("is-invalid",l.btnSubmit&&((oe=l.employeeForm.get("num_office"))==null?null:oe.invalid))("is-valid",(Ie=l.employeeForm.get("num_office"))==null?null:Ie.valid),F("placeholder",s(45,60,"EnterOfficeNumber")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((ke=l.employeeForm.get("num_office"))!=null&&ke.invalid)?46:-1),t(5),d(" ",s(52,62,"FloorNumber")," "),t(7),w("is-invalid",l.btnSubmit&&((Be=l.employeeForm.get("num_etage"))==null?null:Be.invalid))("is-valid",(Fe=l.employeeForm.get("num_etage"))==null?null:Fe.valid),F("placeholder",s(59,64,"EnterFloorNumber")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((Oe=l.employeeForm.get("num_etage"))!=null&&Oe.invalid)?60:-1),t(5),d(" ",s(66,66,"Building")," "),t(5),w("is-invalid",l.btnSubmit&&((we=l.employeeForm.get("building_id"))==null?null:we.invalid))("is-valid",(Me=l.employeeForm.get("building_id"))==null?null:Me.valid),F("placeholder",s(71,68,"SelectBuilding")),h("items",s(72,70,l.buildings$))("addTag",l.addTagNowRef),bi("ngModel",l.selectedOption),h("closeOnSelect",!0)("searchable",!0)("clearable",!0),t(3),h("ngForOf",s(74,72,l.buildings$)),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((Te=l.employeeForm.get("building_id"))!=null&&Te.invalid)?75:-1),t(3),d(" ",s(79,74,"SelectBuildingForOffice")," "),t(6),d(" ",s(85,76,"Cancel")," "),t(2),O(l.officeId?"btn-warning":"btn-primary"),t(),E(s(88,78,l.loading$)?87:89),t(3),d(" ",l.officeId?"Update":s(91,80,"Create")," ")}},dependencies:[ve,_e,z,R,be,xe,ye,ze,it,T,L],styles:[".form-horizontal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-horizontal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#8b8b8b}.form-horizontal[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{padding-top:7px;margin-bottom:0}"]})};var da=()=>[],ua=(o,c)=>c.id;function fa(o,c){if(o&1&&(n(0,"option",25),a(1),i()),o&2){let e=c.$implicit;h("value",e.id),t(),u(e.name)}}function ha(o,c){if(o&1&&(n(0,"option",25),a(1),i()),o&2){let e=c.$implicit;h("value",e),t(),u(e)}}function ga(o,c){o&1&&p(0,"app-custom-spinner")}function va(o,c){if(o&1){let e=k();n(0,"li")(1,"a",77),b("click",function(){x(e);let m=v().$implicit,f=v(2);return y(f.deleteOffice(m.id))}),p(2,"i",78),a(3),r(4,"translate"),i()()}o&2&&(t(3),d("",s(4,1,"Delete")," "))}function ba(o,c){if(o&1){let e=k();n(0,"tr",50)(1,"td",51),p(2,"input",41),i(),n(3,"td")(4,"div",52)(5,"div",53)(6,"h6",54),a(7),i(),n(8,"p",55),p(9,"i",56),a(10),i()()()(),n(11,"td",51)(12,"div",53)(13,"span",57),p(14,"i",58),a(15),i(),n(16,"span",57),p(17,"i",59),a(18),r(19,"translate"),i()()(),n(20,"td",60)(21,"span",61),a(22),i()(),n(23,"td",60)(24,"span",62),a(25),i()(),n(26,"td",60)(27,"div",63)(28,"div",64)(29,"div",65),a(30),i()(),n(31,"div",66)(32,"h6",67),a(33),i()()()(),n(34,"td",60)(35,"span",57),a(36),r(37,"date"),i()(),n(38,"td",60)(39,"div",68)(40,"button",69),p(41,"i",70),i(),n(42,"ul",71)(43,"li")(44,"a",72),b("click",function(){let m=x(e).$implicit,f=v(2);return y(f.viewDetails(m.id))}),p(45,"i",73),a(46),r(47,"translate"),i()(),n(48,"li")(49,"a",72),b("click",function(){let m=x(e).$implicit,f=v(2);return y(f.updateOffice(m.id))}),p(50,"i",74),a(51),r(52,"translate"),i()(),n(53,"li"),p(54,"hr",75),i(),g(55,va,5,3,"li",76),i()()()()}if(o&2){let e=c.$implicit,l=c.$index,m=v(2);t(7),u(e.name),t(3),d("Office #",l+1," "),t(5),d("",e.building.name," "),t(3),I("",s(19,14,"Floor")," ",e.num_etage," "),t(4),d("#",e.num_office,""),t(3),u(e.num_etage),t(5),I(" ",e.user.first_name.charAt(0),"",e.user.last_name.charAt(0)||e.user.first_name.charAt(1)||""," "),t(3),u(e.user.first_name),t(3),u(j(37,16,e.created_at,"shortDate")),t(10),d("",s(47,19,"View")," "),t(5),d("",s(52,21,"Edit")," "),t(4),h("ngIf",m.havePermission(m.UserRole.SUPER_ADMIN))}}function _a(o,c){o&1&&$(0,ba,56,23,"tr",50,ui),o&2&&N(c)}function xa(o,c){if(o&1){let e=k();n(0,"tr")(1,"td",79)(2,"div",80),p(3,"i",81),n(4,"h6",82),a(5),r(6,"translate"),i(),n(7,"p",48),a(8),r(9,"translate"),i(),n(10,"button",83),b("click",function(){x(e);let m=v();return y(m.createOffice())}),p(11,"i",11),a(12),r(13,"translate"),i()()()()}o&2&&(t(5),u(s(6,3,"NoDataFound")),t(3),u(s(9,5,"NoOfficesAvailable")),t(4),d("",s(13,7,"AddFirst")," "))}var It=class o extends V{constructor(e,l,m,f,_){super();this.languageService=e;this.employeeService=l;this.modalService=m;this.formBuilder=f;this.exportService=_;console.log("init constructor")}loading$;itemsPerPage=10;paginateData$;paginateData;totaElement=0;pageEvent;pageArray=[];itemsPerPage$=new re(this.itemsPerPage);page$=new re(1);offices$;searchCtrl;buildingCtrl;floorCtrl;statusCtrl;currentSortBy="created_at";sortDirection="desc";availableBuildings=[];availableFloors=[];ngOnInit(){console.log("init"),this.loading$=this.employeeService.loading$,this.offices$=this.employeeService.offices$,this.paginateData$=this.employeeService.paginateData$,this.searchCtrl=this.formBuilder.control(""),this.buildingCtrl=this.formBuilder.control(""),this.floorCtrl=this.formBuilder.control(""),this.statusCtrl=this.formBuilder.control(""),this.paginateData$.subscribe(e=>{this.paginateData=e,this.totaElement=e.total??0,this.changeChoiceItemPage()}),this.employeeService.getOfficesFromServer({current_page:1,per_page:this.itemsPerPage}),this.initSearchFilter(),this.loadFilterData()}getOfficeSearchOptions(e=[]){this.employeeService.getOfficesFromServer(this.paginateData,e)}initSearchFilter(){this.searchCtrl.valueChanges.pipe(fe(300),he()).subscribe(()=>{this.applyFilters()}),this.buildingCtrl.valueChanges.subscribe(()=>{this.applyFilters(),this.updateFloorsForBuilding()}),this.floorCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.statusCtrl.valueChanges.subscribe(()=>{this.applyFilters()})}loadFilterData(){this.offices$.subscribe(e=>{e&&(this.availableBuildings=[...new Set(e.map(l=>l.building))].filter(Boolean),this.availableFloors=[...new Set(e.map(l=>l.num_etage))].filter(Boolean).sort((l,m)=>l-m))})}updateFloorsForBuilding(){let e=this.buildingCtrl.value;e?this.offices$.subscribe(l=>{l&&(this.availableFloors=[...new Set(l.filter(m=>m.building.id===e).map(m=>m.num_etage))].filter(Boolean).sort((m,f)=>m-f))}):this.loadFilterData()}createOffice(){let e=this.modalService.open(Ye,{centered:!0,backdrop:"static"});var l;l=e.componentInstance.realod,l.subscribe(m=>{m&&this.employeeService.getOfficesFromServer(this.paginateData)})}updateOffice(e){let l=this.modalService.open(Ye,{centered:!0,backdrop:"static"});l.componentInstance.officeId=e;var m;m=l.componentInstance.realod,m.subscribe(f=>{f&&this.employeeService.getOfficesFromServer(this.paginateData)})}onSearch(e){}onFilterByBuilding(e){}onFilterByFloor(e){}onFilterByStatus(e){}resetFilters(){this.searchCtrl.setValue(""),this.buildingCtrl.setValue(""),this.floorCtrl.setValue(""),this.statusCtrl.setValue(""),this.currentSortBy="created_at",this.sortDirection="desc",this.applyFilters()}viewDetails(e){console.log("Voir d\xE9tails du bureau:",e)}deleteOffice(e){this.employeeService.deleteOffice(e)}sortBy(e){this.currentSortBy===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=e,this.sortDirection="asc"),this.applyFilters()}getSortIcon(e){return this.currentSortBy!==e?"fas fa-sort text-muted":this.sortDirection==="asc"?"fas fa-sort-up text-primary":"fas fa-sort-down text-primary"}applyFilters(){let e=[];this.searchCtrl.value&&e.push(se(this.searchCtrl.value)),this.buildingCtrl.value&&e.push(B("building_id",this.buildingCtrl.value)),this.floorCtrl.value&&e.push(B("num_etage",this.floorCtrl.value)),this.statusCtrl.value&&e.push(B("status",this.statusCtrl.value)),e.push(B("sort_by",this.currentSortBy)),e.push(B("sort_direction",this.sortDirection)),this.getOfficeSearchOptions(e)}pageChange(e){return this.paginateData.current_page=e.pageIndex+1,this.paginateData.per_page=e.pageSize,this.applyFilters(),console.log(this.paginateData),e}changeChoiceItemPage(){let e=[];if(console.log(this.pageArray),this.totaElement<=2)console.log("total",this.totaElement),e.push(this.totaElement);else{for(let l=1;l<this.totaElement/2;l++)e.push(l*2);this.totaElement%2>0&&e.push(this.totaElement)}console.log(e),this.pageArray=e}exportColumns=[{key:"name",label:"Nom",translateKey:"export.name"},{key:"num_office",label:"Num\xE9ro Bureau",translateKey:"export.officeNumber"},{key:"num_etage",label:"Num\xE9ro \xC9tage",translateKey:"export.floorNumber"},{key:"status",label:"Statut",translateKey:"export.status"},{key:"is_inventory",label:"Inventori\xE9",translateKey:"export.isInventoried"},{key:"building.name",label:"B\xE2timent",translateKey:"export.building"},{key:"user.first_name",label:"Cr\xE9\xE9 par (Pr\xE9nom)",translateKey:"export.createdByFirstName"},{key:"user.last_name",label:"Cr\xE9\xE9 par (Nom)",translateKey:"export.createdByLastName"},{key:"created_at",label:"Date de Cr\xE9ation",translateKey:"export.createdAt"}];onBeforeExport(e){console.log(`D\xE9but de l'export ${e.format} avec ${e.data.length} \xE9l\xE9ments`),console.log("Donn\xE9es \xE0 exporter:",e.data)}onAfterExport(e){e.success?console.log(`Export ${e.format} r\xE9ussi`):console.error(`Erreur lors de l'export ${e.format}`)}static \u0275fac=function(l){return new(l||o)(C(D),C(P),C(H),C(G),C(Ge))};static \u0275cmp=M({type:o,selectors:[["app-list-office"]],standalone:!1,features:[Z],decls:144,vars:120,consts:[["paginator",""],["nameOption","Office"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[3,"beforeExport","afterExport","data","columns","filename","title"],[1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-plus","me-2"],[1,"col-12"],[1,"card"],[1,"card-body","p-3"],[1,"row","align-items-center"],[1,"col-lg-3","col-md-6","col-12"],[1,"form-group","mb-0"],[1,"form-label","text-xs"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"form-select",3,"formControl"],["value",""],[3,"value"],[1,"col-lg-2","col-md-6","col-12"],["value","available"],["value","occupied"],["value","maintenance"],[1,"form-label","text-xs","opacity-0"],[1,"btn","btn-outline-secondary","btn-sm","w-100",3,"click","title"],[1,"fas","fa-undo"],[1,"row"],[1,"card-header","pb-0"],[1,"col-lg-6","col-7"],[1,"mb-0"],[1,"card-body","px-0","pt-0","pb-2"],[1,"table-responsive","p-0"],[1,"table","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-2"],["type","checkbox",1,"form-check-input"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-2","cursor-pointer",3,"click"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"text-sm","text-secondary"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"hover-row"],[1,"ps-2"],[1,"d-flex","px-2","py-1"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-0","text-sm"],[1,"text-xs","text-secondary","mb-0"],[1,"fas","fa-door-open","me-1"],[1,"text-xs","text-secondary"],[1,"fas","fa-building","me-1"],[1,"fas","fa-layer-group","me-1"],[1,"text-center"],[1,"badge","badge-sm","bg-gradient-info"],[1,"badge","badge-sm","bg-gradient-secondary"],[1,"d-flex","align-items-center","justify-content-center"],[1,"avatar","avatar-xs","me-2"],[1,"avatar-initial","rounded-circle","bg-gradient-primary"],[1,"d-flex","flex-column"],[1,"mb-0","text-xs"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-link","text-secondary","p-0","dropdown-toggle"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-eye","me-2"],[1,"fas","fa-edit","me-2"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["colspan","8",1,"text-center","py-4"],[1,"d-flex","flex-column","align-items-center"],[1,"fas","fa-door-open","text-muted","mb-3",2,"font-size","3rem"],[1,"text-muted","mb-2"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(l,m){if(l&1){let f=k();n(0,"app-base",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),a(5),r(6,"translate"),i(),n(7,"span",6),a(8),r(9,"async"),r(10,"translate"),i()(),n(11,"p",7),a(12),r(13,"translate"),i()(),n(14,"div",8)(15,"app-export-buttons",9),r(16,"async"),r(17,"translate"),r(18,"translate"),b("beforeExport",function(S){return x(f),y(m.onBeforeExport(S))})("afterExport",function(S){return x(f),y(m.onAfterExport(S))}),i(),n(19,"button",10),b("click",function(){return x(f),y(m.createOffice())}),p(20,"i",11),a(21),r(22,"translate"),r(23,"translate"),i()()(),n(24,"div",2)(25,"div",12)(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",16)(30,"div",17)(31,"label",18),a(32),r(33,"translate"),i(),n(34,"div",19)(35,"span",20),p(36,"i",21),i(),p(37,"input",22),r(38,"translate"),i()()(),n(39,"div",16)(40,"div",17)(41,"label",18),a(42),r(43,"translate"),i(),n(44,"select",23)(45,"option",24),a(46),r(47,"translate"),i(),$(48,fa,2,2,"option",25,ua),i()()(),n(50,"div",26)(51,"div",17)(52,"label",18),a(53),r(54,"translate"),i(),n(55,"select",23)(56,"option",24),a(57),r(58,"translate"),i(),$(59,ha,2,2,"option",25,rt),i()()(),n(61,"div",26)(62,"div",17)(63,"label",18),a(64),r(65,"translate"),i(),n(66,"select",23)(67,"option",24),a(68),r(69,"translate"),i(),n(70,"option",27),a(71),r(72,"translate"),i(),n(73,"option",28),a(74),r(75,"translate"),i(),n(76,"option",29),a(77),r(78,"translate"),i()()()(),n(79,"div",26)(80,"div",17)(81,"label",30),a(82,"Action"),i(),n(83,"button",31),r(84,"translate"),b("click",function(){return x(f),y(m.resetFilters())}),p(85,"i",32),i()()()()()()()(),n(86,"div",33)(87,"div",12)(88,"div",13)(89,"div",34)(90,"div",15)(91,"div",35)(92,"h6",36),a(93),r(94,"translate"),i()()()(),n(95,"div",37),g(96,ga,1,0,"app-custom-spinner"),r(97,"async"),n(98,"div",38)(99,"table",39)(100,"thead")(101,"tr")(102,"th",40),p(103,"input",41),i(),n(104,"th",42),b("click",function(){return x(f),y(m.sortBy("name"))}),a(105),r(106,"translate"),p(107,"i"),i(),n(108,"th",43),b("click",function(){return x(f),y(m.sortBy("building_id"))}),a(109),r(110,"translate"),p(111,"i"),i(),n(112,"th",44),b("click",function(){return x(f),y(m.sortBy("num_office"))}),a(113),r(114,"translate"),p(115,"i"),i(),n(116,"th",44),b("click",function(){return x(f),y(m.sortBy("num_etage"))}),a(117),r(118,"translate"),p(119,"i"),i(),n(120,"th",45),a(121),r(122,"translate"),i(),n(123,"th",45),a(124),r(125,"translate"),i(),n(126,"th",45),a(127),r(128,"translate"),i()()(),n(129,"tbody"),g(130,_a,2,0),r(131,"async"),g(132,xa,14,9,"tr"),i()()(),n(133,"div",46)(134,"div",47)(135,"div",4)(136,"span",48),a(137),r(138,"translate"),r(139,"async"),r(140,"translate"),i()()(),n(141,"div",47)(142,"mat-paginator",49,0),b("page",function(S){return x(f),y(m.pageEvent=m.pageChange(S))}),i()()()()()()()()}if(l&2){let f,_,S;t(5),u(s(6,51,"Office")),t(3),I("",((f=s(9,53,m.offices$))==null?null:f.length)||0," ",s(10,55,"items"),""),t(4),u(s(13,57,"ManageYourOffices")),t(3),h("data",s(16,59,m.offices$)||J(119,da))("columns",m.exportColumns)("filename",s(17,61,"export.filename.offices"))("title",s(18,63,"export.title.offices")),t(6),I(" ",s(22,65,"Add")," ",s(23,67,"Office")," "),t(11),u(s(33,69,"Search")),t(5),F("placeholder",s(38,71,"SearchByName")),h("formControl",m.searchCtrl),t(5),u(s(43,73,"Building")),t(2),h("formControl",m.buildingCtrl),t(2),u(s(47,75,"All")),t(2),N(m.availableBuildings),t(5),u(s(54,77,"Floor")),t(2),h("formControl",m.floorCtrl),t(2),u(s(58,79,"All")),t(2),N(m.availableFloors),t(5),u(s(65,81,"Status")),t(2),h("formControl",m.statusCtrl),t(2),u(s(69,83,"All")),t(3),u(s(72,85,"Available")),t(3),u(s(75,87,"Occupied")),t(3),u(s(78,89,"Maintenance")),t(6),F("title",s(84,91,"ResetFilters")),t(10),u(s(94,93,"OfficesList")),t(3),E(s(97,95,m.loading$)?96:-1),t(9),d(" ",s(106,97,"Office")," "),t(2),O(m.getSortIcon("name")),t(2),d(" ",s(110,99,"Location")," "),t(2),O(m.getSortIcon("building_id")),t(2),d(" ",s(114,101,"OfficeNumber")," "),t(2),O(m.getSortIcon("num_office")),t(2),d(" ",s(118,103,"FloorNumber")," "),t(2),O(m.getSortIcon("num_etage")),t(2),d(" ",s(122,105,"CreatedBy")," "),t(3),d(" ",s(125,107,"CreatedAt")," "),t(3),d(" ",s(128,109,"Actions")," "),t(3),E((_=s(131,111,m.offices$))?130:132,_),t(7),le(" ",s(138,113,"Showing")," ",((S=s(139,115,m.offices$))==null?null:S.length)||0," ",s(140,117,"entries")," "),t(5),h("length",m.totaElement)("pageSize",m.itemsPerPage)("pageSizeOptions",m.pageArray)("showFirstLastButtons",!0)}},dependencies:[ee,ne,ae,z,ie,R,te,V,Ne,qe,Ue,T,X,L],styles:[".hover-row[_ngcontent-%COMP%]{transition:all .3s ease}.hover-row[_ngcontent-%COMP%]:hover{background-color:#00000005;transform:translateY(-1px);box-shadow:0 2px 4px #0000000d}.badge-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem;border-radius:.375rem}.bg-gradient-info[_ngcontent-%COMP%]{background:linear-gradient(87deg,#11cdef 0,#1171ef)}.bg-gradient-secondary[_ngcontent-%COMP%]{background:linear-gradient(87deg,#6c757d 0,#8fa0a3)}.avatar-initial[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:600;color:#fff;text-transform:uppercase}.badge.bg-gradient-info[_ngcontent-%COMP%]{background:linear-gradient(87deg,#11cdef 0,#1171ef)}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-menu[_ngcontent-%COMP%]{border:none;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border-radius:.5rem}.dropdown-item[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem;transition:all .2s ease}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:translate(2px)}.dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background-color:#fff5f5;color:#dc3545}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1rem;text-align:center}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-weight:500;color:#6c757d}.input-group-text[_ngcontent-%COMP%]{background-color:#f8f9fa;border-color:#dee2e6;color:#6c757d}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#344767;box-shadow:0 0 0 .2rem #34476740}.text-center[_ngcontent-%COMP%]   .fa-door-open[_ngcontent-%COMP%]{opacity:.5;color:#6c757d}.cursor-pointer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .2s ease}.cursor-pointer[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translateY(-1px)}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{border:none}.dropdown-menu[_ngcontent-%COMP%]{min-width:160px}.badge[_ngcontent-%COMP%]{font-size:.7rem}.avatar-xs[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}}.card-header[_ngcontent-%COMP%]   app-custom-spinner[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.mat-paginator[_ngcontent-%COMP%]{background:transparent;border:none}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#344767;border-color:#344767}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#344767;box-shadow:0 0 0 .25rem #34476740}.bg-gradient-primary[_ngcontent-%COMP%]{background:linear-gradient(87deg,#344767 0,#5a6c82)}.btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #34476740}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d;margin-right:.5rem}.fa-door-open[_ngcontent-%COMP%], .fa-building[_ngcontent-%COMP%], .fa-layer-group[_ngcontent-%COMP%]{color:#6c757d}.badge.status-available[_ngcontent-%COMP%]{background-color:#28a745}.badge.status-occupied[_ngcontent-%COMP%]{background-color:#dc3545}.badge.status-maintenance[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.badge[_ngcontent-%COMP%]{transition:all .2s ease}.badge[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.text-xs[_ngcontent-%COMP%]{line-height:1.4}.fas.me-1[_ngcontent-%COMP%]{margin-right:.375rem!important;opacity:.7}"]})};var ya=["singleSelect"];function Ca(o,c){if(o&1&&(n(0,"div",44)(1,"div",2),p(2,"i",45),n(3,"span"),a(4),i()(),p(5,"button",46),i()),o&2){let e=v();t(4),u(e.message)}}function Sa(o,c){o&1&&g(0,Ca,6,1,"div",44),o&2&&E(c.status?0:-1)}function Ea(o,c){if(o&1&&(n(0,"div",20),p(1,"i",47),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("first_name"))," ")}}function Ia(o,c){if(o&1&&(n(0,"div",20),p(1,"i",47),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("last_name"))," ")}}function ka(o,c){if(o&1&&(n(0,"div",20),p(1,"i",47),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("matricule"))," ")}}function Ba(o,c){if(o&1&&(n(0,"div",20),p(1,"i",47),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("fonction"))," ")}}function Fa(o,c){if(o&1&&(n(0,"div",20),p(1,"i",47),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("departement"))," ")}}function Oa(o,c){if(o&1&&(n(0,"ng-option",48)(1,"div",2),p(2,"i",31),n(3,"div")(4,"div",49),a(5),i(),n(6,"small",50),p(7,"i",51),a(8),r(9,"translate"),i()()()()),o&2){let e=c.$implicit;h("value",e.id),t(5),u(e.name),t(3),le(" ",e.num_office," - ",s(9,5,"Floor")," ",e.num_etage," ")}}function wa(o,c){if(o&1&&(n(0,"div",20),p(1,"i",47),a(2),i()),o&2){let e=v();t(2),d(" ",e.getFormControlErrorText(e.employeeForm.get("office_id"))," ")}}function Ma(o,c){o&1&&(n(0,"div",42)(1,"span",52),a(2),r(3,"translate"),i()()),o&2&&(t(2),u(s(3,1,"Loading")))}function Ta(o,c){if(o&1&&p(0,"i",53),o&2){let e=v();O(e.employeeId?"fa-edit":"fa-plus")}}var mt=class o{constructor(c,e,l,m,f,_){this.injector=c;this.languageSservice=e;this.activeModal=l;this.formBuilder=m;this.employeeService=f;this.modalService=_;this.addTagNowRef=this.addCustomItem.bind(this)}realod=new W;singleSelect=new Re;matSelectSearchVersion=nt;selectedOption=null;employeeId;loading$;employeeForm;offices$;btnSubmit=!1;officeCtrl;error$;confirmSubmit$;numEtageCtl;addTagNowRef;ngOnInit(){this.loading$=this.employeeService.loading$,this.offices$=this.employeeService.offices$,this.offices$.subscribe(c=>{}),this.employeeService.getOfficesFullFromServer(),this.initForm()}confirm(){this.activeModal&&this.activeModal.close()}dismiss(){this.activeModal&&this.activeModal.dismiss()}addCustomItem(){let c=this.modalService.open(Ye,{centered:!0,backdrop:"static"});var e;e=c.componentInstance.realod,e.subscribe(l=>{l&&this.employeeService.getOfficesFullFromServer()})}initForm(){this.error$=this.employeeService.error$,this.confirmSubmit$=this.employeeService.confirmSubmit$,this.confirmSubmit$.subscribe(c=>{this.btnSubmit&&c&&(this.realod.emit(!0),this.dismiss())}),this.officeCtrl=this.formBuilder.control(""),this.numEtageCtl=this.formBuilder.control(0,[A.required]),this.employeeForm=this.formBuilder.group({first_name:["",A.required],last_name:["",A.required],matricule:["",A.required],fonction:["",A.required],departement:["",A.required],office_id:["",A.required]}),this.employeeId&&this.employeeService.getEmployeeDetailFromServer(this.employeeId).subscribe(e=>{this.employeeForm.patchValue(e)})}submitForm(){this.employeeForm.valid?(this.btnSubmit=!0,console.log(this.employeeForm.value),this.employeeId?this.employeeService.updateEmployee(this.employeeForm,this.employeeId):this.employeeService.createEmployee(this.employeeForm)):(console.log(this.employeeForm.value),console.log("un bon autre"),this.btnSubmit=!0)}getFormControlErrorText(c){return c?.hasError("required")?"ce champ est r\xE9quis":c?.hasError("email")?"merci d'entre une adresse mail valide":c?.hasError("minlength")?"Ce num\xE9ro de t\xE9l\xE9phone ne contient pas assez de chiffre":c?.hasError("maxlength")?"Ce num\xE9ro de t\xE9l\xE9phone contient trop de chiffre":""}static \u0275fac=function(e){return new(e||o)(C(ht),C(D),C(je,8),C(G),C(P),C(H))};static \u0275cmp=M({type:o,selectors:[["app-create-employee"]],viewQuery:function(e,l){if(e&1&&Y(ya,5),e&2){let m;U(m=K())&&(l.singleSelect=m.first)}},outputs:{realod:"realod"},standalone:!1,decls:120,vars:103,consts:[[1,"modal-content"],[1,"modal-header","bg-gradient-primary","text-white","border-0"],[1,"d-flex","align-items-center"],[1,"icon","icon-shape","icon-sm","bg-white","text-primary","rounded-circle","me-3"],[1,"fas","fa-user"],[1,"modal-title","mb-0","text-white"],[1,"text-white-50","mb-0","text-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"row"],[1,"col-md-6","mb-4"],[1,"form-group"],[1,"form-label","text-dark","font-weight-bold"],[1,"fas","fa-user","text-primary","me-2"],[1,"text-danger"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"fas","fa-id-card","text-muted"],["type","text","id","first_name","formControlName","first_name",1,"form-control",3,"placeholder"],[1,"invalid-feedback","d-block"],["type","text","id","last_name","formControlName","last_name",1,"form-control",3,"placeholder"],[1,"fas","fa-hashtag","text-primary","me-2"],[1,"fas","fa-sort-numeric-up","text-muted"],["type","text","id","matricule","formControlName","matricule",1,"form-control",3,"placeholder"],[1,"fas","fa-briefcase","text-primary","me-2"],[1,"fas","fa-user-tie","text-muted"],["type","text","id","fonction","formControlName","fonction",1,"form-control",3,"placeholder"],[1,"fas","fa-building","text-primary","me-2"],[1,"fas","fa-sitemap","text-muted"],["type","text","id","departement","formControlName","departement",1,"form-control",3,"placeholder"],[1,"fas","fa-door-open","text-primary","me-2"],[1,"position-relative"],["bindLabel","name","bindValue","id","formControlName","office_id",3,"items","addTag","closeOnSelect","searchable","clearable","placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"form-text","text-muted"],[1,"fas","fa-info-circle","me-1"],[1,"modal-footer","bg-light","border-0"],[1,"d-flex","w-100","gap-2"],["type","button",1,"btn","btn-outline-secondary","flex-fill",3,"click"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","flex-fill",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"me-2",3,"class"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"fas","fa-exclamation-circle","me-1"],[3,"value"],[1,"fw-bold"],[1,"text-muted"],[1,"fas","fa-hashtag","me-1"],[1,"visually-hidden"],[1,"me-2"]],template:function(e,l){if(e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"i",4),i(),n(5,"div")(6,"h5",5),a(7),r(8,"translate"),r(9,"translate"),i(),n(10,"p",6),a(11),r(12,"translate"),i()()(),n(13,"button",7),b("click",function(){return l.dismiss()}),i()(),n(14,"div",8),g(15,Sa,1,1),r(16,"async"),n(17,"form",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"label",13),p(22,"i",14),a(23),r(24,"translate"),n(25,"span",15),a(26,"*"),i()(),n(27,"div",16)(28,"span",17),p(29,"i",18),i(),p(30,"input",19),r(31,"translate"),i(),g(32,Ea,3,1,"div",20),i()(),n(33,"div",11)(34,"div",12)(35,"label",13),p(36,"i",14),a(37),r(38,"translate"),n(39,"span",15),a(40,"*"),i()(),n(41,"div",16)(42,"span",17),p(43,"i",18),i(),p(44,"input",21),r(45,"translate"),i(),g(46,Ia,3,1,"div",20),i()(),n(47,"div",11)(48,"div",12)(49,"label",13),p(50,"i",22),a(51),r(52,"translate"),n(53,"span",15),a(54,"*"),i()(),n(55,"div",16)(56,"span",17),p(57,"i",23),i(),p(58,"input",24),r(59,"translate"),i(),g(60,ka,3,1,"div",20),i()(),n(61,"div",11)(62,"div",12)(63,"label",13),p(64,"i",25),a(65),r(66,"translate"),n(67,"span",15),a(68,"*"),i()(),n(69,"div",16)(70,"span",17),p(71,"i",26),i(),p(72,"input",27),r(73,"translate"),i(),g(74,Ba,3,1,"div",20),i()(),n(75,"div",11)(76,"div",12)(77,"label",13),p(78,"i",28),a(79),r(80,"translate"),n(81,"span",15),a(82,"*"),i()(),n(83,"div",16)(84,"span",17),p(85,"i",29),i(),p(86,"input",30),r(87,"translate"),i(),g(88,Fa,3,1,"div",20),i()(),n(89,"div",11)(90,"div",12)(91,"label",13),p(92,"i",31),a(93),r(94,"translate"),n(95,"span",15),a(96,"*"),i()(),n(97,"div",32)(98,"ng-select",33),r(99,"translate"),r(100,"async"),g(101,Oa,10,7,"ng-option",34),r(102,"async"),i()(),g(103,wa,3,1,"div",20),n(104,"div",35),p(105,"i",36),a(106),r(107,"translate"),i()()()()()(),n(108,"div",37)(109,"div",38)(110,"button",39),b("click",function(){return l.dismiss()}),p(111,"i",40),a(112),r(113,"translate"),i(),n(114,"button",41),b("click",function(){return l.submitForm()}),g(115,Ma,4,3,"div",42),r(116,"async"),g(117,Ta,1,2,"i",43),a(118),r(119,"translate"),i()()()()),e&2){let m,f,_,S,oe,Ie,ke,Be,Fe,Oe,we,Me,Te,Qt,Yt,Xt,Wt,Zt,Jt;t(7),I(" ",l.employeeId?"Update":s(8,59,"Create")," ",s(9,61,"Employee")," "),t(4),d(" ",l.employeeId?"ModifyEmployeeDetails":s(12,63,"AddNewEmployeeToSystem")," "),t(4),E((m=s(16,65,l.error$))?15:-1,m),t(2),h("formGroup",l.employeeForm),t(6),d(" ",s(24,67,"FirstName")," "),t(7),w("is-invalid",l.btnSubmit&&((f=l.employeeForm.get("first_name"))==null?null:f.invalid))("is-valid",(_=l.employeeForm.get("first_name"))==null?null:_.valid),F("placeholder",s(31,69,"EnterFirstName")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((S=l.employeeForm.get("first_name"))!=null&&S.invalid)?32:-1),t(5),d(" ",s(38,71,"LastName")," "),t(7),w("is-invalid",l.btnSubmit&&((oe=l.employeeForm.get("last_name"))==null?null:oe.invalid))("is-valid",(Ie=l.employeeForm.get("last_name"))==null?null:Ie.valid),F("placeholder",s(45,73,"EnterLastName")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((ke=l.employeeForm.get("last_name"))!=null&&ke.invalid)?46:-1),t(5),d(" ",s(52,75,"matricule")," "),t(7),w("is-invalid",l.btnSubmit&&((Be=l.employeeForm.get("matricule"))==null?null:Be.invalid))("is-valid",(Fe=l.employeeForm.get("matricule"))==null?null:Fe.valid),F("placeholder",s(59,77,"EnterMatricule")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((Oe=l.employeeForm.get("matricule"))!=null&&Oe.invalid)?60:-1),t(5),d(" ",s(66,79,"fonction")," "),t(7),w("is-invalid",l.btnSubmit&&((we=l.employeeForm.get("fonction"))==null?null:we.invalid))("is-valid",(Me=l.employeeForm.get("fonction"))==null?null:Me.valid),F("placeholder",s(73,81,"EnterPosition")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((Te=l.employeeForm.get("fonction"))!=null&&Te.invalid)?74:-1),t(5),d(" ",s(80,83,"departement")," "),t(7),w("is-invalid",l.btnSubmit&&((Qt=l.employeeForm.get("departement"))==null?null:Qt.invalid))("is-valid",(Yt=l.employeeForm.get("departement"))==null?null:Yt.valid),F("placeholder",s(87,85,"EnterDepartment")),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((Xt=l.employeeForm.get("departement"))!=null&&Xt.invalid)?88:-1),t(5),d(" ",s(94,87,"Office")," "),t(5),w("is-invalid",l.btnSubmit&&((Wt=l.employeeForm.get("office_id"))==null?null:Wt.invalid))("is-valid",(Zt=l.employeeForm.get("office_id"))==null?null:Zt.valid),F("placeholder",s(99,89,"SelectOffice")),h("items",s(100,91,l.offices$))("addTag",l.addTagNowRef)("closeOnSelect",!0)("searchable",!0)("clearable",!0),t(3),h("ngForOf",s(102,93,l.offices$)),t(2),E(l.btnSubmit&&l.employeeForm.invalid&&((Jt=l.employeeForm.get("office_id"))!=null&&Jt.invalid)?103:-1),t(3),d(" ",s(107,95,"SelectOfficeForEmployee")," "),t(6),d(" ",s(113,97,"Cancel")," "),t(2),O(l.employeeId?"btn-warning":"btn-primary"),t(),E(s(116,99,l.loading$)?115:117),t(3),d(" ",l.employeeId?"Update":s(119,101,"Create")," ")}},dependencies:[ve,_e,z,R,be,xe,ye,ze,it,T,L],encapsulation:2})};var Da=(o,c,e,l,m,f)=>({"bg-gradient-success":o,"bg-gradient-warning":c,"bg-gradient-info":e,"bg-gradient-secondary":l,"bg-gradient-primary":m,"bg-gradient-dark":f}),Pa=(o,c)=>c.id;function Aa(o,c){if(o&1&&(n(0,"div",20)(1,"div",4),p(2,"i",21),n(3,"span"),a(4),i()(),p(5,"button",22),i()),o&2){let e=v();t(4),u(e.message)}}function La(o,c){o&1&&g(0,Aa,6,1,"div",20),o&2&&E(c.status?0:-1)}function Va(o,c){o&1&&(n(0,"div",11)(1,"div",23)(2,"span",24),a(3),r(4,"translate"),i()(),n(5,"p",25),a(6),r(7,"translate"),r(8,"translate"),i()()),o&2&&(t(3),d("",s(4,3,"Loading"),"..."),t(3),I("",s(7,5,"Loading")," ",s(8,7,"Immobilisations"),"..."))}function $a(o,c){o&1&&(n(0,"div",45),p(1,"i",46),a(2),r(3,"translate"),i()),o&2&&(t(2),d(" ",s(3,1,"FieldRequired")," "))}function Na(o,c){if(o&1){let e=k();n(0,"div",26)(1,"div",28)(2,"div",39)(3,"label",40),p(4,"i",41),a(5),r(6,"translate"),n(7,"span",42),a(8,"*"),i()(),n(9,"div",32)(10,"span",33),p(11,"i",43),i(),n(12,"ng-select",44),r(13,"translate"),r(14,"async"),b("search",function(m){x(e);let f=v(2);return y(f.onSearchEmployee(m))}),i()(),g(15,$a,4,3,"div",45),i()()()}if(o&2){let e,l,m,f=v(2);t(5),d(" ",s(6,11,"Employee")," "),t(7),w("is-invalid",f.btnSubmit&&((e=f.immoForm.get("employee_id"))==null?null:e.invalid))("is-valid",(l=f.immoForm.get("employee_id"))==null?null:l.valid),F("placeholder",s(13,13,"SelectEmployee")),h("items",s(14,15,f.employees$))("closeOnSelect",!0)("searchable",!0)("clearable",!0),t(3),E(f.btnSubmit&&((m=f.immoForm.get("employee_id"))!=null&&m.invalid)?15:-1)}}function Ra(o,c){if(o&1&&(n(0,"div",4)(1,"div",65)(2,"div",66),a(3),i()(),n(4,"div",67)(5,"span",61),a(6),i(),n(7,"span",63),a(8),i()()()),o&2){let e=v().$implicit;t(3),I(" ",e.employee_immo.employee.first_name.charAt(0),"",e.employee_immo.employee.last_name.charAt(0)," "),t(3),I("",e.employee_immo.employee.first_name," ",e.employee_immo.employee.last_name,""),t(2),u(e.employee_immo.employee.matricule)}}function ja(o,c){o&1&&(n(0,"span",63),p(1,"i",68),a(2),r(3,"translate"),i()),o&2&&(t(2),d("",s(3,1,"Available")," "))}function za(o,c){if(o&1){let e=k();n(0,"tr",52)(1,"td",53)(2,"div",54)(3,"input",55),b("change",function(m){let f=x(e).$implicit,_=v(4);return y(_.onImmobilisationSelect(m,f.id))}),i()()(),n(4,"td")(5,"div",56)(6,"div",57)(7,"h6",58),a(8),i(),n(9,"p",59),a(10),i()()()(),n(11,"td")(12,"span",60),a(13),i()(),n(14,"td")(15,"span",61),a(16),i()(),n(17,"td")(18,"span",62),a(19),r(20,"translate"),i()(),n(21,"td"),g(22,Ra,9,5,"div",4)(23,ja,4,3,"span",63),i(),n(24,"td")(25,"span",64),a(26),r(27,"currency"),i()()()}if(o&2){let e=c.$implicit;t(3),h("value",e.id)("id","immo-"+e.id),t(5),u(e.name),t(2),I("",e.mark," ",e.model,""),t(3),d(" ",e.code," "),t(3),d(" ",e.categorie.name," "),t(2),h("ngClass",Ci(18,Da,e.status==="active",e.status==="broken",e.status==="stock",e.status==="created",e.status==="cession",e.status==="sale")),t(),d(" ",s(20,11,e.status)," "),t(3),E(e.employee_immo!=null&&e.employee_immo.employee?22:23),t(4),d(" ",Se(27,13,e.unit_price*e.quantity,"XAF","symbol","1.0-0")," ")}}function Ga(o,c){if(o&1){let e=k();n(0,"div",47)(1,"table",48)(2,"thead")(3,"tr")(4,"th",49)(5,"input",50,1),b("change",function(m){x(e);let f=v(3);return y(f.toggleSelectAll(m))}),i()(),n(7,"th",51),a(8),r(9,"translate"),i(),n(10,"th",51),a(11),r(12,"translate"),i(),n(13,"th",51),a(14),r(15,"translate"),i(),n(16,"th",51),a(17),r(18,"translate"),i(),n(19,"th",51),a(20),r(21,"translate"),i(),n(22,"th",51),a(23),r(24,"translate"),i()()(),n(25,"tbody"),$(26,za,28,25,"tr",52,Pa),i()()()}if(o&2){let e=v(),l=v(2);t(8),d(" ",s(9,6,"Asset")," "),t(3),d(" ",s(12,8,"Code")," "),t(3),d(" ",s(15,10,"Category")," "),t(3),d(" ",s(18,12,"Status")," "),t(3),d(" ",s(21,14,"CurrentEmployee")," "),t(3),d(" ",s(24,16,"Value")," "),t(3),N(l.filteredImmobilisations||e)}}function qa(o,c){o&1&&(n(0,"div",11)(1,"div",69)(2,"div",70),p(3,"i",71),i()(),n(4,"h6",72),a(5),r(6,"translate"),i(),n(7,"p",73),a(8),r(9,"translate"),i()()),o&2&&(t(5),u(s(6,2,"NoImmobilisationsAvailable")),t(3),u(s(9,4,"NoImmobilisationsForAssignment")))}function Ua(o,c){o&1&&g(0,Ga,28,18,"div",47)(1,qa,10,6,"div",11),o&2&&E(c.length>0?0:1)}function Ka(o,c){o&1&&(n(0,"div",11)(1,"div",23)(2,"span",24),a(3),r(4,"translate"),i()()()),o&2&&(t(3),d("",s(4,1,"Loading"),"..."))}function Ha(o,c){if(o&1&&(n(0,"div",38)(1,"div",4),p(2,"i",74),n(3,"span")(4,"strong"),a(5),i(),a(6),r(7,"translate"),i()()()),o&2){let e=v(2);t(5),u(e.selectedImmobilisations.length),t(),d(" ",s(7,2,"ImmobilisationSelected")," ")}}function Qa(o,c){if(o&1){let e=k();n(0,"form",12),g(1,Na,16,17,"div",26),n(2,"div",27)(3,"div",28)(4,"h6",29),p(5,"i",30),a(6),r(7,"translate"),r(8,"translate"),i(),n(9,"div",31)(10,"div",32)(11,"span",33),p(12,"i",34),i(),n(13,"input",35,0),r(15,"translate"),b("input",function(){x(e);let m=He(14),f=v();return y(f.filterImmobilisations(m.value))}),i()()(),n(16,"div",36)(17,"div",37),g(18,Ua,2,1),r(19,"async"),g(20,Ka,5,3,"div",11),i()(),g(21,Ha,8,4,"div",38),i()()()}if(o&2){let e,l=v();h("formGroup",l.immoForm),t(),E(l.employeeId?-1:1),t(5),I(" ",s(7,7,"Immobilisations")," ",s(8,9,"Available")," "),t(7),F("placeholder",s(15,11,"SearchByNameOrCode")),t(5),E((e=s(19,13,l.immobilisations$))?18:20,e),t(3),E(l.selectedImmobilisations.length>0?21:-1)}}function Ya(o,c){o&1&&(n(0,"div",18)(1,"span",24),a(2),r(3,"translate"),i()()),o&2&&(t(2),d("",s(3,1,"Loading"),"..."))}function Xa(o,c){o&1&&p(0,"i",19)}var at=class o{constructor(c,e,l,m,f){this.activeModal=c;this.employeeService=e;this.languageService=l;this.formBuilder=m;this.immoService=f}reload=new W;immoForm;loading$;error$;employeeId;btnSubmit=!1;confirmSubmit$;immobilisations$;filteredImmobilisations=[];selectedImmobilisations=[];allImmobilisations=[];employees$;confirmSubmit;ngOnInit(){this.confirmSubmit$=this.employeeService.confirmSubmit$,this.confirmSubmit$.subscribe(c=>{this.btnSubmit&&c&&(this.reload.emit(!0),this.dismiss())}),this.immobilisations$=this.immoService.immobilisations$,this.employees$=this.employeeService.employees$,this.loading$=this.employeeService.loading$,this.error$=this.employeeService.error$,this.employeeService.getEmployeeFullFromServer(),this.initForm(),this.loadImmobilisations(),this.immoService.getImmoFullFromServer([et(10),B("not_assigned",this.employeeId)])}initForm(){this.employeeId?this.immoForm=this.formBuilder.group({immobilisations:this.formBuilder.array([])}):this.immoForm=this.formBuilder.group({immobilisations:this.formBuilder.array([]),employee_id:["",A.required]})}confirm(){this.activeModal&&this.activeModal.close()}dismiss(){this.activeModal&&this.activeModal.dismiss()}submitForm(){if(this.selectedImmobilisations.length>0){this.btnSubmit=!0;let c=this.immoForm.get("immobilisations");c.clear(),this.selectedImmobilisations.forEach(e=>{c.push(this.formBuilder.control(e))}),console.log(this.immoForm.value),this.employeeId?this.employeeService.assignImmobilisationToEmployee(this.immoForm.value,this.employeeId):this.employeeService.assignImmobilisationToEmployee(this.immoForm.value,this.immoForm.value.employee_id)}else console.log("Aucune immobilisation s\xE9lectionn\xE9e"),this.btnSubmit=!1}loadImmobilisations(){this.immobilisations$.subscribe(c=>{this.allImmobilisations=c,this.filteredImmobilisations=[...this.allImmobilisations]})}filterImmobilisations(c){this.immoService.getImmoFullFromServer([se(c),B("not_assigned",this.employeeId)])}onImmobilisationSelect(c,e){if(c.target.checked)this.selectedImmobilisations.includes(e)||this.selectedImmobilisations.push(e);else{let m=this.selectedImmobilisations.indexOf(e);m>-1&&this.selectedImmobilisations.splice(m,1)}}toggleSelectAll(c){let e=c.target,l=this.filteredImmobilisations.length>0?this.filteredImmobilisations:this.allImmobilisations;e.checked?l.forEach(m=>{this.selectedImmobilisations.includes(m.id)||this.selectedImmobilisations.push(m.id)}):l.forEach(m=>{let f=this.selectedImmobilisations.indexOf(m.id);f>-1&&this.selectedImmobilisations.splice(f,1)}),this.updateIndividualCheckboxes()}onSearchEmployee(c){this.employeeService.getEmployeeFullFromServer([se(c)])}updateIndividualCheckboxes(){(this.filteredImmobilisations.length>0?this.filteredImmobilisations:this.allImmobilisations).forEach(e=>{let l=document.getElementById(`immo-${e.id}`);l&&(l.checked=this.selectedImmobilisations.includes(e.id))})}static \u0275fac=function(e){return new(e||o)(C(je,8),C(P),C(D),C(G),C(tt))};static \u0275cmp=M({type:o,selectors:[["app-add-immobilisation-to-employee"]],inputs:{employeeId:"employeeId"},outputs:{reload:"reload"},standalone:!1,decls:33,vars:27,consts:[["searchInput",""],["selectAllCheckbox",""],[1,"modal-content"],[1,"modal-header","bg-gradient-primary","text-white","border-0"],[1,"d-flex","align-items-center"],[1,"icon","icon-shape","icon-sm","bg-white","text-primary","rounded-circle","me-3"],[1,"fas","fa-boxes"],[1,"modal-title","mb-0","text-white"],[1,"text-white-50","mb-0","text-sm"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","p-4"],[1,"text-center","py-5"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"modal-footer","border-0","px-4","pb-4"],[1,"d-flex","justify-content-between","w-100"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas","fa-times","me-2"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-check","me-2"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button","data-bs-dismiss","alert",1,"btn-close"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-muted","mt-3"],[1,"row","mb-4"],[1,"row"],[1,"col-12"],[1,"text-dark","font-weight-bold","mb-3"],[1,"fas","fa-list","text-primary","me-2"],[1,"form-group","mb-3"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"fas","fa-search","text-muted"],["type","text",1,"form-control",3,"input","placeholder"],[1,"card","border-light","shadow-sm"],[1,"card-body","p-0"],["role","alert",1,"alert","alert-info","mt-3"],[1,"form-group"],[1,"form-label","text-dark","font-weight-bold"],[1,"fas","fa-user","text-primary","me-2"],[1,"text-danger"],[1,"fas","fa-user","text-muted"],["bindLabel","first_name","bindValue","id","formControlName","employee_id",1,"form-select",3,"search","items","closeOnSelect","searchable","clearable","placeholder"],[1,"invalid-feedback","d-block"],[1,"fas","fa-exclamation-circle","me-1"],[1,"table-responsive"],[1,"table","table-hover","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-3"],["type","checkbox",1,"form-check-input",3,"change"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"border-bottom"],[1,"ps-3"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","value","id"],[1,"d-flex","px-2","py-1"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-0","text-sm","font-weight-bold"],[1,"text-xs","text-muted","mb-0"],[1,"badge","bg-gradient-secondary","font-weight-bold"],[1,"text-xs","font-weight-bold"],[1,"badge",3,"ngClass"],[1,"text-xs","text-secondary"],[1,"text-sm","font-weight-bold"],[1,"avatar","avatar-xs","me-2"],[1,"avatar-initial","rounded-circle","bg-gradient-warning"],[1,"d-flex","flex-column"],[1,"fas","fa-user-plus","me-1"],[1,"avatar","avatar-xl","mx-auto","mb-3"],[1,"avatar-initial","rounded-circle","bg-gradient-light"],[1,"fas","fa-boxes","text-muted","fa-2x"],[1,"text-muted"],[1,"text-sm","text-muted","mb-0"],[1,"fas","fa-info-circle","me-2"]],template:function(e,l){if(e&1&&(n(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),p(4,"i",6),i(),n(5,"div")(6,"h5",7),a(7),r(8,"translate"),i(),n(9,"p",8),a(10),r(11,"translate"),i()()(),n(12,"button",9),b("click",function(){return l.dismiss()}),i()(),n(13,"div",10),g(14,La,1,1),r(15,"async"),g(16,Va,9,9,"div",11),r(17,"async"),g(18,Qa,22,15,"form",12),i(),n(19,"div",13)(20,"div",14)(21,"button",15),r(22,"async"),b("click",function(){return l.dismiss()}),p(23,"i",16),a(24),r(25,"translate"),i(),n(26,"button",17),r(27,"async"),b("click",function(){return l.submitForm()}),g(28,Ya,4,3,"div",18),r(29,"async"),g(30,Xa,1,0,"i",19),a(31),r(32,"translate"),i()()()()),e&2){let m;t(7),d(" ",s(8,9,"AssignAsset")," "),t(3),d(" ",s(11,11,"SelectImmobilisations")," "),t(4),E((m=s(15,13,l.error$))?14:-1,m),t(2),E(s(17,15,l.loading$)?16:18),t(5),h("disabled",s(22,17,l.loading$)),t(3),d(" ",s(25,19,"Cancel")," "),t(2),h("disabled",s(27,21,l.loading$)||l.selectedImmobilisations.length===0||l.btnSubmit),t(2),E(s(29,23,l.loading$)?28:30),t(3),d(" ",s(32,25,"Apply")," ")}},dependencies:[_t,_e,R,be,xe,ye,ze,T,xt,L],styles:["[_nghost-%COMP%]     .modal{z-index:9999!important}[_nghost-%COMP%]     .modal-backdrop{z-index:9998!important}.modal-content[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 10px 40px #0000001a;z-index:10000;position:relative}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff0d}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#5e72e4;border-color:#5e72e4}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#5e72e4;box-shadow:0 0 0 .2rem #5e72e440}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem}.alert-info[_ngcontent-%COMP%]{background-color:#5e72e41a;border-color:#5e72e433;color:#5e72e4}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(87deg,#5e72e4,#825ee4);border-color:#5e72e4}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(87deg,#4c63d2,#7047e0);border-color:#4c63d2}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.avatar-initial[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-weight:600}.table-responsive[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.input-group-text[_ngcontent-%COMP%]{border-color:#ddd}.form-control[_ngcontent-%COMP%]:focus{border-color:#5e72e4;box-shadow:0 0 0 .2rem #5e72e440}.form-select[_ngcontent-%COMP%]:focus{border-color:#5e72e4;box-shadow:0 0 0 .2rem #5e72e440}"]})};var Wa=()=>[],Za=o=>["/admin/employees/fiche-detenteur",o],sn=(o,c)=>c.id;function Ja(o,c){if(o&1&&(n(0,"option",49),a(1),i()),o&2){let e=c.$implicit;h("value",e),t(),u(e)}}function eo(o,c){if(o&1&&(n(0,"option",49),a(1),i()),o&2){let e=c.$implicit;h("value",e),t(),u(e)}}function to(o,c){if(o&1&&(n(0,"option",49),a(1),i()),o&2){let e=c.$implicit;h("value",e.id),t(),I(" ",e.name," - ",e.building.name," ")}}function io(o,c){o&1&&$(0,to,2,3,"option",49,sn),o&2&&N(c)}function no(o,c){o&1&&p(0,"app-custom-spinner")}function ao(o,c){if(o&1){let e=k();n(0,"li")(1,"a",79),b("click",function(){x(e);let m=v().$implicit,f=v(2);return y(f.deleteEmployee(m.id))}),p(2,"i",80),a(3),r(4,"translate"),i()()}o&2&&(t(3),d("",s(4,1,"Delete")," "))}function oo(o,c){if(o&1){let e=k();n(0,"tr",50)(1,"td",51),p(2,"input",40),i(),n(3,"td")(4,"div",52)(5,"div",4)(6,"div",53)(7,"div",54),a(8),i()(),n(9,"div",55)(10,"h6",56),a(11),i(),n(12,"p",57),p(13,"i",58),a(14),i()()()()(),n(15,"td",51)(16,"span",59),a(17),i()(),n(18,"td",60)(19,"span",61),a(20),i()(),n(21,"td",60)(22,"span",62),a(23),i()(),n(24,"td",60)(25,"div",63),p(26,"i",64),n(27,"span",65),a(28),i()()(),n(29,"td",60)(30,"span",62),a(31),r(32,"date"),i()(),n(33,"td",60)(34,"div",66)(35,"button",67),p(36,"i",68),i(),n(37,"ul",69)(38,"li")(39,"a",70),b("click",function(){let m=x(e).$implicit,f=v(2);return y(f.viewDetails(m.id))}),p(40,"i",71),a(41),r(42,"translate"),i()(),n(43,"li")(44,"a",70),b("click",function(){let m=x(e).$implicit,f=v(2);return y(f.updateEmployee(m.id))}),p(45,"i",72),a(46),r(47,"translate"),i()(),n(48,"li")(49,"a",70),b("click",function(){let m=x(e).$implicit,f=v(2);return y(f.openAssignImmobilisationModal(m.id))}),p(50,"i",11),a(51),r(52,"translate"),i()(),n(53,"li")(54,"a",73),p(55,"i",74),a(56,"Fiche D\xE9tenteur "),i()(),n(57,"li")(58,"a",75),p(59,"i",76),a(60),r(61,"translate"),i()(),n(62,"li"),p(63,"hr",77),i(),g(64,ao,5,3,"li",78),i()()()()}if(o&2){let e=c.$implicit,l=v(2);t(8),I(" ",e.first_name.charAt(0),"",e.last_name.charAt(0)," "),t(3),I("",e.first_name," ",e.last_name,""),t(3),d("",e.user.first_name," "),t(3),u(e.matricule),t(3),u(e.fonction),t(3),u(e.departement),t(5),u(e.office.name),t(3),u(j(32,16,e.created_at,"shortDate")),t(10),d("",s(42,19,"View")," "),t(5),d("",s(47,21,"Edit")," "),t(5),d("",s(52,23,"AssignAsset")," "),t(3),h("routerLink",lt(27,Za,e.id)),t(6),d("",s(61,25,"EmployeeCard")," "),t(4),h("ngIf",l.havePermission(l.UserRole.SUPER_ADMIN))}}function ro(o,c){o&1&&$(0,oo,65,29,"tr",50,sn),o&2&&N(c)}function lo(o,c){if(o&1){let e=k();n(0,"tr")(1,"td",81)(2,"div",82),p(3,"i",83),n(4,"h6",84),a(5),r(6,"translate"),i(),n(7,"p",47),a(8),r(9,"translate"),i(),n(10,"button",85),b("click",function(){x(e);let m=v();return y(m.createEmployee())}),p(11,"i",13),a(12),r(13,"translate"),i()()()()}o&2&&(t(5),u(s(6,3,"NoDataFound")),t(3),u(s(9,5,"NoEmployeesAvailable")),t(4),d("",s(13,7,"AddFirst")," "))}var kt=class o extends V{constructor(e,l,m,f,_,S){super();this.languageService=e;this.employeeService=l;this.modalService=m;this.formBuilder=f;this.router=_;this.exportService=S;console.log("init constructor")}loading$;itemsPerPage=10;paginateData$;paginateData;totaElement=0;pageEvent;pageArray=[];itemsPerPage$=new re(this.itemsPerPage);page$=new re(1);employees$;offices$;searchCtrl;departmentCtrl;functionCtrl;officeCtrl;currentSortBy="created_at";sortDirection="desc";availableDepartments=[];availableFunctions=[];ngOnInit(){console.log("init"),this.loading$=this.employeeService.loading$,this.employees$=this.employeeService.employees$,this.offices$=this.employeeService.offices$,this.paginateData$=this.employeeService.paginateData$,this.searchCtrl=this.formBuilder.control(""),this.departmentCtrl=this.formBuilder.control(""),this.functionCtrl=this.formBuilder.control(""),this.officeCtrl=this.formBuilder.control(""),this.paginateData$.subscribe(e=>{this.paginateData=e,this.totaElement=e.total??0,this.changeChoiceItemPage()}),this.employees$.subscribe(e=>{e&&this.extractFilterOptions(e)}),this.employeeService.getEmployeeFromServer({current_page:1,per_page:this.itemsPerPage},[]),this.employeeService.getOfficesFullFromServer(),this.initSearchFilter()}getEmployeeSearchOptions(e=[]){this.employeeService.getEmployeeFromServer(this.paginateData,e)}createEmployee(){let e=this.modalService.open(mt,{centered:!0,backdrop:"static"});var l;l=e.componentInstance.realod,l.subscribe(m=>{m&&this.applyFilters()})}updateEmployee(e){let l=this.modalService.open(mt,{centered:!0,backdrop:"static"});l.componentInstance.employeeId=e;var m;m=l.componentInstance.realod,m.subscribe(f=>{f&&this.applyFilters()})}pageChange(e){return this.paginateData.current_page=e.pageIndex+1,this.paginateData.per_page=e.pageSize,this.applyFilters(),console.log(this.paginateData),e}changeChoiceItemPage(){let e=[];if(console.log(this.pageArray),this.totaElement<=2)console.log("total",this.totaElement),e.push(this.totaElement);else{for(let l=1;l<this.totaElement/2;l++)e.push(l*2);this.totaElement%2>0&&e.push(this.totaElement)}console.log(e),this.pageArray=e}initSearchFilter(){this.searchCtrl.valueChanges.pipe(fe(300),he()).subscribe(()=>{this.applyFilters()}),this.departmentCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.functionCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.officeCtrl.valueChanges.subscribe(()=>{this.applyFilters()})}extractFilterOptions(e){let l=[...new Set(e.map(f=>f.departement).filter(Boolean))];this.availableDepartments=l;let m=[...new Set(e.map(f=>f.fonction).filter(Boolean))];this.availableFunctions=m}applyFilters(){let e=[];this.searchCtrl.value&&e.push(se(this.searchCtrl.value)),this.departmentCtrl.value&&e.push(B("departement",this.departmentCtrl.value)),this.functionCtrl.value&&e.push(B("fonction",this.functionCtrl.value)),this.officeCtrl.value&&e.push(B("office_id",this.officeCtrl.value)),e.push(B("sort_by",this.currentSortBy)),e.push(B("sort_direction",this.sortDirection)),this.getEmployeeSearchOptions(e)}sortBy(e){this.currentSortBy===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=e,this.sortDirection="asc"),this.applyFilters()}getSortIcon(e){return this.currentSortBy!==e?"fa-sort":this.sortDirection==="asc"?"fa-sort-up":"fa-sort-down"}onSearch(e){this.searchCtrl.setValue(e)}onFilterByDepartment(e){this.departmentCtrl.setValue(e)}onFilterByFunction(e){this.functionCtrl.setValue(e)}onFilterByOffice(e){this.officeCtrl.setValue(e)}resetFilters(){this.currentSortBy="created_at",this.sortDirection="desc",this.searchCtrl.setValue(""),this.departmentCtrl.setValue(""),this.functionCtrl.setValue(""),this.officeCtrl.setValue(""),this.applyFilters()}viewDetails(e){this.router.navigate(["/admin/employees/detail",e])}deleteEmployee(e){this.employeeService.deleteEmployee(e)}openAssignImmobilisationModal(e){let l=this.modalService.open(at,{size:"xl",backdrop:"static",keyboard:!1,centered:!0});e&&(l.componentInstance.employeeId=e),l.result.then(m=>{m&&this.applyFilters()}).catch(m=>{console.log("Modal dismissed")})}exportColumns=[{key:"first_name",label:"Pr\xE9nom",translateKey:"export.firstName"},{key:"last_name",label:"Nom",translateKey:"export.lastName"},{key:"matricule",label:"Matricule",translateKey:"export.matricule"},{key:"fonction",label:"Fonction",translateKey:"export.fonction"},{key:"departement",label:"D\xE9partement",translateKey:"export.departement"},{key:"office.name",label:"Bureau",translateKey:"export.office"},{key:"user.email",label:"Email",translateKey:"export.email"},{key:"created_at",label:"Date de Cr\xE9ation",translateKey:"export.createdAt"}];onBeforeExport(e){console.log(`D\xE9but de l'export ${e.format} avec ${e.data.length} \xE9l\xE9ments`),console.log("Donn\xE9es \xE0 exporter:",e.data)}onAfterExport(e){e.success?console.log(`Export ${e.format} r\xE9ussi`):console.error(`Erreur lors de l'export ${e.format}`)}static \u0275fac=function(l){return new(l||o)(C(D),C(P),C(H),C(G),C($e),C(Ge))};static \u0275cmp=M({type:o,selectors:[["app-list-employee"]],standalone:!1,features:[Z],decls:138,vars:122,consts:[["paginator",""],["nameOption","Employee"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[1,"me-2",3,"beforeExport","afterExport","data","columns","filename","title"],[1,"btn","btn-outline-primary","btn-sm","mb-0","me-2",3,"click"],[1,"fas","fa-boxes","me-2"],[1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-plus","me-2"],[1,"col-12"],[1,"card"],[1,"card-body","p-3"],[1,"row","align-items-center"],[1,"col-lg-3","col-md-6","col-12"],[1,"form-group","mb-0"],[1,"form-label","text-xs"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"col-lg-2","col-md-6","col-12"],[1,"form-select",3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-label","text-xs","opacity-0"],[1,"btn","btn-outline-secondary","btn-sm","w-100",3,"click","title"],[1,"fas","fa-undo"],[1,"row"],[1,"card-header","pb-0"],[1,"col-lg-6","col-7"],[1,"mb-0"],[1,"card-body","px-0","pt-0","pb-2"],[1,"table-responsive","p-0"],[1,"table","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-2"],["type","checkbox",1,"form-check-input"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","ps-2","cursor-pointer",3,"click"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[1,"text-center","text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"text-sm","text-secondary"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"],[3,"value"],[1,"hover-row"],[1,"ps-2"],[1,"d-flex","px-2","py-1"],[1,"avatar","avatar-sm","me-3"],[1,"avatar-initial","rounded-circle","bg-gradient-primary"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-0","text-sm"],[1,"text-xs","text-secondary","mb-0"],[1,"fas","fa-user","me-1"],[1,"badge","badge-sm","bg-gradient-secondary"],[1,"text-center"],[1,"text-xs","font-weight-bold"],[1,"text-xs","text-secondary"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fas","fa-door-open","text-primary","me-2"],[1,"text-xs"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-link","text-secondary","p-0","dropdown-toggle"],[1,"fas","fa-ellipsis-v"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fas","fa-eye","me-2"],[1,"fas","fa-edit","me-2"],[1,"dropdown-item",3,"routerLink"],[1,"fas","fa-file-pdf","me-2"],[1,"dropdown-item"],[1,"fas","fa-id-card","me-2"],[1,"dropdown-divider"],[4,"ngIf"],[1,"dropdown-item","text-danger",3,"click"],[1,"fas","fa-trash","me-2"],["colspan","8",1,"text-center","py-4"],[1,"d-flex","flex-column","align-items-center"],[1,"fas","fa-users","text-muted","mb-3",2,"font-size","3rem"],[1,"text-muted","mb-2"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(l,m){if(l&1){let f=k();n(0,"app-base",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),a(5),r(6,"translate"),i(),n(7,"span",6),a(8),r(9,"async"),r(10,"translate"),i()(),n(11,"p",7),a(12),r(13,"translate"),i()(),n(14,"div",8)(15,"app-export-buttons",9),r(16,"async"),b("beforeExport",function(S){return x(f),y(m.onBeforeExport(S))})("afterExport",function(S){return x(f),y(m.onAfterExport(S))}),i(),n(17,"button",10),b("click",function(){return x(f),y(m.openAssignImmobilisationModal())}),p(18,"i",11),a(19),r(20,"translate"),i(),n(21,"button",12),b("click",function(){return x(f),y(m.createEmployee())}),p(22,"i",13),a(23),r(24,"translate"),r(25,"translate"),i()()(),n(26,"div",2)(27,"div",14)(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",19)(33,"label",20),a(34),r(35,"translate"),i(),n(36,"div",21)(37,"span",22),p(38,"i",23),i(),p(39,"input",24),r(40,"translate"),i()()(),n(41,"div",25)(42,"div",19)(43,"label",20),a(44),r(45,"translate"),i(),n(46,"select",26)(47,"option",27),a(48),r(49,"translate"),i(),g(50,Ja,2,2,"option",28),i()()(),n(51,"div",25)(52,"div",19)(53,"label",20),a(54),r(55,"translate"),i(),n(56,"select",26)(57,"option",27),a(58),r(59,"translate"),i(),g(60,eo,2,2,"option",28),i()()(),n(61,"div",18)(62,"div",19)(63,"label",20),a(64),r(65,"translate"),i(),n(66,"select",26)(67,"option",27),a(68),r(69,"translate"),i(),g(70,io,2,0),r(71,"async"),i()()(),n(72,"div",25)(73,"div",19)(74,"label",29),a(75,"Action"),i(),n(76,"button",30),r(77,"translate"),b("click",function(){return x(f),y(m.resetFilters())}),p(78,"i",31),i()()()()()()()(),n(79,"div",32)(80,"div",14)(81,"div",15)(82,"div",33)(83,"div",17)(84,"div",34),g(85,no,1,0,"app-custom-spinner"),r(86,"async"),n(87,"h6",35),a(88),r(89,"translate"),i()()()(),n(90,"div",36)(91,"div",37)(92,"table",38)(93,"thead")(94,"tr")(95,"th",39),p(96,"input",40),i(),n(97,"th",41),b("click",function(){return x(f),y(m.sortBy("first_name"))}),a(98),r(99,"translate"),p(100,"i"),i(),n(101,"th",42),b("click",function(){return x(f),y(m.sortBy("matricule"))}),a(102),r(103,"translate"),p(104,"i"),i(),n(105,"th",43),b("click",function(){return x(f),y(m.sortBy("fonction"))}),a(106),r(107,"translate"),p(108,"i"),i(),n(109,"th",43),b("click",function(){return x(f),y(m.sortBy("departement"))}),a(110),r(111,"translate"),p(112,"i"),i(),n(113,"th",44),a(114),r(115,"translate"),i(),n(116,"th",43),b("click",function(){return x(f),y(m.sortBy("created_at"))}),a(117),r(118,"translate"),p(119,"i"),i(),n(120,"th",44),a(121),r(122,"translate"),i()()(),n(123,"tbody"),g(124,ro,2,0),r(125,"async"),g(126,lo,14,9,"tr"),i()()(),n(127,"div",45)(128,"div",46)(129,"div",4)(130,"span",47),a(131),r(132,"translate"),r(133,"async"),r(134,"translate"),i()()(),n(135,"div",46)(136,"mat-paginator",48,0),b("page",function(S){return x(f),y(m.pageEvent=m.pageChange(S))}),i()()()()()()()()}if(l&2){let f,_,S,oe;t(5),u(s(6,59,"Employees")),t(3),I("",((f=s(9,61,m.employees$))==null?null:f.length)||0," ",s(10,63,"items"),""),t(4),u(s(13,65,"ManageYourEmployees")),t(3),h("data",s(16,67,m.employees$)||J(121,Wa))("columns",m.exportColumns)("filename",m.languageService.instant("export.filename.employees"))("title",m.languageService.instant("export.title.employees")),t(4),d(" ",s(20,69,"AssignAsset")," "),t(4),I(" ",s(24,71,"Add")," ",s(25,73,"Employee")," "),t(11),u(s(35,75,"Search")),t(5),F("placeholder",s(40,77,"SearchByNameOrMatricule")),h("formControl",m.searchCtrl),t(5),u(s(45,79,"Department")),t(2),h("formControl",m.departmentCtrl),t(2),u(s(49,81,"All")),t(2),h("ngForOf",m.availableDepartments),t(4),u(s(55,83,"Function")),t(2),h("formControl",m.functionCtrl),t(2),u(s(59,85,"All")),t(2),h("ngForOf",m.availableFunctions),t(4),u(s(65,87,"Office")),t(2),h("formControl",m.officeCtrl),t(2),u(s(69,89,"All")),t(2),E((_=s(71,91,m.offices$))?70:-1,_),t(6),F("title",s(77,93,"ResetFilters")),t(9),E(s(86,95,m.loading$)?85:-1),t(3),u(s(89,97,"EmployeesList")),t(10),d(" ",s(99,99,"Employee")," "),t(2),Xe("fas ",m.getSortIcon("first_name")," ms-1"),t(2),d(" ",s(103,101,"Matricule")," "),t(2),Xe("fas ",m.getSortIcon("matricule")," ms-1"),t(2),d(" ",s(107,103,"Function")," "),t(2),Xe("fas ",m.getSortIcon("fonction")," ms-1"),t(2),d(" ",s(111,105,"Department")," "),t(2),Xe("fas ",m.getSortIcon("departement")," ms-1"),t(2),d(" ",s(115,107,"Office")," "),t(3),d(" ",s(118,109,"CreatedAt")," "),t(2),Xe("fas ",m.getSortIcon("created_at")," ms-1"),t(2),d(" ",s(122,111,"Actions")," "),t(3),E((S=s(125,113,m.employees$))?124:126,S),t(7),le(" ",s(132,115,"Showing")," ",((oe=s(133,117,m.employees$))==null?null:oe.length)||0," ",s(134,119,"entries")," "),t(5),h("length",m.totaElement)("pageSize",m.itemsPerPage)("pageSizeOptions",m.pageArray)("showFirstLastButtons",!0)}},dependencies:[ve,ee,ne,ae,z,ie,R,te,Je,V,Ne,qe,Ue,T,X,L],encapsulation:2})};var so=o=>["/admin/employees/fiche-detenteur",o],mn=()=>["/admin/employees"],mo=()=>["/admin/immobilisations"],co=o=>({employee_id:o}),po=(o,c)=>c.id;function uo(o,c){o&1&&(n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),p(4,"app-custom-spinner"),n(5,"p",5),a(6),r(7,"translate"),i()()()()()),o&2&&(t(6),u(s(7,1,"LoadingEmployeeDetails")))}function fo(o,c){if(o&1&&(n(0,"div",54)(1,"div",55),p(2,"i",56),i(),n(3,"div")(4,"h6",57),a(5),i(),n(6,"p",58),a(7),r(8,"translate"),i()()(),n(9,"div",1)(10,"div",2)(11,"h6",30),a(12),r(13,"translate"),i()()(),n(14,"div",31)(15,"div",32)(16,"span",33),a(17),r(18,"translate"),i()(),n(19,"div",34)(20,"span",35),a(21),i()()(),n(22,"div",31)(23,"div",32)(24,"span",33),a(25),r(26,"translate"),i()(),n(27,"div",34)(28,"span",35),a(29),r(30,"translate"),i()()(),n(31,"div",31)(32,"div",32)(33,"span",33),a(34),r(35,"translate"),i()(),n(36,"div",34)(37,"span",35),a(38),i()()(),n(39,"div",31)(40,"div",32)(41,"span",33),a(42),r(43,"translate"),i()(),n(44,"div",34)(45,"span",59),a(46),r(47,"translate"),i()()()),o&2){let e=c;t(5),u(e.name),t(2),I("",s(8,14,"Office")," #",e.num_office,""),t(5),d(" ",s(13,16,"LocationDetails")," "),t(5),d("",s(18,18,"Building"),":"),t(4),u(e.building.name),t(4),d("",s(26,20,"Floor"),":"),t(4),I("",s(30,22,"Floor")," ",e.num_etage,""),t(5),d("",s(35,24,"Location"),":"),t(4),I("",e.building.city,", ",e.building.country,""),t(4),d("",s(43,26,"Status"),":"),t(4),u(s(47,28,e.status))}}function ho(o,c){o&1&&(n(0,"div",41),p(1,"i",60),n(2,"p",61),a(3),r(4,"translate"),i(),n(5,"button",62),p(6,"i",63),a(7),r(8,"translate"),i()()),o&2&&(t(3),u(s(4,2,"NoOfficeAssigned")),t(4),d("",s(8,4,"AssignOffice")," "))}function go(o,c){if(o&1&&(n(0,"tr")(1,"td",70)(2,"div",71)(3,"div",72),p(4,"i",73),i(),n(5,"div",74)(6,"h6",75),a(7),i(),n(8,"p",76),a(9),i()()()(),n(10,"td",77)(11,"span",78),a(12),r(13,"translate"),i()()()),o&2){let e=c.$implicit;t(7),u(e.name),t(2),u(e.code),t(2),O("bg-gradient-"+(e.status==="active"?"success":e.status==="broken"?"danger":e.status==="stock"?"warning":"secondary")),t(),d(" ",s(13,5,e.status)," ")}}function vo(o,c){if(o&1){let e=k();n(0,"div",64)(1,"table",65)(2,"tbody"),$(3,go,14,7,"tr",null,po),i()()(),n(5,"div",66)(6,"button",67),p(7,"i",68),a(8),r(9,"translate"),i(),n(10,"button",69),b("click",function(){x(e);let m=v(3);return y(m.openAssignImmobilisationModal())}),p(11,"i",63),a(12),r(13,"translate"),i()()}if(o&2){let e=v();t(3),N(e.immobilisations),t(3),h("routerLink",J(8,mo))("queryParams",lt(9,co,e.id)),t(2),d("",s(9,4,"ViewAllAssets")," "),t(4),d("",s(13,6,"AssignAsset")," ")}}function bo(o,c){if(o&1){let e=k();n(0,"div",41),p(1,"i",79),n(2,"p",61),a(3),r(4,"translate"),i(),n(5,"button",69),b("click",function(){x(e);let m=v(3);return y(m.openAssignImmobilisationModal())}),p(6,"i",63),a(7),r(8,"translate"),i()()}o&2&&(t(3),u(s(4,2,"NoAssetsAssigned")),t(4),d("",s(8,4,"AssignAsset")," "))}function _o(o,c){if(o&1&&(n(0,"div",47)(1,"span",48),p(2,"i",80),i(),n(3,"div",50)(4,"h6",51),a(5),r(6,"translate"),i(),n(7,"p",52),a(8),i()()()),o&2){let e=v();t(5),u(s(6,2,"OfficeAssigned")),t(3),u(e.office.name)}}function xo(o,c){if(o&1&&(n(0,"div",47)(1,"span",48),p(2,"i",81),i(),n(3,"div",50)(4,"h6",51),a(5),r(6,"translate"),i(),n(7,"p",52),a(8),r(9,"translate"),i()()()),o&2){let e=v();t(5),u(s(6,3,"AssetsAssigned")),t(3),I("",e.immobilisations.length," ",s(9,5,"assets"),"")}}function yo(o,c){if(o&1&&(n(0,"div",1)(1,"div",2)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"h6",10),a(7),r(8,"translate"),i(),n(9,"p",11),a(10),r(11,"translate"),i()(),n(12,"div",12)(13,"button",13),p(14,"i",14),a(15," Fiche D\xE9tenteur "),i(),n(16,"button",15),p(17,"i",16),a(18),r(19,"translate"),i()()()()()()(),n(20,"div",1)(21,"div",17)(22,"div",18)(23,"div",19)(24,"h6"),a(25),r(26,"translate"),i()(),n(27,"div",20)(28,"div",21)(29,"div",22)(30,"div",23)(31,"span",24),a(32),i()()(),n(33,"h5",25),a(34),i(),n(35,"p",26),a(36),r(37,"translate"),i(),n(38,"span",27),p(39,"i",28),a(40),r(41,"translate"),i()(),p(42,"hr",29),n(43,"div",1)(44,"div",2)(45,"h6",30),a(46),r(47,"translate"),i()()(),n(48,"div",31)(49,"div",32)(50,"span",33),a(51),r(52,"translate"),i()(),n(53,"div",34)(54,"span",35),a(55),i()()(),n(56,"div",31)(57,"div",32)(58,"span",33),a(59),r(60,"translate"),i()(),n(61,"div",34)(62,"span",35),a(63),r(64,"translate"),i()()(),n(65,"div",31)(66,"div",32)(67,"span",33),a(68),r(69,"translate"),i()(),n(70,"div",34)(71,"span",35),a(72),r(73,"translate"),i()()(),n(74,"div",31)(75,"div",32)(76,"span",33),a(77),r(78,"translate"),i()(),n(79,"div",34)(80,"span",35),a(81),r(82,"date"),i()()(),n(83,"div",36)(84,"div",2)(85,"div",37)(86,"button",38),p(87,"i",39),a(88),r(89,"translate"),i()()()()()()(),n(90,"div",40)(91,"div",18)(92,"div",19)(93,"h6"),a(94),r(95,"translate"),i()(),n(96,"div",20),g(97,fo,48,30)(98,ho,9,6,"div",41),i()()(),n(99,"div",42)(100,"div",18)(101,"div",19)(102,"div",8)(103,"div",43)(104,"h6"),a(105),r(106,"translate"),i()(),n(107,"div",44)(108,"span",45),a(109),i()()()(),n(110,"div",20),g(111,vo,14,11)(112,bo,9,6,"div",41),i()()()(),n(113,"div",36)(114,"div",2)(115,"div",3)(116,"div",19)(117,"h6"),a(118),r(119,"translate"),i()(),n(120,"div",20)(121,"div",46)(122,"div",47)(123,"span",48),p(124,"i",49),i(),n(125,"div",50)(126,"h6",51),a(127),r(128,"translate"),i(),n(129,"p",52),a(130),r(131,"date"),i()()(),g(132,_o,9,4,"div",47)(133,xo,10,7,"div",47),n(134,"div",47)(135,"span",48),p(136,"i",53),i(),n(137,"div",50)(138,"h6",51),a(139),r(140,"translate"),i(),n(141,"p",52),a(142),r(143,"date"),i()()()()()()()()),o&2){let e,l=c,m=v(2);t(7),u(s(8,34,"EmployeeDetails")),t(3),u(s(11,36,"DetailedInformation")),t(3),h("routerLink",lt(81,so,m.employeeId)),t(3),h("routerLink",J(83,mn)),t(2),d(" ",s(19,38,"BackToList")," "),t(7),u(s(26,40,"PROFILEINFORMATION")),t(7),I(" ",l.first_name.charAt(0),"",l.last_name.charAt(0)," "),t(2),I("",l.first_name," ",l.last_name,""),t(2),u(s(37,42,l.fonction)),t(4),d("",s(41,44,"Active")," "),t(6),d(" ",s(47,46,"BASICINFORMATION")," "),t(5),d("",s(52,48,"Matricule"),":"),t(4),u(l.matricule),t(4),d("",s(60,50,"Department"),":"),t(4),u(s(64,52,l.departement)),t(5),d("",s(69,54,"Function"),":"),t(4),u(s(73,56,l.fonction)),t(5),d("",s(78,58,"JoinedDate"),":"),t(4),u(j(82,60,l.created_at,"mediumDate")),t(7),d("",s(89,63,"EditProfile")," "),t(6),u(s(95,65,"OFFICEINFORMATION")),t(3),E((e=l.office)?97:98,e),t(8),u(s(106,67,"ASSIGNEDASSETS")),t(4),u(l.immobilisations.length||0),t(2),E(l.immobilisations&&l.immobilisations.length>0?111:112),t(7),u(s(119,69,"RECENTACTIVITY")),t(9),u(s(128,71,"EmployeeCreated")),t(3),u(j(131,73,l.created_at,"medium")),t(2),E(l.office?132:-1),t(),E(l.immobilisations&&l.immobilisations.length>0?133:-1),t(6),u(s(140,76,"LastUpdated")),t(3),u(j(143,78,l.updated_at,"medium"))}}function Co(o,c){o&1&&(n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",82),p(4,"i",83),n(5,"h5",61),a(6),r(7,"translate"),i(),n(8,"p",84),a(9),r(10,"translate"),i(),n(11,"button",85),p(12,"i",16),a(13),r(14,"translate"),i()()()()()),o&2&&(t(6),u(s(7,4,"EmployeeNotFound")),t(3),u(s(10,6,"EmployeeNotFoundMessage")),t(2),h("routerLink",J(10,mn)),t(2),d("",s(14,8,"BackToEmployees")," "))}function So(o,c){if(o&1&&(g(0,yo,144,84),r(1,"async"),g(2,Co,15,11,"div",1)),o&2){let e,l=v();E((e=s(1,1,l.employeeDetail$))?0:2,e)}}var Bt=class o{constructor(c,e,l,m){this.employeeService=c;this.route=e;this.languageService=l;this.modalService=m}loading$;employeeId;employeeDetail$;ngOnInit(){this.loading$=this.employeeService.loading$,this.employeeId=this.route.snapshot.paramMap.get("id")||void 0,this.employeeId&&(this.employeeDetail$=this.employeeService.getEmployeeDetailFromServer(this.employeeId))}openAssignImmobilisationModal(){if(this.employeeId){let c=this.modalService.open(at,{size:"xl",backdrop:"static",keyboard:!1,centered:!0});c.componentInstance.employeeId=this.employeeId,c.componentInstance.reload.subscribe(l=>{l&&(this.employeeDetail$=this.employeeService.getEmployeeDetailFromServer(this.employeeId))}),c.result.then(l=>{l&&(this.employeeDetail$=this.employeeService.getEmployeeDetailFromServer(this.employeeId))}).catch(l=>{console.log("Modal dismissed")})}}static \u0275fac=function(e){return new(e||o)(C(P),C(Ze),C(D),C(H))};static \u0275cmp=M({type:o,selectors:[["app-detail-employee"]],standalone:!1,decls:4,vars:3,consts:[[1,"container-fluid","py-4"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body","text-center"],[1,"text-muted","mt-3"],[1,"card","mb-4"],[1,"card-header","pb-0","bg-gradient-primary"],[1,"row","align-items-center"],[1,"col-lg-6","col-7"],[1,"mb-0","text-white"],[1,"text-sm","mb-0","text-white","opacity-8"],[1,"col-lg-6","col-5","text-end"],[1,"btn","btn-outline-white","btn-sm","mb-0","me-2",3,"routerLink"],[1,"fas","fa-file-pdf","me-2"],[1,"btn","btn-outline-white","btn-sm","mb-0",3,"routerLink"],[1,"fas","fa-arrow-left","me-2"],[1,"col-xl-4","col-lg-5","col-md-6","col-12"],[1,"card","h-100"],[1,"card-header","pb-0"],[1,"card-body","pt-0"],[1,"text-center"],[1,"avatar","avatar-xl","position-relative","mx-auto","mb-3"],[1,"avatar-initial","rounded-circle","bg-gradient-primary"],[1,"text-white","font-weight-bold"],[1,"mb-1"],[1,"text-sm","text-muted","mb-3"],[1,"badge","bg-gradient-success"],[1,"fas","fa-check","me-1"],[1,"horizontal","dark","my-4"],[1,"text-xs","text-uppercase","text-muted","font-weight-bolder","opacity-7"],[1,"row","mb-2"],[1,"col-5"],[1,"text-xs","font-weight-bold"],[1,"col-7"],[1,"text-xs","text-secondary"],[1,"row","mt-4"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-primary","btn-sm"],[1,"fas","fa-edit","me-2"],[1,"col-xl-4","col-lg-7","col-md-6","col-12"],[1,"text-center","py-4"],[1,"col-xl-4","col-lg-12","col-md-12","col-12"],[1,"col-8"],[1,"col-4","text-end"],[1,"badge","bg-gradient-info"],[1,"timeline","timeline-one-side"],[1,"timeline-block","mb-3"],[1,"timeline-step"],[1,"fas","fa-user-plus","text-success"],[1,"timeline-content"],[1,"text-dark","text-sm","font-weight-bold","mb-0"],[1,"text-secondary","font-weight-bold","text-xs","mt-1","mb-0"],[1,"fas","fa-edit","text-primary"],[1,"d-flex","align-items-center","mb-3"],[1,"avatar","avatar-sm","bg-gradient-info","me-3"],[1,"fas","fa-door-open","text-white"],[1,"mb-0"],[1,"text-xs","text-muted","mb-0"],[1,"badge","badge-sm","bg-gradient-success"],[1,"fas","fa-door-closed","text-muted","mb-3",2,"font-size","2rem"],[1,"text-muted"],[1,"btn","btn-primary","btn-sm"],[1,"fas","fa-plus","me-2"],[1,"table-responsive"],[1,"table","align-items-center","mb-0"],[1,"text-center","mt-3"],[1,"btn","btn-outline-primary","btn-sm","me-2",3,"routerLink","queryParams"],[1,"fas","fa-eye","me-2"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"ps-0"],[1,"d-flex","px-2","py-1"],[1,"avatar","avatar-sm","bg-gradient-secondary","me-3"],[1,"fas","fa-laptop","text-white"],[1,"d-flex","flex-column","justify-content-center"],[1,"mb-0","text-sm"],[1,"text-xs","text-secondary","mb-0"],[1,"text-end"],[1,"badge","badge-sm"],[1,"fas","fa-laptop","text-muted","mb-3",2,"font-size","2rem"],[1,"fas","fa-door-open","text-info"],[1,"fas","fa-laptop","text-warning"],[1,"card-body","text-center","py-5"],[1,"fas","fa-user-times","text-muted","mb-3",2,"font-size","4rem"],[1,"text-secondary"],[1,"btn","btn-primary",3,"routerLink"]],template:function(e,l){e&1&&(n(0,"div",0),g(1,uo,8,3,"div",1),r(2,"async"),g(3,So,3,3),i()),e&2&&(t(),E(s(2,1,l.loading$)?1:3))},dependencies:[Je,Ne,T,X,L],encapsulation:2})};var Eo=(o,c,e,l)=>({"bg-gradient-success":o,"bg-gradient-warning":c,"bg-gradient-info":e,"bg-gradient-secondary":l}),pt=(o,c)=>c.id;function Io(o,c){o&1&&(n(0,"div",2)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"span",9),a(6),r(7,"translate"),i()(),n(8,"p",10),a(9),r(10,"translate"),i()()()()()),o&2&&(t(6),d("",s(7,2,"Loading"),"..."),t(3),u(s(10,4,"LoadingEmployeeDetails")))}function ko(o,c){if(o&1&&(n(0,"span",15),a(1),i()),o&2){let e=c;t(),I("",e.first_name," ",e.last_name,"")}}function Bo(o,c){if(o&1&&(n(0,"option",52),a(1),i()),o&2){let e=c.$implicit;h("value",e.id),t(),u(e.name)}}function Fo(o,c){o&1&&$(0,Bo,2,2,"option",52,pt),o&2&&N(c)}function Oo(o,c){if(o&1&&(n(0,"option",52),a(1),i()),o&2){let e=c.$implicit;h("value",e.id),t(),u(e.name)}}function wo(o,c){o&1&&$(0,Oo,2,2,"option",52,pt),o&2&&N(c)}function Mo(o,c){if(o&1&&(n(0,"option",52),a(1),i()),o&2){let e=c.$implicit;h("value",e.id),t(),u(e.raison_social)}}function To(o,c){o&1&&$(0,Mo,2,2,"option",52,pt),o&2&&N(c)}function Do(o,c){if(o&1){let e=k();n(0,"tr")(1,"td")(2,"input",54),b("change",function(){let m=x(e).$implicit,f=v(3);return y(f.toggleImmobilisationSelection(m))}),i()(),n(3,"td")(4,"div",55)(5,"h6",56),a(6),i(),n(7,"p",57),a(8),i()()(),n(9,"td")(10,"span",58),a(11),i()(),n(12,"td")(13,"span",59),a(14),i()(),n(15,"td")(16,"span",60),a(17),i()(),n(18,"td")(19,"span",61),a(20),r(21,"currency"),i()(),n(22,"td")(23,"span",62),a(24),r(25,"date"),i()()()}if(o&2){let e=c.$implicit,l=v(3);w("table-active",l.isImmobilisationSelected(e)),t(2),h("checked",l.isImmobilisationSelected(e)),t(4),u(e.name),t(2),I("",e.mark," ",e.model,""),t(3),u(e.code),t(3),u(e.categorie.name),t(2),h("ngClass",yi(20,Eo,e.status==="active",e.status==="broken",e.status==="stock",e.status==="created")),t(),d(" ",l.getStatusLabel(e.status)," "),t(3),d(" ",Se(21,12,e.unit_price*e.quantity,"XAF","symbol","1.0-0")," "),t(4),d(" ",j(25,17,e.created_at,"dd/MM/yyyy")," ")}}function Po(o,c){o&1&&$(0,Do,26,25,"tr",53,pt),o&2&&N(c)}function Ao(o,c){if(o&1){let e=k();n(0,"div",11)(1,"div",12)(2,"div",13)(3,"h4",14),a(4),r(5,"translate"),i(),g(6,ko,2,2,"span",15),r(7,"async"),i(),n(8,"p",16),a(9),r(10,"translate"),i()(),n(11,"div",17)(12,"button",18),b("click",function(){x(e);let m=v();return y(m.togglePreview())}),p(13,"i",19),a(14),r(15,"translate"),r(16,"translate"),i(),n(17,"button",20),b("click",function(){x(e);let m=v();return y(m.printOrDownloadPDF())}),p(18,"i",21),a(19),r(20,"translate"),i()()(),n(21,"div",11)(22,"div",5)(23,"div",6)(24,"div",22)(25,"h6",23),a(26),r(27,"translate"),i()(),n(28,"div",24)(29,"div",25)(30,"div",26)(31,"label",27),a(32),r(33,"translate"),i(),p(34,"input",28),i(),n(35,"div",26)(36,"label",27),a(37),r(38,"translate"),i(),n(39,"select",29)(40,"option",30),a(41),r(42,"translate"),i(),n(43,"option",31),a(44),r(45,"translate"),i(),n(46,"option",32),a(47),r(48,"translate"),i(),n(49,"option",33),a(50),r(51,"translate"),i()()(),n(52,"div",26)(53,"label",27),a(54),r(55,"translate"),i(),n(56,"select",29)(57,"option",30),a(58),r(59,"translate"),i(),g(60,Fo,2,0),r(61,"async"),i()(),n(62,"div",26)(63,"label",27),a(64),r(65,"translate"),i(),n(66,"select",29)(67,"option",30),a(68),r(69,"translate"),i(),g(70,wo,2,0),r(71,"async"),i()(),n(72,"div",26)(73,"label",27),a(74),r(75,"translate"),i(),n(76,"select",29)(77,"option",30),a(78),r(79,"translate"),i(),g(80,To,2,0),r(81,"async"),i()(),n(82,"div",34)(83,"button",35),b("click",function(){x(e);let m=v();return y(m.resetFilters())}),p(84,"i",36),a(85),r(86,"translate"),i()()(),n(87,"div",25)(88,"div",5)(89,"div",37)(90,"div")(91,"button",38),b("click",function(){x(e);let m=v();return y(m.selectAllDisplayedImmobilisations())}),p(92,"i",39),a(93),r(94,"translate"),i(),n(95,"button",40),b("click",function(){x(e);let m=v();return y(m.selectAllImmobilisations())}),p(96,"i",41),a(97),r(98,"translate"),i(),n(99,"button",42),b("click",function(){x(e);let m=v();return y(m.clearSelection())}),p(100,"i",43),a(101),r(102,"translate"),i()(),n(103,"div",44)(104,"span",45),a(105),r(106,"translate"),i(),n(107,"span",46),a(108),r(109,"translate"),r(110,"currency"),i()()()()(),n(111,"div",47)(112,"table",48)(113,"thead")(114,"tr")(115,"th",49),p(116,"input",50),i(),n(117,"th",51),b("click",function(){x(e);let m=v();return y(m.sortBy("name"))}),a(118),r(119,"translate"),p(120,"i"),i(),n(121,"th",51),b("click",function(){x(e);let m=v();return y(m.sortBy("code"))}),a(122),r(123,"translate"),p(124,"i"),i(),n(125,"th",51),b("click",function(){x(e);let m=v();return y(m.sortBy("categorie.name"))}),a(126),r(127,"translate"),p(128,"i"),i(),n(129,"th",51),b("click",function(){x(e);let m=v();return y(m.sortBy("status"))}),a(130),r(131,"translate"),p(132,"i"),i(),n(133,"th",51),b("click",function(){x(e);let m=v();return y(m.sortBy("unit_price"))}),a(134),r(135,"translate"),p(136,"i"),i(),n(137,"th",51),b("click",function(){x(e);let m=v();return y(m.sortBy("created_at"))}),a(138),r(139,"translate"),p(140,"i"),i()()(),n(141,"tbody"),g(142,Po,2,0),r(143,"async"),i()()()()()()()}if(o&2){let e,l,m,f,_,S=v();t(4),u(s(5,54,"HolderSheet")),t(2),E((e=s(7,56,S.employee$))?6:-1,e),t(3),d(" ",s(10,58,"GenerateHolderSheet")," "),t(5),d(" ",S.showPreview?s(15,60,"Hide"):s(16,62,"Preview")," "),t(3),h("disabled",S.selectedImmobilisations.length===0),t(2),d(" ",s(20,64,"PrintPDF")," "),t(7),u(s(27,66,"FiltersAndSelection")),t(6),u(s(33,68,"Search")),t(2),h("formControl",S.searchCtrl),t(3),u(s(38,70,"Status")),t(2),h("formControl",S.statusCtrl),t(2),u(s(42,72,"All")),t(3),u(s(45,74,"Active")),t(3),u(s(48,76,"broken")),t(3),u(s(51,78,"stock")),t(4),u(s(55,80,"Category")),t(2),h("formControl",S.categorieCtrl),t(2),u(s(59,82,"All")),t(2),E((l=s(61,84,S.categories$))?60:-1,l),t(4),u(s(65,86,"Structure")),t(2),h("formControl",S.structureCtrl),t(2),u(s(69,88,"All")),t(2),E((m=s(71,90,S.structures$))?70:-1,m),t(4),u(s(75,92,"Supplier")),t(2),h("formControl",S.fournisseurCtrl),t(2),u(s(79,94,"All")),t(2),E((f=s(81,96,S.fournisseurs$))?80:-1,f),t(5),d("",s(86,98,"Reset")," "),t(8),d("",s(94,100,"SelectDisplayed")," "),t(4),d("",s(98,102,"SelectAll")," "),t(4),d("",s(102,104,"UnselectAll")," "),t(4),I(" ",S.selectedImmobilisations.length," ",s(106,106,"Selected")," "),t(3),I(" ",s(109,108,"Total"),": ",Se(110,110,S.totalValue,"XAF","symbol","1.0-0")," "),t(10),d(" ",s(119,115,"Immobilisation")," "),t(2),O(S.getSortIcon("name")),t(2),d(" ",s(123,117,"Code")," "),t(2),O(S.getSortIcon("code")),t(2),d(" ",s(127,119,"Category")," "),t(2),O(S.getSortIcon("categorie.name")),t(2),d(" ",s(131,121,"Status")," "),t(2),O(S.getSortIcon("status")),t(2),d(" ",s(135,123,"Value")," "),t(2),O(S.getSortIcon("unit_price")),t(2),d(" ",s(139,125,"Date")," "),t(2),O(S.getSortIcon("created_at")),t(2),E((_=s(143,127,S.immobilisations$))?142:-1,_)}}function Lo(o,c){if(o&1&&(n(0,"tr")(1,"td"),a(2),i(),n(3,"td"),a(4),i(),n(5,"td"),a(6),i(),n(7,"td"),a(8),i(),n(9,"td"),a(10),i(),n(11,"td"),a(12),i(),n(13,"td"),a(14),r(15,"currency"),i(),n(16,"td"),a(17),r(18,"currency"),i(),n(19,"td"),a(20),i()()),o&2){let e=c.$implicit,l=c.$index,m=v(2);t(2),u(l+1),t(2),u(e.code),t(2),u(e.name),t(2),I("",e.mark," ",e.model,""),t(2),u(e.categorie.name),t(2),u(e.quantity),t(2),u(Se(15,10,e.unit_price,"XAF","symbol","1.0-0")),t(3),u(Se(18,15,e.unit_price*e.quantity,"XAF","symbol","1.0-0")),t(3),u(m.getStatusLabel(e.status))}}function Vo(o,c){if(o&1&&(n(0,"div",4)(1,"div",63)(2,"div",11)(3,"div",64)(4,"div",65)(5,"p",66),a(6,"REPUBLIQUE DU CAMEROUN"),i(),n(7,"p",67),a(8,"PAIX-TRAVAIL-PATRIE"),i(),p(9,"div",68),n(10,"p",69),a(11,"PORT AUTONOME DE DOUALA"),i(),p(12,"div",68),i()(),n(13,"div",70),p(14,"img",71),i(),n(15,"div",64)(16,"div",72)(17,"p",66),a(18,"REPUBLIC OF CAMEROON"),i(),n(19,"p",67),a(20,"PEACE-WORK-FATHERLAND"),i(),p(21,"div",68),n(22,"p",69),a(23,"PORT AUTHORITY OF DOUALA"),i(),p(24,"div",68),i()()(),n(25,"div",73)(26,"div",74)(27,"h4",75),a(28),r(29,"translate"),i(),n(30,"h5",76),a(31),r(32,"translate"),i()()()(),n(33,"div",77)(34,"div",2)(35,"div",78)(36,"p")(37,"strong"),a(38),r(39,"translate"),i(),a(40),i(),n(41,"p")(42,"strong"),a(43),r(44,"translate"),i(),a(45),r(46,"date"),i()(),n(47,"div",79)(48,"p")(49,"strong"),a(50),r(51,"translate"),i(),a(52),i(),n(53,"p")(54,"strong"),a(55),r(56,"translate"),i(),a(57),r(58,"currency"),i()()()(),n(59,"div",80)(60,"h5",81),a(61),r(62,"translate"),i(),n(63,"div",2)(64,"div",78)(65,"p")(66,"strong"),a(67),r(68,"translate"),i(),a(69),i(),n(70,"p")(71,"strong"),a(72),r(73,"translate"),i(),a(74),i(),n(75,"p")(76,"strong"),a(77),r(78,"translate"),i(),a(79),i(),n(80,"p")(81,"strong"),a(82),r(83,"translate"),i(),a(84),i()(),n(85,"div",78)(86,"p")(87,"strong"),a(88,"Email:"),i(),a(89),i(),n(90,"p")(91,"strong"),a(92),r(93,"translate"),i(),a(94),r(95,"translate"),i(),n(96,"p")(97,"strong"),a(98),r(99,"translate"),i(),a(100),r(101,"translate"),i(),n(102,"p")(103,"strong"),a(104),r(105,"translate"),i(),a(106),i()()()(),n(107,"div",82)(108,"h5",81),a(109),r(110,"translate"),i(),n(111,"table",83)(112,"thead")(113,"tr")(114,"th"),a(115),r(116,"translate"),i(),n(117,"th"),a(118),r(119,"translate"),i(),n(120,"th"),a(121),r(122,"translate"),i(),n(123,"th"),a(124),r(125,"translate"),i(),n(126,"th"),a(127),r(128,"translate"),i(),n(129,"th"),a(130),r(131,"translate"),i(),n(132,"th"),a(133),r(134,"translate"),i(),n(135,"th"),a(136),r(137,"translate"),i(),n(138,"th"),a(139),r(140,"translate"),i()()(),n(141,"tbody"),$(142,Lo,21,20,"tr",null,pt),i(),n(144,"tfoot")(145,"tr",84)(146,"td",85)(147,"strong"),a(148,"TOTAL"),i()(),n(149,"td")(150,"strong"),a(151),i()(),n(152,"td",86)(153,"strong"),a(154),r(155,"currency"),i()(),p(156,"td"),i()()()(),n(157,"div",87)(158,"div",88)(159,"div",89)(160,"div",90)(161,"p",91),a(162),r(163,"translate"),i(),p(164,"div",92),n(165,"p",93),a(166),i()()(),n(167,"div",89)(168,"div",90)(169,"p",91),a(170),r(171,"translate"),i(),p(172,"div",92),n(173,"p",93),a(174,"________________________"),i()()()()(),n(175,"div",94)(176,"p",95)(177,"small"),a(178," (1) Le mat\xE9riel ne doit pas \xEAtre d\xE9plac\xE9 ni par le d\xE9tenteur ni par une tierce personne sans l\u2019avis de la structure en charge du patrimoine. En cas de changement de poste, Le d\xE9tenteur du mat\xE9riel ci-dessus d\xE9crit devra aviser le Service de la Comptabilit\xE9 Patrimoniale pour la mise \xE0 jour de la fiche de d\xE9tenteur "),i()()()()),o&2){let e=c,l=v();t(28),u(s(29,43,"HolderSheetTitle")),t(3),u(s(32,45,"ImmobilisationAssignment")),t(7),d("",s(39,47,"SheetNumber"),":"),t(2),d(" ",l.getFicheNumber(),""),t(3),d("",s(44,49,"PrintDate"),":"),t(2),d(" ",j(46,51,l.currentDate,"dd/MM/yyyy"),""),t(5),d("",s(51,54,"NumberOfItems"),":"),t(2),d(" ",l.selectedImmobilisations.length,""),t(3),d("",s(56,56,"TotalValue"),":"),t(2),d(" ",Se(58,58,l.totalValue,"XAF","symbol","1.0-0"),""),t(4),u(s(62,63,"HolderInformation")),t(6),d("",s(68,65,"FullName"),":"),t(2),I(" ",e.first_name," ",e.last_name,""),t(3),d("",s(73,67,"EmployeeId"),":"),t(2),d(" ",e.matricule,""),t(3),d("",s(78,69,"Position"),":"),t(2),d(" ",e.fonction,""),t(3),d("",s(83,71,"Department"),":"),t(2),d(" ",e.departement,""),t(5),d(" ",e.user.email,""),t(3),d("",s(93,73,"Office"),":"),t(2),d(" ",e.office&&e.office.name||s(95,75,"NotAssigned"),""),t(4),d("",s(99,77,"Building"),":"),t(2),d(" ",e.office&&e.office.building&&e.office.building.name||s(101,79,"NotSpecified"),""),t(4),d("",s(105,81,"Floor"),":"),t(2),d(" ",e.office.num_etage,""),t(3),u(s(110,83,"AssignedImmobilisations")),t(6),u(s(116,85,"Number")),t(3),u(s(119,87,"Code")),t(3),u(s(122,89,"Designation")),t(3),u(s(125,91,"BrandModel")),t(3),u(s(128,93,"Category")),t(3),u(s(131,95,"Quantity")),t(3),u(s(134,97,"UnitValue")),t(3),u(s(137,99,"TotalValue")),t(3),u(s(140,101,"Status")),t(3),N(l.selectedImmobilisations),t(9),u(l.totalQuantity),t(3),u(Se(155,103,l.totalValue,"XAF","symbol","1.0-0")),t(8),u(s(163,108,"TheHolder")),t(4),I("",e.first_name," ",e.last_name,""),t(4),u(s(171,110,"AssetManager"))}}var Ft=class o{constructor(c,e,l,m,f){this.languageService=c;this.employeeService=e;this.immoService=l;this.route=m;this.formBuilder=f}loading$;error$;immobilisations$;categories$;structures$;fournisseurs$;employees$;employee$;employeeId;searchCtrl;statusCtrl;structureCtrl;categorieCtrl;fournisseurCtrl;listImmobilisationStatusEnum=Ui;currentSortBy="created_at";sortDirection="desc";startDate="";endDate="";selectedImmobilisations=[];currentDate=new Date;showPreview=!1;totalValue=0;totalQuantity=0;ngOnInit(){this.immobilisations$=this.immoService.immobilisations$,this.categories$=this.immoService.categories$,this.structures$=this.immoService.structures$,this.fournisseurs$=this.immoService.fournisseurs$,this.employees$=this.employeeService.employees$,this.loading$=this.employeeService.loading$,this.error$=this.employeeService.error$,this.employeeId=this.route.snapshot.paramMap.get("id")||void 0,this.employeeId&&(this.employee$=this.employeeService.getEmployeeDetailFromServer(this.employeeId),this.employee$.subscribe()),this.immoService.getImmoFullFromServer([B("employee_id",this.employeeId),et(50)]),this.immoService.getCategoriesFullFromServer(),this.immoService.getStructuresFullFromServer(),this.immoService.getFournisseursFullFromServer(),this.initSearchForm(),this.immobilisations$.subscribe(c=>{this.calculateStatistics()})}initSearchForm(){this.searchCtrl=this.formBuilder.control(""),this.statusCtrl=this.formBuilder.control(""),this.structureCtrl=this.formBuilder.control(""),this.categorieCtrl=this.formBuilder.control(""),this.fournisseurCtrl=this.formBuilder.control(""),this.searchCtrl.valueChanges.pipe(fe(300),he()).subscribe(()=>{this.applyFilters()}),this.statusCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.structureCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.categorieCtrl.valueChanges.subscribe(()=>{this.applyFilters()}),this.fournisseurCtrl.valueChanges.subscribe(()=>{this.applyFilters()})}calculateStatistics(){this.totalValue=this.selectedImmobilisations.reduce((c,e)=>c+e.unit_price*e.quantity,0),this.totalQuantity=this.selectedImmobilisations.reduce((c,e)=>c+e.quantity,0)}toggleImmobilisationSelection(c){let e=this.selectedImmobilisations.findIndex(l=>l.id===c.id);e>-1?this.selectedImmobilisations.splice(e,1):this.selectedImmobilisations.push(c),this.calculateStatistics()}isImmobilisationSelected(c){return this.selectedImmobilisations.some(e=>e.id===c.id)}selectAllImmobilisations(){let c=[B("employee_id",this.employeeId),et(1e3)];this.immoService.getImmoFullFromServer(c),this.immobilisations$.subscribe(e=>{this.selectedImmobilisations=[...e],this.calculateStatistics()})}clearSelection(){this.selectedImmobilisations=[],this.calculateStatistics()}togglePreview(){this.showPreview=!this.showPreview}printOrDownloadPDF(){window.print()}getFicheNumber(){return`FD-${this.currentDate.getFullYear().toString()+(this.currentDate.getMonth()+1).toString().padStart(2,"0")+this.currentDate.getDate().toString().padStart(2,"0")}-${this.employeeId?.substring(0,6).toUpperCase()||"XXXX"}`}getStatusLabel(c){return{active:"Actif",broken:"En panne",stock:"En stock",created:"Cr\xE9\xE9",cession:"Cession",sale:"Vendu"}[c]||c}resetFilters(){this.startDate="",this.endDate="",this.currentSortBy="created_at",this.sortDirection="desc",this.searchCtrl.setValue(""),this.statusCtrl.setValue(""),this.structureCtrl.setValue(""),this.categorieCtrl.setValue(""),this.fournisseurCtrl.setValue(""),this.applyFilters()}selectAllDisplayedImmobilisations(){this.immobilisations$.subscribe(c=>{c.forEach(e=>{this.isImmobilisationSelected(e)||this.selectedImmobilisations.push(e)}),this.calculateStatistics()})}sortBy(c){this.currentSortBy===c?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=c,this.sortDirection="asc"),this.applyFilters()}getSortIcon(c){return this.currentSortBy!==c?"fas fa-sort text-muted":this.sortDirection==="asc"?"fas fa-sort-up text-primary":"fas fa-sort-down text-primary"}getStatusBadgeClass(c){switch(c.toLowerCase()){case"active":return"bg-gradient-success";case"broken":return"bg-gradient-danger";case"stock":return"bg-gradient-info";case"created":return"bg-gradient-secondary";case"cession":return"bg-gradient-warning";case"sale":return"bg-gradient-primary";default:return"bg-gradient-secondary"}}applyFilters(){let c=[];this.employeeId&&c.push(B("employee_id",this.employeeId)),this.searchCtrl.value&&c.push(se(this.searchCtrl.value)),this.categorieCtrl.value&&c.push(B("categorie_id",this.categorieCtrl.value)),this.statusCtrl.value&&c.push(B("status",this.statusCtrl.value)),this.fournisseurCtrl.value&&c.push(B("fournisseur_id",this.fournisseurCtrl.value)),this.structureCtrl.value&&c.push(B("structure_id",this.structureCtrl.value)),this.startDate&&c.push(B("start_date",this.startDate)),this.endDate&&c.push(B("end_date",this.endDate)),c.push(B("sort_by",this.currentSortBy)),c.push(B("sort_direction",this.sortDirection)),c.push(et(100)),this.immoService.getImmoFullFromServer(c)}static \u0275fac=function(e){return new(e||o)(C(D),C(P),C(tt),C(Ze),C(G))};static \u0275cmp=M({type:o,selectors:[["app-generer-fiche-detenteur"]],standalone:!1,decls:8,vars:8,consts:[[1,"container-fluid","py-4"],[1,"no-print"],[1,"row"],["id","ficheDetenteur",1,"print-section"],[1,"fiche-container"],[1,"col-12"],[1,"card"],[1,"card-body","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-muted","mt-3"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[1,"btn","btn-outline-primary","btn-sm","me-2",3,"click"],[1,"fas","fa-eye","me-2"],[1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"fas","fa-print","me-2"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"row","mb-3"],[1,"col-lg-2","col-md-4","col-6"],[1,"form-label","text-xs"],["type","text","placeholder","Nom, code...",1,"form-control","form-control-sm",3,"formControl"],[1,"form-select","form-select-sm",3,"formControl"],["value",""],["value","active"],["value","broken"],["value","stock"],[1,"col-lg-2","col-md-4","col-6","d-flex","align-items-end"],[1,"btn","btn-outline-secondary","btn-sm","w-100",3,"click"],[1,"fas","fa-undo","me-1"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-success","btn-sm","me-2",3,"click"],[1,"fas","fa-check","me-1"],[1,"btn","btn-info","btn-sm","me-2",3,"click"],[1,"fas","fa-check-double","me-1"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fas","fa-times","me-1"],[1,"text-end"],[1,"badge","bg-gradient-primary"],[1,"badge","bg-gradient-success","ms-2"],[1,"table-responsive"],[1,"table","table-hover","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],["type","checkbox",1,"form-check-input"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7","cursor-pointer",3,"click"],[3,"value"],[3,"table-active"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"d-flex","flex-column"],[1,"mb-0","text-sm","font-weight-bold"],[1,"text-xs","text-muted","mb-0"],[1,"badge","bg-gradient-secondary"],[1,"text-xs"],[1,"badge",3,"ngClass"],[1,"text-sm","font-weight-bold"],[1,"text-xs","text-muted"],[1,"fiche-header"],[1,"col-3"],[1,"header-left"],[1,"header-country"],[1,"header-motto"],[1,"separator-line-small"],[1,"header-org"],[1,"col-6","text-center"],["src","/assets/img/logo-port.png","alt","Logo PAD",1,"fiche-logo-center"],[1,"header-right"],[1,"row","mt-4"],[1,"col-12","text-center"],[1,"fiche-title"],[1,"fiche-subtitle"],[1,"fiche-info","mb-4"],[1,"col-6"],[1,"col-6","text-end"],[1,"fiche-employee","mb-4"],[1,"section-title"],[1,"fiche-immobilisations"],[1,"fiche-table"],[1,"total-row"],["colspan","5"],["colspan","2"],[1,"fiche-signatures","mt-5"],[1,"d-flex","justify-content-between"],[1,"col-4","text-center"],[1,"signature-box"],[1,"signature-title"],[1,"signature-line"],[1,"signature-name"],[1,"fiche-footer","mt-4"],[1,"text-center"]],template:function(e,l){if(e&1&&(n(0,"div",0)(1,"div",1),g(2,Io,11,6,"div",2),r(3,"async"),g(4,Ao,144,129),i(),n(5,"div",3),g(6,Vo,179,112,"div",4),r(7,"async"),i()()),e&2){let m;t(2),E(s(3,4,l.loading$)?2:4),t(3),w("d-none",!l.showPreview),t(),E((m=s(7,6,l.employee$))?6:-1,m)}},dependencies:[_t,ne,ae,z,ie,R,te,T,xt,X,L],styles:[".fiche-container[_ngcontent-%COMP%]{background:#fff;max-width:1200px;margin:0 auto;padding:20px;box-shadow:0 0 20px #0000001a;border:1px solid #ddd;font-family:Arial,sans-serif;line-height:1.3;font-size:12px}.fiche-header[_ngcontent-%COMP%]{border-bottom:2px solid #2e5596;padding-bottom:15px;margin-bottom:20px}.fiche-logo-center[_ngcontent-%COMP%]{max-height:100px;max-width:100%;object-fit:contain}.header-left[_ngcontent-%COMP%], .header-right[_ngcontent-%COMP%]{font-size:11px;line-height:1.2;text-align:center}.header-country[_ngcontent-%COMP%]{font-weight:700;color:#2e5596;margin-bottom:2px;font-size:12px}.header-motto[_ngcontent-%COMP%]{font-weight:500;color:#666;margin-bottom:8px;font-size:10px}.separator-line-small[_ngcontent-%COMP%]{height:1px;background-color:#ccc;margin:6px 0}.header-org[_ngcontent-%COMP%]{font-weight:700;color:#2e5596;margin-bottom:2px;font-size:11px}.header-abbr[_ngcontent-%COMP%]{font-weight:600;color:#2e5596;margin-bottom:8px;font-size:11px}.header-direction[_ngcontent-%COMP%], .header-department[_ngcontent-%COMP%], .header-office[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:8px;font-size:10px}.fiche-title[_ngcontent-%COMP%]{color:#2e5596;font-size:1.8rem;font-weight:700;margin:20px 0 5px;text-transform:uppercase;letter-spacing:1px}.fiche-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1.2rem;font-weight:500;margin:5px 0 0;text-transform:uppercase;letter-spacing:.5px}.fiche-logo[_ngcontent-%COMP%]{max-height:60px;width:auto}.fiche-title[_ngcontent-%COMP%]{color:#5e72e4;font-size:1.6rem;font-weight:700;margin:0;text-transform:uppercase;letter-spacing:1px}.fiche-subtitle[_ngcontent-%COMP%]{color:#666;font-size:1rem;margin:3px 0 0;font-weight:400}.fiche-info[_ngcontent-%COMP%]{background:#f8f9fa;padding:10px;border-radius:3px;border-left:3px solid #5e72e4;margin-bottom:15px}.fiche-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3px 0;font-size:.9rem}.section-title[_ngcontent-%COMP%]{color:#2e5596;font-size:1rem;font-weight:700;text-transform:uppercase;border-bottom:1.5px solid #2e5596;padding-bottom:3px;margin-bottom:10px;letter-spacing:.5px}.fiche-employee[_ngcontent-%COMP%]{background:#fff;padding:12px;border:1px solid #dee2e6;border-radius:3px;margin-bottom:15px}.fiche-employee[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:.9rem}.fiche-employee[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#495057;font-weight:600}.fiche-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;font-size:.9rem}.fiche-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:8px 6px;text-align:left;vertical-align:middle;line-height:1.3}.fiche-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#5e72e4;color:#fff;font-weight:700;text-align:center;font-size:.85rem;text-transform:uppercase;padding:10px 6px}.fiche-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f8f9fa}.fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){text-align:center;font-weight:700;width:4%}.fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:12%;text-align:center;font-family:monospace;font-weight:700;font-size:.8rem}.fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:20%}.fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:15%}.fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:12%}.fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){width:8%;text-align:center}.fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7), .fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(8){text-align:right;font-weight:700;width:12%}.fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(9){width:8%;text-align:center}.fiche-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{background:#5e72e4!important;color:#fff;font-weight:700}.fiche-table[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#4c63d2;padding:12px 6px}.fiche-signatures[_ngcontent-%COMP%]{margin-top:50px;page-break-inside:avoid}.signature-box[_ngcontent-%COMP%]{padding:20px 10px}.signature-section[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:space-between;align-items:flex-start;min-height:120px}.signature-box[_ngcontent-%COMP%]{flex:1;text-align:center;padding:20px;margin:0 15px;border:2px solid #5e72e4;border-radius:8px;background:#fafafa;min-height:100px}.signature-title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:15px;color:#5e72e4;font-size:1rem;text-transform:uppercase}.signature-line[_ngcontent-%COMP%]{border-top:2px solid #333;margin-top:50px;padding-top:8px;font-size:.9rem;color:#666}.signature-name[_ngcontent-%COMP%]{font-weight:700;margin:5px 0;color:#495057}.signature-date[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;margin:5px 0}.fiche-footer[_ngcontent-%COMP%]{border-top:2px solid #5e72e4;padding-top:20px;margin-top:40px;text-align:center}.fiche-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#495057;font-size:.9rem;line-height:1.5;font-weight:500}.table-active[_ngcontent-%COMP%]{background-color:#5e72e41a!important}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem}@media (max-width: 768px){.fiche-container[_ngcontent-%COMP%]{padding:15px}.fiche-title[_ngcontent-%COMP%]{font-size:1.5rem}.fiche-subtitle[_ngcontent-%COMP%]{font-size:1rem}.fiche-table[_ngcontent-%COMP%]{font-size:.75rem}.fiche-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fiche-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px}}.print-section[_ngcontent-%COMP%]{border:1px solid #ddd;margin-top:20px}.form-control-sm[_ngcontent-%COMP%], .form-select-sm[_ngcontent-%COMP%]{font-size:.8rem;padding:.25rem .5rem}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:.25rem}.print-section[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.print-section.d-none[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px)}.print-section[_ngcontent-%COMP%]:not(.d-none){opacity:1;transform:translateY(0)}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.cursor-pointer[_ngcontent-%COMP%]:hover{background-color:#5e72e41a}"]})};var $o=()=>[],No=()=>[5,10,25,50];function Ro(o,c){if(o&1){let e=k();n(0,"div",4)(1,"button",46),b("click",function(){x(e);let m=v();return y(m.closeScan())}),a(2),r(3,"translate"),i()()}o&2&&(t(2),d(" ",s(3,1,"close scan barcode")," "))}function jo(o,c){if(o&1){let e=k();n(0,"div",4)(1,"button",46),b("click",function(){x(e);let m=v();return y(m.scanCodeBarre())}),p(2,"i",47),a(3),r(4,"translate"),i()()}o&2&&(t(3),d(" ",s(4,1,"scan a barcode")," "))}function zo(o,c){if(o&1&&(n(0,"option",48),a(1),i()),o&2){let e=c.$implicit;h("value",e.id),t(),le(" ",e.first_name," ",e.last_name," - ",e.matricule," ")}}function Go(o,c){if(o&1&&(n(0,"option",48),a(1),i()),o&2){let e=c.$implicit;h("value",e.id),t(),le(" ",e.first_name," ",e.last_name," - ",e.matricule," ")}}function qo(o,c){o&1&&(n(0,"tr")(1,"td",49)(2,"div",50)(3,"span",51),a(4),r(5,"translate"),i()(),n(6,"span",52),a(7),r(8,"translate"),i()()()),o&2&&(t(4),d("",s(5,2,"Loading"),"..."),t(3),d("",s(8,4,"Loading"),"..."))}function Uo(o,c){o&1&&(n(0,"tr")(1,"td",49),p(2,"i",53),n(3,"p",54),a(4),r(5,"translate"),i()()()),o&2&&(t(4),u(s(5,1,"NoTransfersFound")))}function Ko(o,c){if(o&1&&(n(0,"div")(1,"span",57),a(2),i(),p(3,"br"),n(4,"span",60),a(5),i()()),o&2){let e=v().$implicit;t(2),I(" ",e.last_employee.first_name," ",e.last_employee.last_name," "),t(3),u(e.last_employee.matricule)}}function Ho(o,c){o&1&&(n(0,"span",64),a(1),r(2,"translate"),i()),o&2&&(t(),u(s(2,1,"NotSpecified")))}function Qo(o,c){if(o&1){let e=k();n(0,"tr",55),b("click",function(){let m=x(e).$implicit,f=v();return y(f.goToDetail(m))}),n(1,"td",56)(2,"span",57),a(3),r(4,"date"),i()(),n(5,"td",56)(6,"div",5)(7,"div",58),p(8,"i",59),i(),n(9,"div")(10,"span",57),a(11),i(),p(12,"br"),n(13,"span",60),a(14),i()()()(),n(15,"td",56),g(16,Ko,6,3,"div",43)(17,Ho,3,3,"span",61),i(),n(18,"td",56)(19,"div")(20,"span",57),a(21),i(),p(22,"br"),n(23,"span",60),a(24),i()()(),n(25,"td",56)(26,"span"),a(27),r(28,"translate"),r(29,"translate"),i()(),n(30,"td",56)(31,"span",29),a(32),r(33,"translate"),i()(),n(34,"td",56)(35,"div",5)(36,"button",62),r(37,"translate"),b("click",function(m){let f=x(e).$implicit;return v().goToDetail(f),y(m.stopPropagation())}),p(38,"i",63),i()()()()}if(o&2){let e=c.$implicit;t(3),d(" ",j(4,13,e.transfer_date,"short")," "),t(8),d(" ",e.immobilisation.code," "),t(3),u(e.immobilisation.name),t(2),h("ngIf",e.last_employee),t(),h("ngIf",!e.last_employee),t(4),I(" ",e.employee.first_name," ",e.employee.last_name," "),t(3),u(e.employee.matricule),t(2),O(e.status?"badge badge-sm bg-gradient-success":"badge badge-sm bg-gradient-secondary"),t(),d(" ",e.status?s(28,16,"Active"):s(29,18,"Inactive")," "),t(5),u(e.comment||s(33,20,"-")),t(4),F("title",s(37,22,"ViewDetails"))}}function Yo(o,c){if(o&1){let e=k();n(0,"div",65)(1,"div",66)(2,"div",67)(3,"div",5)(4,"span",68),a(5),r(6,"translate"),r(7,"async"),r(8,"translate"),r(9,"async"),r(10,"translate"),r(11,"async"),r(12,"translate"),i()()(),n(13,"div",67)(14,"mat-paginator",69,0),b("page",function(m){x(e);let f=v();return y(f.pageEvent=f.pageChange(m))}),i()()()()}if(o&2){let e,l=v();t(5),vi(" ",s(6,11,"Showing")," ",((e=s(7,13,l.paginateData$))==null?null:e.current_page)||0," ",s(8,15,"to")," ",((e=s(9,17,l.paginateData$))==null?null:e.per_page)||0," ",s(10,19,"of")," ",((e=s(11,21,l.paginateData$))==null?null:e.total)||0," ",s(12,23,"entries")," "),t(9),h("length",l.totaElement)("pageSize",l.itemsPerPage)("pageSizeOptions",J(25,No))("showFirstLastButtons",!0)}}var Ot=class o extends V{constructor(e,l,m,f,_,S){super();this.languageService=e;this.employeeService=l;this.modalService=m;this.formBuilder=f;this.router=_;this.exportService=S}loading$;itemsPerPage=10;pageArray=[];paginateData$;paginateData;totaElement=0;pageEvent;transfers$;employees$;searchCtrl;fromEmployeeCtrl;toEmployeeCtrl;statusCtrl;currentSortBy="created_at";sortDirection="desc";barcodeScanner;isActiveScan=!1;currentCodeBare="";ngOnInit(){this.loading$=this.employeeService.loading$,this.paginateData$=this.employeeService.paginateData$,this.transfers$=this.employeeService.transfers$,this.transfers$.subscribe(e=>{this.isActiveScan&&e.length==1?(this.isActiveScan=!1,this.barcodeScanner.stop(),this.employeeService.setSnackMesage("Immobilisation trouv\xE9e : "+e[0].immobilisation.name)):this.isActiveScan&&this.currentCodeBare.length==11&&(this.isActiveScan=!1,this.barcodeScanner.stop(),this.employeeService.setSnackMesage("Aucune immobilisation trouv\xE9e pour le code barre : "+this.currentCodeBare))}),this.employees$=this.employeeService.employees$,this.searchCtrl=this.formBuilder.control(""),this.fromEmployeeCtrl=this.formBuilder.control(""),this.toEmployeeCtrl=this.formBuilder.control(""),this.statusCtrl=this.formBuilder.control(""),this.searchCtrl.valueChanges.pipe(fe(300),he()).subscribe(()=>{this.onSearch()}),this.fromEmployeeCtrl.valueChanges.subscribe(()=>{this.onSearch()}),this.toEmployeeCtrl.valueChanges.subscribe(()=>{this.onSearch()}),this.statusCtrl.valueChanges.subscribe(()=>{this.onSearch()}),this.paginateData$.subscribe(e=>{this.paginateData=e,this.totaElement=e.total??0,this.changeChoiceItemPage()}),this.employeeService.getEmployeeFromServer(),this.onSearch()}onStarted(e){console.log("started :",e)}getSearchOptions(){let e=[];return this.searchCtrl.value&&e.push(B("search",this.searchCtrl.value)),this.fromEmployeeCtrl.value&&e.push(B("last_employee_id",this.fromEmployeeCtrl.value)),this.toEmployeeCtrl.value&&e.push(B("employee_id",this.toEmployeeCtrl.value)),this.statusCtrl.value!==""&&e.push(B("status",this.statusCtrl.value)),e}onSearch(){this.paginateData.current_page=1,this.employeeService.getTransfersFromServer(this.paginateData,this.getSearchOptions())}sortBy(e){this.currentSortBy===e?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.currentSortBy=e,this.sortDirection="asc"),this.onSearch()}getSortIcon(e){return this.currentSortBy===e?this.sortDirection==="asc"?"fas fa-sort-up":"fas fa-sort-down":"fas fa-sort"}goToDetail(e){this.router.navigate(["/admin/employees/transfers/detail",e.id])}onValueChanges(e){console.log("valueChanges :",e.codeResult.code),e.codeResult.code.length==11&&(this.currentCodeBare=e.codeResult.code,console.log("valueChanges 2 : ",e.codeResult.code),this.searchCtrl.setValue(e.codeResult.code),this.onSearch())}scanCodeBarre(){console.log("Barcode scanner started"),this.barcodeScanner&&typeof this.barcodeScanner.start=="function"&&(this.barcodeScanner.start(),this.isActiveScan=!0)}closeScan(){this.isActiveScan=!1,this.barcodeScanner&&this.barcodeScanner.stop()}trackByTransferId(e,l){return l.id}pageChange(e){return this.paginateData.current_page=e.pageIndex+1,this.paginateData.per_page=e.pageSize,this.itemsPerPage=e.pageSize,this.employeeService.getTransfersFromServer(this.paginateData,this.getSearchOptions()),e}exportColumns=[{key:"immobilisation.name",label:"Immobilisation",translateKey:"export.immobilisationName"},{key:"immobilisation.code_barre",label:"Code Barre",translateKey:"export.barcode"},{key:"fromEmployee.first_name",label:"Employ\xE9 Exp\xE9diteur (Pr\xE9nom)",translateKey:"export.fromEmployeeFirstName"},{key:"fromEmployee.last_name",label:"Employ\xE9 Exp\xE9diteur (Nom)",translateKey:"export.fromEmployeeLastName"},{key:"toEmployee.first_name",label:"Employ\xE9 Destinataire (Pr\xE9nom)",translateKey:"export.toEmployeeFirstName"},{key:"toEmployee.last_name",label:"Employ\xE9 Destinataire (Nom)",translateKey:"export.toEmployeeLastName"},{key:"status",label:"Statut",translateKey:"export.status"},{key:"transferred_at",label:"Date de Transfert",translateKey:"export.transferredAt"},{key:"user.first_name",label:"Cr\xE9\xE9 par (Pr\xE9nom)",translateKey:"export.createdByFirstName"},{key:"user.last_name",label:"Cr\xE9\xE9 par (Nom)",translateKey:"export.createdByLastName"},{key:"created_at",label:"Date de Cr\xE9ation",translateKey:"export.createdAt"}];onBeforeExport(e){console.log(`D\xE9but de l'export ${e.format} avec ${e.data.length} \xE9l\xE9ments`),console.log("Donn\xE9es \xE0 exporter:",e.data)}onAfterExport(e){e.success?console.log(`Export ${e.format} r\xE9ussi`):console.error(`Erreur lors de l'export ${e.format}`)}changeChoiceItemPage(){let e=[];if(console.log(this.pageArray),this.totaElement<=2)console.log("total",this.totaElement),e.push(this.totaElement);else{for(let l=1;l<this.totaElement/2;l++)e.push(l*2);this.totaElement%2>0&&e.push(this.totaElement)}console.log(e),this.pageArray=e}static \u0275fac=function(l){return new(l||o)(C(D),C(P),C(H),C(G),C($e),C(Ge))};static \u0275cmp=M({type:o,selectors:[["app-list-transfer-immo-employee"]],viewQuery:function(l,m){if(l&1&&Y(St,5),l&2){let f;U(f=K())&&(m.barcodeScanner=f.first)}},standalone:!1,features:[Z],decls:141,vars:121,consts:[["paginator",""],["nameOption","Transfer"],[1,"row","mb-4"],["class","col-lg-8 col-md-6 col-12",4,"ngIf"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"mb-0","text-dark"],[1,"badge","bg-gradient-info","ms-2"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[3,"beforeExport","afterExport","data","columns","filename","title"],["routerLink","/admin/employees/transfers/create",1,"btn","btn-primary","btn-sm","mb-0"],[1,"fas","fa-plus","me-2"],[1,"col-12"],[1,"card"],[1,"card-body","p-3"],[1,"row","align-items-center"],[1,"col-lg-3","col-md-6","col-12"],[1,"form-group","mb-0"],[1,"form-label","text-xs"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text",1,"form-control",3,"placeholder","formControl"],[1,"form-select",3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","true"],["value","false"],[1,"text-dark"],[1,"d-flex","justify-content-center"],["type","code_128",3,"valueChanges","started"],[1,"row"],[1,"card-header","pb-0"],[1,"d-lg-flex"],[1,"mb-0"],[1,"text-sm","mb-0"],[1,"card-body","px-0","pb-0"],[1,"table-responsive"],["id","products-list",1,"table","table-flush"],[1,"thead-light"],[1,"text-uppercase","text-secondary","text-xxs","font-weight-bolder","opacity-7"],[1,"btn","btn-sm","p-0","text-secondary",3,"click"],[4,"ngIf"],["class","cursor-pointer hover-shadow",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","card-footer",4,"ngIf"],[1,"btn","btn-outline-info","btn-sm","mb-1","me-2",3,"click"],[1,"fas","fa-barcode","me-2"],[3,"value"],["colspan","7",1,"text-center","py-4"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"visually-hidden"],[1,"ms-2"],[1,"fas","fa-exchange-alt","fa-3x","text-secondary","mb-3"],[1,"text-secondary","mb-0"],[1,"cursor-pointer","hover-shadow",3,"click"],[1,"text-sm"],[1,"text-dark","font-weight-bold"],[1,"avatar","avatar-sm","bg-gradient-primary","rounded-circle","me-3"],[1,"fas","fa-box","text-white"],[1,"text-xs","text-secondary"],["class","text-muted",4,"ngIf"],[1,"btn","btn-link","text-secondary","ps-1","pe-1","mb-0",3,"click","title"],[1,"fas","fa-eye","text-xs"],[1,"text-muted"],[1,"card-footer"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"text-sm","text-secondary"],["aria-label","Select page",3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"]],template:function(l,m){if(l&1&&(n(0,"app-base",1)(1,"div",2),g(2,Ro,4,3,"div",3)(3,jo,5,3,"div",3),i(),n(4,"div",2)(5,"div",4)(6,"div",5)(7,"h4",6),a(8),r(9,"translate"),i(),n(10,"span",7),a(11),r(12,"async"),r(13,"translate"),i()(),n(14,"p",8),a(15),r(16,"translate"),i()(),n(17,"div",9)(18,"app-export-buttons",10),r(19,"async"),r(20,"translate"),r(21,"translate"),b("beforeExport",function(_){return m.onBeforeExport(_)})("afterExport",function(_){return m.onAfterExport(_)}),i(),n(22,"button",11),p(23,"i",12),a(24),r(25,"translate"),i()()(),n(26,"div",2)(27,"div",13)(28,"div",14)(29,"div",15)(30,"div",16)(31,"div",17)(32,"div",18)(33,"label",19),a(34),r(35,"translate"),i(),n(36,"div",20)(37,"span",21),p(38,"i",22),i(),p(39,"input",23),r(40,"translate"),i()()(),n(41,"div",17)(42,"div",18)(43,"label",19),a(44),r(45,"translate"),i(),n(46,"select",24)(47,"option",25),a(48),r(49,"translate"),i(),g(50,zo,2,4,"option",26),r(51,"async"),i()()(),n(52,"div",17)(53,"div",18)(54,"label",19),a(55),r(56,"translate"),i(),n(57,"select",24)(58,"option",25),a(59),r(60,"translate"),i(),g(61,Go,2,4,"option",26),r(62,"async"),i()()(),n(63,"div",17)(64,"div",18)(65,"label",19),a(66),r(67,"translate"),i(),n(68,"select",24)(69,"option",25),a(70),r(71,"translate"),i(),n(72,"option",27),a(73),r(74,"translate"),i(),n(75,"option",28),a(76),r(77,"translate"),i()()()()()()()()(),n(78,"div",2)(79,"div",13)(80,"div",14)(81,"div",15)(82,"h6",29),a(83),r(84,"translate"),i(),n(85,"div",30)(86,"barcode-scanner-livestream",31),b("valueChanges",function(_){return m.onValueChanges(_)})("started",function(_){return m.onStarted(_)}),i()()()()()(),n(87,"div",32)(88,"div",13)(89,"div",14)(90,"div",33)(91,"div",34)(92,"div")(93,"h5",35),a(94),r(95,"translate"),i(),n(96,"p",36),a(97),r(98,"translate"),i()()()(),n(99,"div",37)(100,"div",38)(101,"table",39)(102,"thead",40)(103,"tr")(104,"th",41)(105,"button",42),b("click",function(){return m.sortBy("transfer_date")}),a(106),r(107,"translate"),p(108,"i"),i()(),n(109,"th",41),a(110),r(111,"translate"),i(),n(112,"th",41),a(113),r(114,"translate"),i(),n(115,"th",41),a(116),r(117,"translate"),i(),n(118,"th",41)(119,"button",42),b("click",function(){return m.sortBy("status")}),a(120),r(121,"translate"),p(122,"i"),i()(),n(123,"th",41),a(124),r(125,"translate"),i(),n(126,"th",41),a(127),r(128,"translate"),i()()(),n(129,"tbody"),g(130,qo,9,6,"tr",43),r(131,"async"),g(132,Uo,6,3,"tr",43),r(133,"async"),r(134,"async"),g(135,Qo,39,24,"tr",44),r(136,"async"),i()()()(),g(137,Yo,16,26,"div",45),r(138,"async"),r(139,"async"),r(140,"async"),i()()()()),l&2){let f,_;t(2),h("ngIf",m.isActiveScan),t(),h("ngIf",!m.isActiveScan),t(5),u(s(9,46,"AssetTransfers")),t(3),I("",((f=s(12,48,m.transfers$))==null?null:f.length)||0," ",s(13,50,"items"),""),t(4),u(s(16,52,"ManageAssetTransfers")),t(3),h("data",s(19,54,m.transfers$)||J(120,$o))("columns",m.exportColumns)("filename",s(20,56,"export.filename.transfers"))("title",s(21,58,"export.title.transfers")),t(6),d(" ",s(25,60,"CreateTransfer")," "),t(10),u(s(35,62,"Search")),t(5),F("placeholder",s(40,64,"SearchByAssetCode")),h("formControl",m.searchCtrl),t(5),u(s(45,66,"FromEmployee")),t(2),h("formControl",m.fromEmployeeCtrl),t(2),u(s(49,68,"All")),t(2),h("ngForOf",s(51,70,m.employees$)),t(5),u(s(56,72,"ToEmployee")),t(2),h("formControl",m.toEmployeeCtrl),t(2),u(s(60,74,"All")),t(2),h("ngForOf",s(62,76,m.employees$)),t(5),u(s(67,78,"Status")),t(2),h("formControl",m.statusCtrl),t(2),u(s(71,80,"All")),t(3),u(s(74,82,"Active")),t(3),u(s(77,84,"Inactive")),t(7),u(s(84,86,"ScanBarcode")),t(11),u(s(95,88,"TransfersList")),t(3),u(s(98,90,"ViewAllAssetTransfers")),t(9),d(" ",s(107,92,"TransferDate")," "),t(2),O(m.getSortIcon("transfer_date")),t(2),d(" ",s(111,94,"Asset")," "),t(3),d(" ",s(114,96,"FromEmployee")," "),t(3),d(" ",s(117,98,"ToEmployee")," "),t(4),d(" ",s(121,100,"Status")," "),t(2),O(m.getSortIcon("status")),t(2),d(" ",s(125,102,"Comment")," "),t(3),d(" ",s(128,104,"Actions")," "),t(3),h("ngIf",s(131,106,m.loading$)),t(2),h("ngIf",!s(133,108,m.loading$)&&((_=s(134,110,m.transfers$))==null?null:_.length)===0),t(3),h("ngForOf",s(136,112,m.transfers$))("ngForTrackBy",m.trackByTransferId),t(2),h("ngIf",!s(138,114,m.loading$)&&s(139,116,m.transfers$)&&s(140,118,m.transfers$).length>0)}},dependencies:[ve,ee,ne,ae,z,ie,R,te,Je,V,qe,Ue,St,T,X,L],encapsulation:2})};function Xo(o,c){if(o&1&&(n(0,"ng-option",42)(1,"div",3),p(2,"i",43),n(3,"div")(4,"div",44),a(5),i(),n(6,"small",26),p(7,"i",45),a(8),i()()()()),o&2){let e=c.$implicit;h("value",e.id),t(5),I("",e.code," - ",e.name,""),t(3),I(" ",e.mark," - ",e.model," ")}}function Wo(o,c){o&1&&(n(0,"small"),a(1),r(2,"translate"),i()),o&2&&(t(),u(s(2,1,"AssetRequired")))}function Zo(o,c){if(o&1&&(n(0,"div",46),g(1,Wo,3,3,"small",47),i()),o&2){let e=v();t(),h("ngIf",e.immobilisationCtrl.errors==null?null:e.immobilisationCtrl.errors.required)}}function Jo(o,c){if(o&1&&(n(0,"ng-option",42)(1,"div",3),p(2,"i",48),n(3,"div")(4,"div",44),a(5),i(),n(6,"small",26),p(7,"i",49),a(8),i()()()()),o&2){let e=c.$implicit;h("value",e.id),t(5),I("",e.first_name," ",e.last_name,""),t(3),I(" ",e.matricule," - ",e.fonction," ")}}function er(o,c){if(o&1&&(n(0,"ng-option",42)(1,"div",3),p(2,"i",50),n(3,"div")(4,"div",44),a(5),i(),n(6,"small",26),p(7,"i",49),a(8),i()()()()),o&2){let e=c.$implicit;h("value",e.id),t(5),I("",e.first_name," ",e.last_name,""),t(3),I(" ",e.matricule," - ",e.fonction," ")}}function tr(o,c){o&1&&(n(0,"small"),a(1),r(2,"translate"),i()),o&2&&(t(),u(s(2,1,"ToEmployeeRequired")))}function ir(o,c){if(o&1&&(n(0,"div",46),g(1,tr,3,3,"small",47),i()),o&2){let e=v();t(),h("ngIf",e.toEmployeeCtrl.errors==null?null:e.toEmployeeCtrl.errors.required)}}function nr(o,c){o&1&&p(0,"span",51)}function ar(o,c){o&1&&p(0,"i",52)}var wt=class o extends V{constructor(e,l,m,f,_,S){super();this.languageService=e;this.employeeService=l;this.immoService=m;this.formBuilder=f;this.router=_;this.modalService=S}loading$;transferForm;employees$;immobilisations$;confirmSubmit$;immobilisationCtrl;fromEmployeeCtrl;toEmployeeCtrl;commentCtrl;ngOnInit(){this.loading$=this.employeeService.loading$,this.employees$=this.employeeService.employees$,this.immobilisations$=this.immoService.immobilisations$,this.confirmSubmit$=this.employeeService.confirmSubmit$,this.initForm(),this.loadData(),this.confirmSubmit$.subscribe(e=>{e&&this.router.navigate(["/admin/employees/transfers"])})}initForm(){this.immobilisationCtrl=this.formBuilder.control("",[A.required]),this.fromEmployeeCtrl=this.formBuilder.control("",[A.required]),this.toEmployeeCtrl=this.formBuilder.control("",[A.required]),this.commentCtrl=this.formBuilder.control(""),this.transferForm=this.formBuilder.group({immobilisation_id:this.immobilisationCtrl,from_employee_id:this.fromEmployeeCtrl,to_employee_id:this.toEmployeeCtrl,comment:this.commentCtrl}),this.fromEmployeeCtrl.valueChanges.subscribe(e=>{this.immoService.getImmoFullFromServer([B("employee_id",e)])})}loadData(){this.employeeService.getEmployeeFromServer()}onSubmit(){this.transferForm.valid?this.employeeService.createTransfer(this.transferForm):this.markFormGroupTouched(this.transferForm)}markFormGroupTouched(e){Object.keys(e.controls).forEach(l=>{e.get(l)?.markAsTouched()})}goBack(){this.router.navigate(["/admin/employees/transfers"])}static \u0275fac=function(l){return new(l||o)(C(D),C(P),C(tt),C(G),C($e),C(H))};static \u0275cmp=M({type:o,selectors:[["app-transfer-immo-employee"]],standalone:!1,features:[Z],decls:108,vars:107,consts:[["nameOption","CreateTransfer"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"btn","btn-link","text-dark","p-0","me-3",3,"click"],[1,"fas","fa-arrow-left","fa-lg"],[1,"mb-0","text-dark"],[1,"text-sm","text-secondary","mb-0"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"mb-0"],[1,"text-sm","mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"col-md-6","mb-3"],[1,"form-label"],[1,"text-danger"],["bindLabel","name","bindValue","id","formControlName","immobilisation_id",3,"items","closeOnSelect","searchable","clearable","placeholder"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["bindLabel","first_name","bindValue","id","formControlName","from_employee_id",3,"items","closeOnSelect","searchable","clearable","placeholder"],[1,"form-text","text-muted"],["bindLabel","first_name","bindValue","id","formControlName","to_employee_id",3,"items","closeOnSelect","searchable","clearable","placeholder"],[1,"col-12","mb-3"],[1,"text-muted"],["formControlName","comment","rows","3",1,"form-control",3,"placeholder"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click"],[1,"fas","fa-times","me-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],["class","fas fa-exchange-alt me-2",4,"ngIf"],[1,"row","mt-4"],[1,"card","bg-gradient-info"],[1,"row","align-items-center"],[1,"col-8"],[1,"text-white","mb-2"],[1,"text-white","text-sm","mb-0"],[1,"col-4","text-end"],[1,"fas","fa-info-circle","fa-3x","text-white","opacity-6"],[3,"value"],[1,"fas","fa-box","text-primary","me-2"],[1,"fw-bold"],[1,"fas","fa-tag","me-1"],[1,"invalid-feedback"],[4,"ngIf"],[1,"fas","fa-user","text-info","me-2"],[1,"fas","fa-id-badge","me-1"],[1,"fas","fa-user","text-success","me-2"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-exchange-alt","me-2"]],template:function(l,m){l&1&&(n(0,"app-base",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),b("click",function(){return m.goBack()}),p(5,"i",5),i(),n(6,"div")(7,"h4",6),a(8),r(9,"translate"),i(),n(10,"p",7),a(11),r(12,"translate"),i()()()()(),n(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"h5",12),a(18),r(19,"translate"),i(),n(20,"p",13),a(21),r(22,"translate"),i()(),n(23,"div",14)(24,"form",15),b("ngSubmit",function(){return m.onSubmit()}),n(25,"div",8)(26,"div",16)(27,"label",17),a(28),r(29,"translate"),n(30,"span",18),a(31,"*"),i()(),n(32,"ng-select",19),r(33,"translate"),r(34,"async"),g(35,Xo,9,5,"ng-option",20),r(36,"async"),i(),g(37,Zo,2,1,"div",21),i(),n(38,"div",16)(39,"label",17),a(40),r(41,"translate"),n(42,"span",18),a(43,"*"),i()(),n(44,"ng-select",22),r(45,"translate"),r(46,"async"),g(47,Jo,9,5,"ng-option",20),r(48,"async"),i(),n(49,"small",23),a(50),r(51,"translate"),i()(),n(52,"div",16)(53,"label",17),a(54),r(55,"translate"),n(56,"span",18),a(57,"*"),i()(),n(58,"ng-select",24),r(59,"translate"),r(60,"async"),g(61,er,9,5,"ng-option",20),r(62,"async"),i(),g(63,ir,2,1,"div",21),n(64,"small",23),a(65),r(66,"translate"),i()(),n(67,"div",25)(68,"label",17),a(69),r(70,"translate"),n(71,"span",26),a(72),r(73,"translate"),i()(),p(74,"textarea",27),r(75,"translate"),n(76,"small",23),a(77),r(78,"translate"),i()()(),n(79,"div",8)(80,"div",9)(81,"div",28)(82,"button",29),b("click",function(){return m.goBack()}),p(83,"i",30),a(84),r(85,"translate"),i(),n(86,"button",31),r(87,"async"),g(88,nr,1,0,"span",32),r(89,"async"),g(90,ar,1,0,"i",33),r(91,"async"),a(92),r(93,"translate"),i()()()()()()()()(),n(94,"div",34)(95,"div",9)(96,"div",35)(97,"div",14)(98,"div",36)(99,"div",37)(100,"h6",38),a(101),r(102,"translate"),i(),n(103,"p",39),a(104),r(105,"translate"),i()(),n(106,"div",40),p(107,"i",41),i()()()()()()()),l&2&&(t(8),u(s(9,49,"CreateAssetTransfer")),t(3),u(s(12,51,"TransferAssetBetweenEmployees")),t(7),u(s(19,53,"TransferInformation")),t(3),u(s(22,55,"FillRequiredFields")),t(3),h("formGroup",m.transferForm),t(4),d("",s(29,57,"Asset")," "),t(4),w("is-invalid",m.immobilisationCtrl.invalid&&m.immobilisationCtrl.touched)("is-valid",m.immobilisationCtrl.valid),F("placeholder",s(33,59,"SelectAsset")),h("items",s(34,61,m.immobilisations$))("closeOnSelect",!0)("searchable",!0)("clearable",!0),t(3),h("ngForOf",s(36,63,m.immobilisations$)),t(2),h("ngIf",m.immobilisationCtrl.invalid&&m.immobilisationCtrl.touched),t(3),d("",s(41,65,"FromEmployee")," "),t(4),F("placeholder",s(45,67,"SelectEmployee")),h("items",s(46,69,m.employees$))("closeOnSelect",!0)("searchable",!0)("clearable",!0),t(3),h("ngForOf",s(48,71,m.employees$)),t(3),u(s(51,73,"CurrentAssetHolder")),t(4),d("",s(55,75,"ToEmployee")," "),t(4),w("is-invalid",m.toEmployeeCtrl.invalid&&m.toEmployeeCtrl.touched)("is-valid",m.toEmployeeCtrl.valid),F("placeholder",s(59,77,"SelectEmployee")),h("items",s(60,79,m.employees$))("closeOnSelect",!0)("searchable",!0)("clearable",!0),t(3),h("ngForOf",s(62,81,m.employees$)),t(2),h("ngIf",m.toEmployeeCtrl.invalid&&m.toEmployeeCtrl.touched),t(2),u(s(66,83,"NewAssetHolder")),t(4),d("",s(70,85,"Comment")," "),t(3),d("(",s(73,87,"Optional"),")"),t(2),F("placeholder",s(75,89,"EnterTransferComment")),t(3),u(s(78,91,"TransferReason")),t(7),d(" ",s(85,93,"Cancel")," "),t(2),h("disabled",s(87,95,m.loading$)||m.transferForm.invalid),t(2),h("ngIf",s(89,97,m.loading$)),t(2),h("ngIf",!s(91,99,m.loading$)),t(2),d(" ",s(93,101,"CreateTransfer")," "),t(9),u(s(102,103,"TransferInstructions")),t(3),d(" ",s(105,105,"TransferInstructionsText")," "))},dependencies:[ve,ee,_e,z,R,be,xe,ye,V,ze,it,T,L],encapsulation:2})};function or(o,c){o&1&&(n(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"span",19),a(6),r(7,"translate"),i()(),n(8,"p",20),a(9),r(10,"translate"),i()()()()()),o&2&&(t(6),d("",s(7,2,"Loading"),"..."),t(3),d("",s(10,4,"LoadingTransferDetails"),"..."))}function rr(o,c){if(o&1&&(n(0,"div",40)(1,"div",50),p(2,"i",42),i(),n(3,"div")(4,"p",43),a(5),i(),n(6,"p",44),a(7),r(8,"translate"),i(),n(9,"p",44),a(10),i()()()),o&2){let e=v().ngIf;t(5),I(" ",e.last_employee.first_name," ",e.last_employee.last_name," "),t(2),I(" ",s(8,6,"Matricule"),": ",e.last_employee.matricule," "),t(3),I(" ",e.last_employee.fonction," - ",e.last_employee.departement," ")}}function lr(o,c){o&1&&(n(0,"p",51),p(1,"i",52),a(2),r(3,"translate"),i()),o&2&&(t(2),d(" ",s(3,1,"NotSpecified")," "))}function sr(o,c){if(o&1&&(n(0,"div",22)(1,"div",23)(2,"h5",25),a(3),r(4,"translate"),i()(),n(5,"div",27)(6,"div",14)(7,"div",15)(8,"div",53)(9,"p",26),p(10,"i",54),a(11),i()()()()()()),o&2){let e=v().ngIf;t(3),u(s(4,2,"Comment")),t(8),d(" ",e.comment," ")}}function mr(o,c){if(o&1&&(fi(0),n(1,"div",22)(2,"div",23)(3,"div",24)(4,"div")(5,"h5",25),a(6),r(7,"translate"),i(),n(8,"p",26),a(9),r(10,"translate"),i()(),n(11,"div")(12,"span"),a(13),r(14,"translate"),r(15,"translate"),i()()()(),n(16,"div",27)(17,"div",14)(18,"div",28)(19,"h6",29),a(20),r(21,"translate"),i(),n(22,"p",30),p(23,"i",31),a(24),r(25,"date"),i()(),n(26,"div",28)(27,"h6",29),a(28),r(29,"translate"),i(),n(30,"p",30),p(31,"i",32),a(32),r(33,"date"),i()()()()(),n(34,"div",22)(35,"div",23)(36,"h5",25),a(37),r(38,"translate"),i()(),n(39,"div",27)(40,"div",14)(41,"div",28)(42,"h6",29),a(43),r(44,"translate"),i(),n(45,"p",30),p(46,"i",33),a(47),i()(),n(48,"div",28)(49,"h6",29),a(50),r(51,"translate"),i(),n(52,"p",30),p(53,"i",34),a(54),i()(),n(55,"div",28)(56,"h6",29),a(57),r(58,"translate"),i(),n(59,"p",30),p(60,"i",35),a(61),i()(),n(62,"div",28)(63,"h6",29),a(64),r(65,"translate"),i(),n(66,"p",30),p(67,"i",36),a(68),i()(),n(69,"div",28)(70,"h6",29),a(71),r(72,"translate"),i(),n(73,"p",30),p(74,"i",37),a(75),i()(),n(76,"div",28)(77,"h6",29),a(78),r(79,"translate"),i(),n(80,"p",30),p(81,"i",38),a(82),i()()()()(),n(83,"div",22)(84,"div",23)(85,"h5",25),a(86),r(87,"translate"),i()(),n(88,"div",27)(89,"div",14)(90,"div",28)(91,"h6",29),a(92),r(93,"translate"),i(),g(94,rr,11,8,"div",39)(95,lr,4,3,"ng-template",null,1,Lt),i(),n(97,"div",28)(98,"h6",29),a(99),r(100,"translate"),i(),n(101,"div",40)(102,"div",41),p(103,"i",42),i(),n(104,"div")(105,"p",43),a(106),i(),n(107,"p",44),a(108),r(109,"translate"),i(),n(110,"p",44),a(111),i()()()()()()(),g(112,sr,12,4,"div",45),n(113,"div",16)(114,"div",23)(115,"h5",25),a(116),r(117,"translate"),i()(),n(118,"div",27)(119,"div",14)(120,"div",46)(121,"h6",29),a(122),r(123,"translate"),i(),n(124,"p",30),p(125,"i",47),a(126),i()(),n(127,"div",46)(128,"h6",29),a(129),r(130,"translate"),i(),n(131,"p",30),p(132,"i",48),a(133),r(134,"date"),i()(),n(135,"div",46)(136,"h6",29),a(137),r(138,"translate"),i(),n(139,"p",30),p(140,"i",49),a(141),r(142,"date"),i()()()()(),hi()),o&2){let e=c.ngIf,l=He(96);t(6),u(s(7,42,"TransferSummary")),t(3),I("",s(10,44,"TransferID"),": ",e.id,""),t(3),O(e.status?"badge badge-lg bg-gradient-success":"badge badge-lg bg-gradient-secondary"),t(),d(" ",e.status?s(14,46,"Active"):s(15,48,"Inactive")," "),t(7),u(s(21,50,"TransferDate")),t(4),d(" ",j(25,52,e.transfer_date,"full")," "),t(4),u(s(29,55,"CreatedAt")),t(4),d(" ",j(33,57,e.created_at,"short")," "),t(5),u(s(38,60,"AssetInformation")),t(6),u(s(44,62,"AssetCode")),t(4),d(" ",e.immobilisation.code," "),t(3),u(s(51,64,"AssetName")),t(4),d(" ",e.immobilisation.name," "),t(3),u(s(58,66,"Brand")),t(4),d(" ",e.immobilisation.mark," "),t(3),u(s(65,68,"Model")),t(4),d(" ",e.immobilisation.model," "),t(3),u(s(72,70,"Category")),t(4),d(" ",e.immobilisation.categorie.name," "),t(3),u(s(79,72,"Status")),t(4),d(" ",e.immobilisation.status," "),t(4),u(s(87,74,"EmployeeTransferInformation")),t(6),u(s(93,76,"FromEmployee")),t(2),h("ngIf",e.last_employee)("ngIfElse",l),t(5),u(s(100,78,"ToEmployee")),t(7),I(" ",e.employee.first_name," ",e.employee.last_name," "),t(2),I(" ",s(109,80,"Matricule"),": ",e.employee.matricule," "),t(3),I(" ",e.employee.fonction," - ",e.employee.departement," "),t(),h("ngIf",e.comment),t(4),u(s(117,82,"SystemInformation")),t(6),u(s(123,84,"UserID")),t(4),d(" ",e.user_id," "),t(3),u(s(130,86,"CreatedAt")),t(4),d(" ",j(134,88,e.created_at,"short")," "),t(4),u(s(138,91,"LastUpdated")),t(4),d(" ",j(142,93,e.updated_at,"short")," ")}}function cr(o,c){if(o&1){let e=k();n(0,"div",16)(1,"div",17),p(2,"i",55),n(3,"h5",56),a(4),r(5,"translate"),i(),n(6,"p",57),a(7),r(8,"translate"),i(),n(9,"button",58),b("click",function(){x(e);let m=v(2);return y(m.goBack())}),p(10,"i",59),a(11),r(12,"translate"),i()()()}o&2&&(t(4),u(s(5,3,"TransferNotFound")),t(3),u(s(8,5,"TransferNotFoundMessage")),t(4),d(" ",s(12,7,"BackToList")," "))}function pr(o,c){if(o&1&&(n(0,"div",14)(1,"div",15),g(2,mr,143,96,"ng-container",21),r(3,"async"),g(4,cr,13,9,"ng-template",null,0,Lt),i()()),o&2){let e=He(5),l=v();t(2),h("ngIf",s(3,2,l.transfer$))("ngIfElse",e)}}var Mt=class o extends V{constructor(e,l,m,f){super();this.languageService=e;this.employeeService=l;this.route=m;this.router=f}loading$;transfer$;transferId;ngOnInit(){this.loading$=this.employeeService.loading$,this.route.params.subscribe(e=>{this.transferId=e.id,this.transferId&&this.loadTransferDetail()})}loadTransferDetail(){this.transfer$=this.employeeService.getTransferDetailFromServer(this.transferId),this.transfer$.subscribe()}goBack(){this.router.navigate(["/admin/employees/transfers"])}editTransfer(){this.router.navigate(["/admin/employees/transfers/edit",this.transferId])}static \u0275fac=function(l){return new(l||o)(C(D),C(P),C(Ze),C($e))};static \u0275cmp=M({type:o,selectors:[["app-detail-transfer-immo-employee"]],standalone:!1,features:[Z],decls:22,vars:15,consts:[["noTransferFound",""],["noFromEmployee",""],["nameOption","TransferDetail"],[1,"row","mb-4"],[1,"col-lg-8","col-md-6","col-12"],[1,"d-flex","align-items-center"],[1,"btn","btn-link","text-dark","p-0","me-3",3,"click"],[1,"fas","fa-arrow-left","fa-lg"],[1,"mb-0","text-dark"],[1,"text-sm","text-secondary","mb-0"],[1,"col-lg-4","col-md-6","col-12","text-end"],[1,"btn","btn-outline-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-list","me-2"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body","text-center","py-5"],["role","status",1,"spinner-border","spinner-border-lg","text-primary"],[1,"visually-hidden"],[1,"text-secondary","mt-3"],[4,"ngIf","ngIfElse"],[1,"card","mb-4"],[1,"card-header","pb-0"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"text-sm","mb-0"],[1,"card-body"],[1,"col-md-6"],[1,"text-uppercase","text-xs","font-weight-bolder","opacity-7"],[1,"text-sm","font-weight-bold","mb-3"],[1,"fas","fa-calendar-alt","text-primary","me-2"],[1,"fas","fa-clock","text-info","me-2"],[1,"fas","fa-qrcode","text-primary","me-2"],[1,"fas","fa-box","text-info","me-2"],[1,"fas","fa-tag","text-warning","me-2"],[1,"fas","fa-cogs","text-secondary","me-2"],[1,"fas","fa-folder","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],["class","d-flex align-items-center mb-3",4,"ngIf","ngIfElse"],[1,"d-flex","align-items-center","mb-3"],[1,"avatar","avatar-sm","bg-gradient-success","rounded-circle","me-3"],[1,"fas","fa-user","text-white"],[1,"text-sm","font-weight-bold","mb-0"],[1,"text-xs","text-secondary","mb-0"],["class","card mb-4",4,"ngIf"],[1,"col-md-4"],[1,"fas","fa-user-cog","text-info","me-2"],[1,"fas","fa-calendar-plus","text-success","me-2"],[1,"fas","fa-edit","text-warning","me-2"],[1,"avatar","avatar-sm","bg-gradient-info","rounded-circle","me-3"],[1,"text-sm","text-muted","mb-3"],[1,"fas","fa-minus-circle","text-secondary","me-2"],[1,"bg-light","p-3","rounded"],[1,"fas","fa-comment","text-primary","me-2"],[1,"fas","fa-exclamation-triangle","fa-3x","text-warning","mb-3"],[1,"text-dark","mb-3"],[1,"text-secondary","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-arrow-left","me-2"]],template:function(l,m){l&1&&(n(0,"app-base",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),b("click",function(){return m.goBack()}),p(5,"i",7),i(),n(6,"div")(7,"h4",8),a(8),r(9,"translate"),i(),n(10,"p",9),a(11),r(12,"translate"),i()()()(),n(13,"div",10)(14,"button",11),b("click",function(){return m.goBack()}),p(15,"i",12),a(16),r(17,"translate"),i()()(),g(18,or,11,6,"div",13),r(19,"async"),g(20,pr,6,4,"div",13),r(21,"async"),i()),l&2&&(t(8),u(s(9,5,"TransferDetails")),t(3),u(s(12,7,"ViewTransferInformation")),t(5),d(" ",s(17,9,"BackToList")," "),t(2),h("ngIf",s(19,11,m.loading$)),t(2),h("ngIf",!s(21,13,m.loading$)))},dependencies:[ee,V,T,X,L],encapsulation:2})};var dr=[{path:"",component:kt},{path:"fiche-detenteur/:id",component:Ft},{path:"detail/:id",component:Bt},{path:"buildings",component:Et},{path:"offices",component:It},{path:"transfers",component:Ot},{path:"transfers/create",component:wt},{path:"transfers/detail/:id",component:Mt}],Tt=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=Ae({type:o});static \u0275inj=Pe({imports:[Vt.forChild(dr),Vt]})};var cn=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=Ae({type:o});static \u0275inj=Pe({providers:[D,P],imports:[Ii,Ct,Tt,Wi,Hi,Xi,Fi.forRoot({loader:{provide:Bi,useFactory:Zi,deps:[ki]}}),qi,Gi,rn,zi,Ki]})};export{cn as EmployeesModule};
